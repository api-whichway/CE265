% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
  \usepackage{amssymb}
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\newenvironment{Shaded}{}{}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{#1}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifluatex
  \usepackage{selnolig}  % disable illegal ligatures
\fi

\author{}
\date{}

\begin{document}

The outline and scheme of ã€ŠComputer Networkã€‹

\begin{itemize}
\item
  Chapter 1 Computer Networks and the Internet
\item
  Chapter 2 Application Layer {[}åº”ç”¨å±‚{]}
\item
  Chapter 3 Transport Layer {[}ä¼ è¾“å±‚{]}
\item
  Chapter 4 Network Layer {[}ç½‘ç»œå±‚{]}
\item
  Chapter 5 Link Layer: Links, Access Networks, and LANs {[}é“¾è·¯å±‚{]}
\item
  Chapter 6 Wireless and Mobile Networks {[}æ— çº¿ç½‘ç»œ{]}
\end{itemize}

\hypertarget{chapter-1-roadmap}{%
\section{Chapter 1: roadmap}\label{chapter-1-roadmap}}

\hypertarget{questions}{%
\subsection{Questions}\label{questions}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item ~
  \hypertarget{ux4ec0ux4e48ux662finternet}{%
  \subparagraph{ä»€ä¹ˆæ˜¯internet?}\label{ux4ec0ux4e48ux662finternet}}
\end{enumerate}

\textbf{A.ä¸¤ä¸ªæè¿°æ–¹å¼}

\textbf{a. æè¿°å› ç‰¹ç½‘çš„å…·ä½“æ„æˆï¼Œå³æ„æˆå› ç‰¹ç½‘çš„åŸºæœ¬ç¡¬ä»¶å’Œè½¯ä»¶ç»„ä»¶}

ä¸»æœº(ç«¯ç³»ç»Ÿ)ã€é€šä¿¡é“¾è·¯ã€åˆ†ç»„äº¤æ¢æœº(è·¯ç”±å™¨---ç”¨äºç½‘ç»œæ ¸å¿ƒã€é“¾è·¯å±‚äº¤æ¢æœº---ç”¨äºæ¥å…¥ç½‘)ã€å› ç‰¹ç½‘æœåŠ¡æä¾›å•†(ISP)ã€åè®®

\textbf{b.ä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›æœåŠ¡çš„è”ç½‘åŸºç¡€è®¾æ–½ï¼š}

å› ç‰¹ç½‘ä¸ºåº”ç”¨ç¨‹åºçš„å¹³å°ï¼Œå…¶APIè§„å®šäº†è¿è¡Œåœ¨ä¸¤ä¸ªç«¯ç³»ç»Ÿä¸Šçš„è½¯ä»¶äº¤ä»˜æ•°æ®çš„æ–¹å¼

\textbf{B.ç½‘ç»œåè®®}

åè®®å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡æ ¼å¼å’Œæ¬¡åºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œ/æˆ–æ¥æ”¶ä¸€æ¡æŠ¥æ–‡æˆ–å…¶ä»–äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œã€‚

æŒæ¡è®¡ç®—æœºç½‘ç»œé¢†åŸŸçŸ¥è¯†çš„è¿‡ç¨‹å°±æ˜¯ç†è§£ç½‘ç»œåè®®çš„æ„æˆã€åŸç†å’Œå·¥ä½œæ–¹å¼çš„è¿‡ç¨‹ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item ~
  \hypertarget{ux4ec0ux4e48ux662f-protocol}{%
  \subparagraph{ä»€ä¹ˆæ˜¯ protocol?}\label{ux4ec0ux4e48ux662f-protocol}}
\end{enumerate}

\textbf{Answer:}

\begin{itemize}
\item
  ä¸€ä¸ªåè®®å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡æ ¼å¼å’Œæ¬¡åºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œ/æˆ–æ¥æ”¶ä¸€æ¡æŠ¥æ–‡æˆ–å…¶ä»–äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œã€‚
\item
  \begin{quote}
  A protocol defines the format and the order of messages exchanged
  between two or more communicating entities, as well as the actions
  taken on the trans-mission and/or receipt of a message or other event.
  \end{quote}
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item ~
  \hypertarget{adsl-ux548c-hfc-ux7684ux5f02ux540cux70b9-dsl-ux548c-hfc-ux7684ux5f02ux540cux70b9}{%
  \subparagraph{ADSL å’Œ HFC çš„å¼‚åŒç‚¹? (DSL å’Œ HFC
  çš„å¼‚åŒç‚¹?)}\label{adsl-ux548c-hfc-ux7684ux5f02ux540cux70b9-dsl-ux548c-hfc-ux7684ux5f02ux540cux70b9}}
\end{enumerate}

\textbf{Answer:}

åŒ:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  ä¸»å¹²çº¿è·¯éƒ½æ˜¯å…‰çº¤
\end{enumerate}

å¼‚:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  ADSLç”¨æˆ·æ¥å…¥ä»ä½¿ç”¨ç”µè¯çº¿,HFC ç”¨æˆ·æ¥å…¥ä½¿ç”¨åŒè½´ç”µç¼†
\item
  ADSL ä¸Šè¡Œä¿¡é“256Kbps, ä¸‹è¡Œä¿¡é“ 1Mbps; HFC å¸¦å®½å–å†³äºç”¨æˆ·çš„æ•°é‡
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item ~
  \hypertarget{ux5206ux7ec4ux4ea4ux6362ux548cux7535ux8defux4ea4ux6362ux7684ux5f02ux540cux70b9}{%
  \subparagraph{åˆ†ç»„äº¤æ¢å’Œç”µè·¯äº¤æ¢çš„å¼‚åŒç‚¹?}\label{ux5206ux7ec4ux4ea4ux6362ux548cux7535ux8defux4ea4ux6362ux7684ux5f02ux540cux70b9}}
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item ~
  \hypertarget{ux56dbux79cdux65f6ux5ef6ux662fux4ec0ux4e48}{%
  \subparagraph{å››ç§æ—¶å»¶æ˜¯ä»€ä¹ˆ?}\label{ux56dbux79cdux65f6ux5ef6ux662fux4ec0ux4e48}}
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item ~
  \hypertarget{5ux5c42ux6a21ux578b}{%
  \subparagraph{5å±‚æ¨¡å‹}\label{5ux5c42ux6a21ux578b}}
\end{enumerate}

\textbf{Answer}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  åº”ç”¨å±‚
\item
  ä¼ è¾“å±‚
\item
  ç½‘ç»œå±‚
\item
  é“¾è·¯å±‚
\item
  ç‰©ç†å±‚
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item ~
  \hypertarget{osi-7ux5c42ux6a21ux578b}{%
  \subparagraph{OSI 7å±‚æ¨¡å‹}\label{osi-7ux5c42ux6a21ux578b}}
\end{enumerate}

\textbf{Answer}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  åº”ç”¨å±‚
\item
  è¡¨ç¤ºå±‚
\item
  ä¼šè¯å±‚
\item
  è¿è¾“å±‚
\item
  ç½‘ç»œå±‚
\item
  é“¾è·¯å±‚
\item
  ç‰©ç†å±‚
\end{enumerate}

\hypertarget{11-what-is-the-internet}{%
\subsection{\texorpdfstring{1.1 what \emph{is} the
Internet?}{1.1 what is the Internet?}}\label{11-what-is-the-internet}}

\begin{quote}
2ä¸ªè§’åº¦ï¼Œ æ¶æ„ï¼šåŒ…å«äº†ä»€ä¹ˆè®¾å¤‡è¾¹ç¼˜ï¼Œ ä¸»æœºå’Œç³»ç»Ÿ æœåŠ¡ï¼šä»€ä¹ˆæ˜¯åè®®
\end{quote}

1.6

What's the Internet: ``nuts and bolts'' view

\begin{quote}
åœ¨æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ç§ç‰¹å®šçš„è®¡ç®—æœºç½‘ç»œï¼Œå³å…¬å…±å› ç‰¹ç½‘ï¼Œä½œä¸ºè®¨è®ºè®¡ç®—æœºç½‘ç»œåŠ
å…¶åè®®çš„ä¸»è¦è½½ä½“ï¼šä½†ä»€ä¹ˆæ˜¯å› ç‰¹ç½‘ï¼Ÿå›ç­”è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§æ–¹å¼ï¼šå…¶ä¸€ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæè¿°å› ç‰¹ç½‘çš„å…·ä½“æ„æˆï¼Œå³æ„æˆå› ç‰¹ç½‘çš„åŸºæœ¬ç¡¬ä»¶å’Œè½¯ä»¶ç»„ä»¶ï¼›å…¶äºŒï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ ¹æ®ä¸ºåˆ†å¸ƒå¼åº”ç”¨
æ ä¾› æœ åŠ¡ çš„ è” ç½‘ åŸº ç¡€ è®¾ æ–½ æ¥ æ è¿° å›  ç‰¹ ç½‘ æˆ‘ ä»¬ å…ˆ ä» æ è¿° å› 
ç‰¹ ç½‘ çš„ å…· ä½“ æ„ æˆ å¼€ å§‹ ï¼Œ å¹¶ ç”¨å›¾1-1ä¸¾ä¾‹è¯´æ˜æˆ‘ä»¬çš„è®¨è®ºã€
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  millions of connected computing devices:
\end{enumerate}

\begin{itemize}
\item
  \begin{itemize}
  \item
    \emph{hosts{[}ä¸»æœº{]}} \emph{=} \emph{end systems{[}ç«¯ç³»ç»Ÿ{]}}
  \item
    running \emph{network apps}
  \end{itemize}
\end{itemize}

\begin{quote}
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310084304952.png}
\caption{}
\end{figure}

\begin{quote}
å› ç‰¹ç½‘æ˜¯ä¸€ä¸ªä¸–ç•ŒèŒƒå›´çš„è®¡ç®—æœºç½‘ç»œï¼Œå³å®ƒæ˜¯ä¸€ä¸ªäº’è”äº†éåŠå…¨ä¸–ç•Œçš„æ•°ä»¥äº¿è®¡çš„è®¡ç®—è®¾å¤‡çš„ç½‘ç»œ
åœ¨ä¸ä¹…å‰ï¼Œè¿™äº›è®¡ç®—è®¾å¤‡å¤šæ•°æ˜¯ä¼ ç»Ÿçš„æ¡Œé¢PCã€Linuxå·¥ä½œç«™ä»¥åŠæ‰€è°“çš„æœåŠ¡
å™¨ï¼ˆå®ƒä»¬ç”¨äºå­˜å‚¨å’Œ ä¼ è¾“Webé¡µé¢å’Œç”µå­é‚®ä»¶æŠ¥æ–‡ç­‰ä¿¡æ¯ï¼‰ã€‚ç„¶è€Œï¼Œ
è¶Šæ¥è¶Šå¤šçš„é ä¼ ç»Ÿçš„å› ç‰¹ç½‘ç«¯ç³»ç»Ÿ ï¼ˆå¦‚ä¾¿æºæœºã€æ™ºèƒ½æ‰‹æœº ã€å¹³æ¿ç”µè„‘
ã€ç”µè§†ã€æ¸¸æˆ æœºã€Wehç›¸æœºã€æ±½å¹´
ã€ç¯å¢ƒä¼ æ„Ÿè®¾å¤‡ã€æ•°å­—ç›¸æ¡†ã€å®¶ç”¨ç”µå™¨ï¼‰å’Œå®‰å…¨ç³»ç»Ÿï¼Œæ­£åœ¨ä¸å› ç‰¹ç½‘ ç›¸è¿ã€‚çš„ç¡®
ï¼Œåœ¨è®¸å¤šéä¼ ç»Ÿè®¾
å¤‡è¿æ¥åˆ°å› ç‰¹ç½‘çš„æƒ…å†µä¸‹ï¼Œè®¡ç®—æœºç½‘ç»œè¿™ä¸ªæœ¯è¯­å¼€å§‹å¬èµ·æ¥æœ‰äº›è¿‡æ—¶äº†ï¼Œç”¨å› ç‰¹ç½‘æœ¯è¯­ä¾†è¯´.æ‰€æœ‰è¿™äº›è®¾å¤‡éƒ½ç§°ä¸º
ä¸»æœºï¼ˆ host ï¼‰æˆ–ç«¯ç³»ç»Ÿï¼ˆ end system ï¼‰ ,åˆ°2 0 1 1å¹´7æœˆä¸ºæ­¢ï¼Œæœ‰å¤§çº¦5äº¿
å°ç«¯ç³» ç»Ÿä¸å› ç‰¹ç½‘è¿æ¥ï¼Œè¿™å¹¶æœªå°† æ™ºèƒ½æ‰‹æœº ã€ä¾¿ æºæœº å’Œä»…æ–­æ–­ ç»­ç»­
ä¸å› ç‰¹ç½‘
è¿æ¥çš„è®¾å¤‡è®¡ç®—åœ¨å†…ï¼»ISC2011ï¼½ã€‚æ€»ä½“æ¥è¯´ï¼Œå› ç‰¹ç½‘ç”¨æˆ·æ•°ä¼°è®¡è¶…è¿‡20äº¿ï¼»HTI
2011ï¼½ã€‚
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{communication links}
\item
  2 fiber, copper, radio, satellite
\item
  3 transmission rate: \emph{bandwidth}
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310084312021.png}
\caption{}
\end{figure}

\begin{quote}
ç«¯ç³»ç»Ÿï¼ˆ end system ï¼‰é€šè¿‡é€šä¿¡é“¾è·¯ï¼ˆcommunication
linkï¼‰å’Œåˆ†ç»„äº¤æ¢æœºï¼ˆpacket switchï¼‰è¿æ¥åˆ°ä¸€èµ·ã€‚åœ¨1 .
2èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»è®¸å¤šç±»å‹çš„é€šä¿¡é“¾è·¯ï¼Œå®ƒä»¬ç”±ä¸
åŒç±»å‹çš„ç‰©ç†åª’ä½“ç»„æˆã€‚è¿™äº›ç‰©ç†åª’ä½“åŒ…æ‹¬åŒè½´ç”µç¼†ã€é“œçº¿ã€å…‰çº¤å’Œæ— çº¿ç”µé¢‘è°±ã€‚ä¸åŒçš„é“¾è·¯èƒ½å¤Ÿä»¥ä¸åŒçš„é€Ÿç‡ä¼ è¾“æ•°æ®ï¼Œé“¾è·¯çš„ä¼ è¾“é€Ÿç‡ä»¥æ¯”ç‰¹/ç§’åº¦é‡ï¼ˆb
i t / sï¼Œæˆ–b p s
ï¼‰ã€‚å½“ä¸€å°ç«¯ç³»ç»Ÿè¦å‘å¦ä¸€å°ç«¯ç³»ç»Ÿå‘é€æ•°æ®æ—¶ï¼Œå‘é€ç«¯ç³»ç»Ÿå°†æ•°æ®åˆ†æ®µï¼Œå¹¶ä¸ºæ¯æ®µåŠ ä¸Šé¦–éƒ¨å­—èŠ‚ã€‚ç”±æ­¤å½¢æˆçš„ä¿¡æ¯åŒ…ç”¨è®¡ç®—æœºç½‘ç»œçš„æœ¯è¯­æ¥è¯´ç§°ä¸ºåˆ†ç»„ï¼ˆp
a c k e t ï¼‰ã€‚è¿™äº›åˆ†ç»„é€šè¿‡ç½‘ç»œå‘é€åˆ°ç›®çš„ç«¯ç³»ç»Ÿï¼Œåœ¨é‚£é‡Œè¢«è£…é…æˆåˆå§‹æ•°æ®ã€‚
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{Packet switches:} forward packets (chunks of data)
\item
  1 \emph{routers} and \emph{switches}
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310084317568.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310084328468.png}
\caption{}
\end{figure}

\begin{quote}
åˆ†ç»„äº¤æ¢æœº( packet
switchï¼‰ä»å®ƒçš„ä¸€æ¡äººé€šä¿¡é“¾è·¯æ¥æ”¶åˆ°è¾¾çš„åˆ†ç»„ï¼Œå¹¶ä»å®ƒçš„ä¸€æ¡å‡ºé€šä¿¡é“¾è·¯è½¬å‘è¯¥åˆ†ç»„ã€‚å¸‚é¢ä¸Šæµè¡Œç€å„ç§ç±»å‹ã€å„å…·ç‰¹è‰²çš„åˆ†ç»„äº¤æ¢æœºï¼Œä½†åœ¨å½“ä»Šçš„å› ç‰¹ç½‘ä¸­ï¼Œä¸¤ç§æœ€è‘—åçš„ç±»
å‹æ˜¯ è·¯ç”± å™¨ï¼ˆrou terï¼‰å’Œé“¾è·¯å±‚äº¤æ¢æœºï¼ˆlink -laye r s witchï¼‰ã€‚è¿™ä¸¤ç§ç±»
å‹çš„äº¤æ¢æœº æœç€æœ€ç»ˆç›®çš„åœ°è½¬å‘
åˆ†ç»„ã€‚é“¾è·¯å±‚äº¤æ¢æœºé€šå¸¸ç”¨äºæ¥äººç½‘ä¸­ï¼Œè€Œè·¯ç”±å™¨é€šå¸¸ç”¨äºç½‘ç»œæ ¸å¿ƒä¸­ã€‚ä»å‘é€ç«¯ç³»ç»Ÿåˆ°æ¥æ”¶ç«¯ç³»ç»Ÿï¼Œä¸€ä¸ªåˆ†ç»„æ‰€ç»å†çš„ä¸€ç³»åˆ—é€šä¿¡é“¾è·¯å’Œåˆ†ç»„äº¤æ¢æœºç§°ä¸ºé€šè¿‡è¯¥ç½‘ç»œçš„è·¯å¾„ï¼ˆrouteæˆ–pathï¼‰ã€‚å› ç‰¹ç½‘æ‰€æ‰¿è½½çš„ç²¾ç¡®é€šä¿¡é‡æ˜¯éš¾ä»¥ä¼°ç®—çš„ï¼Œä¸è¿‡æ€ç§‘å…¬
å¸ï¼»Cisco VNI 2011ï¼½ä¼°è®¡ï¼Œå…¨çƒå› ç‰¹ç½‘æµé‡åœ¨2012å¹´æ¯æœˆå¤§çº¦ä¸º40EB
ï¼ˆ10"å­—èŠ‚ï¼‰ã€‚

ç”¨äºä¼ é€åˆ†ç»„çš„åˆ†ç»„äº¤æ¢ç½‘ç»œåœ¨è®¸å¤šæ–¹é¢ç±»ä¼¼äºæ‰¿è½½è¿è¾“è½¦è¾†çš„è¿è¾“ç½‘ç»œï¼Œè¯¥ç½‘ç»œåŒ…
æ‹¬äº†é«˜é€Ÿå…¬è·¯ã€å…¬è·¯å’Œç«‹äº¤æ¡¥ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸‹åˆ—æƒ…å†µï¼Œä¸€ä¸ªå·¥å‚éœ€è¦å°†å¤§é‡è´§ç‰©æ¬è¿åˆ°æ•°åƒå…¬é‡Œä»¥å¤–çš„æŸä¸ªç›®çš„åœ°ä»“åº“ã€‚åœ¨å·¥å‚ä¸­ï¼Œè´§ç‰©è¦åˆ†å¼€å¹¶è£…ä¸Šå¡è½¦è½¦é˜Ÿã€‚ç„¶åï¼Œæ¯è¾†å¡è½¦ç‹¬ç«‹åœ°é€šè¿‡é«˜é€Ÿå…¬è·¯ã€å…¬è·¯å’Œç«‹äº¤æ¡¥ç»„æˆçš„ç½‘ç»œå‘è¯¥ä»“åº“è¿é€è´§ç‰©ã€‚åœ¨ç›®çš„åœ°ä»“åº“ï¼Œå¸ä¸‹
è¿™äº›è´§ç‰©ï¼Œå¹¶ä¸”ä¸ä¸€èµ·è£…è½½çš„åŒä¸€æ‰¹è´§ç‰©çš„å…¶ä½™éƒ¨åˆ†å †æ”¾åœ¨ä¸€èµ·ã€‚å› æ­¤ï¼Œåœ¨è®¸å¤šæ–¹é¢ï¼Œåˆ†
ç»„ç±»ä¼¼äºå¡è½¦ï¼Œé€šä¿¡é“¾è·¯ç±»ä¼¼äºé«˜é€Ÿå…¬è·¯å’Œå…¬è·¯ï¼Œåˆ†ç»„äº¤æ¢æœºç±»ä¼¼äºç«‹äº¤æ¡¥ï¼Œè€Œç«¯ç³»ç»Ÿç±»ä¼¼äºå»ºç­‘ç‰©ã€‚å°±åƒå¡è½¦é€‰å–è¿è¾“ç½‘ç»œçš„ä¸€æ¡è·¯å¾„å‰è¡Œä¸€æ ·ï¼Œåˆ†ç»„åˆ™é€‰å–è®¡ç®—æœºç½‘ç»œçš„ä¸€æ¡è·¯å¾„å‰è¡Œã€‚

ç«¯ç³»ç»Ÿé€šè¿‡å› ç‰¹ç½‘æœåŠ¡æä¾›å•†ï¼ˆInternet Service Provider,
ISPï¼‰æ¥äººå› ç‰¹ç½‘ï¼ŒåŒ…æ‹¬å¦‚æœ¬åœ°ç”µç¼†æˆ–ç”µè¯å…¬ å¸é‚£æ ·çš„ä½å®…åŒºISPã€å…¬ å¸I S
Pã€å¤§å­¦I S Pï¼Œä»¥åŠé‚£äº›åœ¨æœºåœºã€æ—…é¦†ã€å’–å•¡åº—å’Œ å…¶ ä»– å…¬ å…±åœºæ‰€æä¾›W i F
iæ¥äººçš„I S Pã€‚æ¯ä¸ªI S Pæ˜¯ä¸€ä¸ªç”±å¤šä¸ªåˆ†ç»„äº¤æ¢æœºå’Œå¤šæ®µé€šä¿¡ é“¾è·¯ç»„æˆçš„ç½‘ç»œã€‚
å„I S Pä¸ºç«¯ç³»ç»Ÿæä¾›äº†å„ç§ä¸åŒç±»å‹çš„ç½‘ç»œæ¥å…¥ï¼ŒåŒ…æ‹¬å¦‚çº¿ç¼†è°ƒåˆ¶è§£è°ƒå™¨æˆ–D S
Lé‚£æ ·çš„ä½å®…å®½å¸¦æ¥äºº ã€é«˜é€Ÿå±€åŸŸç½‘æ¥äºº ã€æ— çº¿æ¥äºº å’Œ5 6 k b p
sæ‹¨å·è°ƒåˆ¶è§£è°ƒå™¨æ¥äºº ã€‚I S Pä¹Ÿ ä¸º å†…å®¹æä¾›è€…æä¾›å› ç‰¹ç½‘æ¥äººæœåŠ¡ï¼Œå°†W e
bç«™ç‚¹ç›´æ¥æ¥äººå› ç‰¹ç½‘ã€‚å› ç‰¹ç½‘å°±æ˜¯å°†ç«¯ç³»ç»Ÿå½¼æ­¤äº’è”ï¼Œå› æ­¤ä¸ºç«¯ç³»ç»Ÿæä¾›æ¥äººçš„I
S Pä¹Ÿå¿…é¡»äº’è”ã€‚ ä½å±‚çš„I S Pé€šè¿‡å›½å®¶çš„ã€ å›½é™…çš„é«™å±‚ IS P ï¼ˆå¦‚ Le ve l 3
Co mm un ic at io nsã€AT \&Tã€Sp ri nt å’Œ NT Tï¼‰äº’è”èµ·æ¥ã€‚é«˜å±‚ ISP
æ˜¯ç”±é€šè¿‡é«˜é€Ÿå…‰çº¤é“¾è·¯äº’è”çš„é«˜é€Ÿè·¯ç”±å™¨ç»„æˆçš„ã€‚æ— è®ºæ˜¯é«˜å±‚è¿˜æ˜¯ä½å±‚I S
Pç½‘ç»œï¼Œå®ƒä»¬æ¯ä¸ªéƒ½æ˜¯ç‹¬ç«‹ç®¡ç†çš„ï¼Œè¿è¡Œç€IPåè®®ï¼ˆè¯¦æƒ…è§åï¼‰ï¼Œéµä»ä¸€å®šçš„å‘½åå’Œåœ°å€ä¹ æƒ¯ã€‚æˆ‘ä»¬å°†åœ¨1.3èŠ‚ä¸­æ›´ä¸ºè¯¦ç»†åœ°è€ƒå¯ŸISPåŠå…¶äº’è”çš„æƒ…å†µã€‚
\end{quote}

1.7

``Fun'' internet appliances

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310084351698.png}
\caption{}
\end{figure}

1.8

What's the Internet: ``nuts and bolts'' view

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{Internet:} ``network of networks''
\item
  \begin{itemize}
  \item
    Interconnected{[}ç›¸äº’è¿æ¥çš„ğŸ”—{]} ISPs
  \end{itemize}
\item
  \emph{protocols} control sending, receiving of msgs
\item
  \begin{itemize}
  \item
    e.g., TCP, IP, HTTP, Skype, 802.11
  \end{itemize}
\item
  \emph{Internet standards}
\item
  \begin{itemize}
  \item
    \hl{RFC: Request for comments}
  \item
    \hl{IETF: Internet Engineering Task Force}
  \end{itemize}
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310084454901.png}
\caption{}
\end{figure}

\begin{quote}
ç«¯ç³»ç»Ÿã€ åˆ†ç»„äº¤æ¢æœºå’Œ å…¶ ä»–å› ç‰¹ç½‘éƒ¨ä»¶éƒ½è¦è¿è¡Œä¸€ç³»åˆ— åè®®ï¼ˆp r o t o c o
l ï¼‰ï¼Œè¿™äº›åè®®æ§åˆ¶å› ç‰¹ç½‘ä¸­ä¿¡æ¯çš„æ¥æ”¶å’Œå‘é€ã€‚

TCPï¼ˆTransmission Control Protocol ,ä¼ è¾“æ§åˆ¶åè®®ï¼‰å’ŒI P ï¼ˆ I n t e r n e
t P r o t o c o l ,ç½‘é™…åè®®ï¼‰æ˜¯å› ç‰¹ç½‘ä¸­ä¸¤ä¸ªæœ€ä¸ºé‡è¦çš„åè®®ã€‚I
Påè®®å®šä¹‰äº†åœ¨è·¯ ç”± å™¨ å’Œ ç«¯ ç³» ç»Ÿ ä¹‹ é—´ å‘ é€ å’Œ æ¥ æ”¶ çš„ åˆ† ç»„æ ¼
å¼ã€‚å› ç‰¹ ç½‘ çš„ä¸»è¦åè®® ç»Ÿ ç§°ä¸ºT C P / I Pã€‚æˆ‘ä»¬ åœ¨è¿™ä¸€ç« ä¸­å°±å¼€å§‹æ¥è§¦è¿™äº›
åè®®ã€‚ ä½†è¿™ä»… ä»…æ˜¯ä¸ªå¼€å§‹ï¼Œæœ¬ä¹¦çš„è®¸å¤šåœ°æ–¹ä¸è®¡ç®—æœºç½‘ç»œåè®®æœ‰å…³ã€‚
é‰´äºå› ç‰¹ç½‘åè®®çš„é‡è¦æ€§ï¼Œæ¯ä¸ªäººå°±å„ä¸ªåè®®åŠå…¶ä½œç”¨å–å¾—ä¸€è‡´è®¤è¯†æ˜¯å¾ˆé‡è¦çš„ï¼Œè¿™æ ·
äºº ä»¬ å°± èƒ½ å¤Ÿ åˆ› é€  å åŒ å·¥ ä½œ çš„ ç³» ç»Ÿ å’Œ äº§ å“ ã€‚ è¿™ æ­£ æ˜¯ æ ‡ å‡† å‘
æŒ¥ ä½œ ç”¨ çš„ åœ° æ–¹ . å›  ç‰¹ ç½‘ æ ‡ å‡† (Internet
standard)ç”±å› ç‰¹ç½‘å·¥ç¨‹ä»»åŠ¡ç»„(Internet Engineering Task Force, IETF) IETF
2 0 1 2 ï¼½ç ”å‘:

I E T Fçš„æ ‡å‡†æ–‡æ¡£ç§°ä¸ºè¯·æ±‚è¯„è®º( Request For Comment , R F C ) RFCæœ€åˆæ˜¯ä½œ
ä¸º æ™® é€š çš„ è¯· æ±‚ è¯„ è®º ( å›  æ­¤ è€Œ å¾— å ) ï¼Œ ä»¥ è§£ å†³ å›  ç‰¹ ç½‘ å…ˆ é©± è€…
ä»¬ é¢ ä¸´ çš„ ç½‘ ç»œ å’Œ å è®® é—® é¢˜ï¼»A ll ma n 20 11 ï¼½RF Cæ–‡æ¡£ å¾€å¾€ æ˜¯æŠ€
æœ¯æ€§ å¾ˆå¼º å¹¶ç›¸å½“è¯¦ç»† çš„ã€‚å®ƒä»¬å®šä¹‰äº† TC Pã€IPã€HT TP ( ç”¨ äº W e b ) å’Œ S
M T P ( ç”¨ äº ç”µ å­ é‚® ä»¶ ) ç­‰ å è®® ã€‚ ç›® å‰ å·² ç» æœ‰ å°† è¿‘ 6 0 0 0 ä¸ª
R F C â€¢ å…¶ ä»– ç»„
ç»‡ä¹Ÿåœ¨åˆ¶å®šç”¨äºç½‘ç»œç»„ä»¶çš„æ ‡å‡†ï¼Œæœ€å¼•äººæ³¨ç›®çš„æ˜¯é’ˆå¯¹ç½‘ç»œé“¾è·¯çš„æ ‡å‡† ã€‚
ä¾‹å¦‚ï¼ŒI E E E 8 0 2 LAN/MANæ ‡å‡†åŒ–å§”å‘˜ä¼šï¼»IEEE 802
202ï¼½åˆ¶å®šäº†ä»¥å¤ªç½‘å’Œæ— çº¿WiFiçš„æ ‡å‡†
\end{quote}

1.9

What's the Internet: a service view

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{Infrastructure that provides services to applications:}
\item
  \begin{itemize}
  \item
    Web, VoIP, email, games, e-commerce, social nets, \ldots{}
  \end{itemize}
\item
  \emph{provides programming interface to apps}
\item
  \begin{itemize}
  \item
    hooks that allow sending and receiving app programs to ``connect''
    to Internet
  \item
    provides service options, analogous to postal service
  \end{itemize}
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310084800821.png}
\caption{}
\end{figure}

\begin{quote}
å‰é¢çš„è®¨è®ºå·²ç»è¾¨è¯†äº†æ„æˆå› ç‰¹ç½‘çš„è®¸å¤šéƒ¨ä»¶ ã€‚ ä½†æ˜¯æˆ‘ä»¬ ä¹Ÿèƒ½ä» ä¸€ ä¸ªå®Œå…¨ ä¸
åŒçš„è§’åº¦ï¼Œå³ ä»
ä¸ºåº”ç”¨ç¨‹åºæä¾›æœåŠ¡çš„åŸºç¡€è®¾æ–½çš„è§’åº¦æ¥æè¿°å› ç‰¹ç½‘ã€‚è¿™äº›åº”ç”¨ç¨‹åºåŒ…æ‹¬ç”µå­é‚®
ä»¶ ã€ W e b å†² æµª ã€ å³ æ—¶ è®¯ æ¯ ã€ ç¤¾ äº¤ ç½‘ ç»œ ã€ I P è¯­ éŸ³ ( V o I P )
ã€ æµ å¼ è§† é¢‘ ã€ åˆ† å¸ƒ å¼ æ¸¸ æˆã€å¯¹ ç­‰ ( p e e r - t o - p e e r , P 2
P ) æ–‡ ä»¶ å…± äº« ã€ å›  ç‰¹ ç½‘ ç”µ è§† ã€ è¿œ ç¨‹ æ³¨ å†Œ ç­‰ ç­‰ ã€‚ è¿™ äº› åº” ç”¨
ç¨‹åºç§°ä¸º åˆ† å¸ƒå¼åº”ç”¨ç¨‹åº( d i s t r i b u t e d a p p l i c a t i o n )
,å› ä¸ºå®ƒä»¬æ¶‰åŠå¤šå°ç›¸äº’ äº¤æ¢æ•°æ®çš„ç«¯ç³»ç»Ÿã€‚é‡ è¦
çš„æ˜¯ï¼Œå› ç‰¹ç½‘åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ç«¯ç³»ç»Ÿä¸Šï¼Œå³å®ƒä»¬å¹¶ä¸è¿è¡Œåœ¨ç½‘ç»œæ ¸å¿ƒä¸­çš„åˆ†ç»„äº¤æ¢æœºä¸­
ã€‚å°½ç®¡åˆ†ç»„äº¤æ¢æœºä¿ƒè¿›ç«¯ç³»ç»Ÿä¹‹é—´çš„æ•°æ®äº¤æ¢ï¼Œä½†å®ƒä»¬å¹¶ä¸ å…³å¿ƒä½œ
ä¸ºæ•°æ®çš„æºæˆ–å®¿çš„åº”ç”¨ç¨‹åºã€‚

æˆ‘ä»¬ç¨æ·±äººåœ°æ¢è®¨ä¸€ä¸‹ä¸ºåº”ç”¨ç¨‹åºæä¾›æœåŠ¡çš„åŸºç¡€è®¾æ–½çš„å«ä¹‰ã€‚ä¸ºæ­¤ï¼Œå‡å®šä½ å¯¹åˆ†å¸ƒå¼å› ç‰¹ç½‘åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªæ¿€åŠ¨äººå¿ƒçš„æ–°æ€æƒ³ï¼Œå®ƒå¯èƒ½å¤§å¤§åœ°é€ ç¦äºäººç±»ï¼Œæˆ–è€…å®ƒå¯èƒ½ç›´æ¥ä½¿ä½ å¯Œæœ‰å’Œå‡ºåã€‚ä½ å°†å¦‚ä½•å°†è¿™ç§æ€æƒ³è½¬æ¢æˆä¸ºä¸€ç§å®é™…çš„å› ç‰¹ç½‘åº”ç”¨ç¨‹åºå‘¢ï¼Ÿå› ä¸ºåº”ç”¨ç¨‹åºè¿è¡Œåœ¨ç«¯ç³»ç»Ÿä¸Šï¼Œæ‰€ä»¥
ä½ å°†éœ€è¦ç¼–å†™è¿è¡Œåœ¨ç«¯ç³»ç»Ÿä¸Šçš„ä¸€ äº›è½¯ä»¶ ã€‚ ä¾‹å¦‚ï¼Œä½  å¯èƒ½ç”¨ J a v aã€Cæˆ–
python ç¼–å†™è½¯ä»¶ã€‚æ­¤æ—¶ï¼Œå› ä¸ºä½ åœ¨ç ”å‘ä¸€ç§åˆ†å¸ƒå¼å› ç‰¹ç½‘åº”ç”¨ç¨‹åºï¼Œè¿è¡Œåœ¨ä¸
åŒç«¯ç³»ç»Ÿä¸Šçš„è½¯ä»¶å°†éœ€è¦äº’ç›¸å‘é€æ•°æ®åœ¨è¿™é‡Œæˆ‘ä»¬ç¢°åˆ° ä¸€ ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œè¿™å¯¼è‡´äº†
å¦
ä¸€ç§æè¿°å› ç‰¹ç½‘çš„æ–¹æ³•ï¼Œå³å°†å› ç‰¹ç½‘æè¿°ä¸ºåº”ç”¨ç¨‹åºçš„å¹³å°ã€‚è¿è¡Œåœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„åº”ç”¨ç¨‹åº

æ€æ ·æ‰èƒ½æŒ‡ä»¤å› ç‰¹ç½‘å‘è¿è¡Œåœ¨å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„è½¯ä»¶å‘é€æ•°æ®å‘¢ï¼Ÿ
ä¸å› ç‰¹ç½‘ç›¸è¿çš„ç«¯ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£(Ap pl ic at io n Pr og ra
mming Interface, A P I )ï¼Œè¯¥A P
Iè§„å®šäº†è¿è¡Œåœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„è½¯ä»¶è¯·æ±‚å› ç‰¹ç½‘åŸºç¡€è®¾æ–½å‘è¿è¡Œåœ¨å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„
ç‰¹å®šç›® çš„åœ°è½¯ä»¶ äº¤ ä»˜æ•° æ®çš„æ–¹ å¼ã€‚å› ç‰¹ç½‘A P
Iæ˜¯ä¸€å¥—å‘é€è½¯ä»¶å¿…é¡»éµå¾ªçš„è§„åˆ™é›†åˆï¼Œå›  æ­¤ å› ç‰¹ ç½‘ èƒ½å¤Ÿ å°† æ•° æ®äº¤ ä»˜ç»™ ç›®
çš„åœ°ã€æˆ‘ä»¬å°†åœ¨ç¬¬2ç« è¯¦ç»†è®¨è®ºå› ç‰¹ç½‘A P I ,æ­¤æ—¶ï¼Œæˆ‘ä»¬ åš ä¸€
ä¸ªç®€å•çš„ç±»æ¯”ï¼Œåœ¨æœ¬ä¹¦ ä¸­æˆ‘ä»¬å°†ç»å¸¸ä½¿ç”¨è¿™ä¸ªç±»æ¯”ã€‚å‡å®šA l i c
eä½¿ç”¨é‚®æ”¿æœåŠ¡å‘ B o b å‘ ä¸€ å° ä¿¡ ã€‚ å½“ ç„¶ ï¼Œ A l i c e ä¸ èƒ½ åª æ˜¯ å†™
äº† è¿™ å° ä¿¡ ( ç›¸ å…³ æ•° æ® ) ç„¶ åæŠŠè¯¥ä¿¡ ä¸¢ å‡ºçª—å¤–ã€‚ç›¸åï¼Œé‚®æ”¿æœåŠ¡è¦æ±‚A l
i c eå°†ä¿¡æ”¾äºº ä¸€ ä¸ª ä¿¡å°ä¸­ï¼›åœ¨ä¿¡å°çš„ä¸­å¤®å†™ ä¸ŠB o bçš„å…¨ å
ã€åœ°å€å’Œé‚®æ”¿ç¼–ç ï¼›å°ä¸Šä¿¡å°ï¼›åœ¨ä¿¡å°çš„å³ä¸Šè§’è´´ä¸Šé‚®ç¥¨ï¼›æœ€åå°†è¯¥ä¿¡å°ä¸¢è¿›ä¸€ä¸ªé‚®å±€çš„é‚®æ”¿æœåŠ¡é‚®ç®±ä¸­
ã€‚å› æ­¤ï¼Œè¯¥é‚®æ”¿æœåŠ¡æœ‰è‡ªå·±çš„``é‚®æ”¿æœåŠ¡A P I ''æˆ–ä¸€å¥—è§„åˆ™ï¼Œè¿™æ˜¯A l i c
eå¿…é¡»éµå¾ªçš„ï¼Œ

è¿™æ ·é‚®æ”¿æœåŠ¡æ‰èƒ½å°†è‡ªå·±çš„ä¿¡ ä»¶ äº¤ ä»˜ç»™B o b .
.åŒç†ï¼Œå› ç‰¹ç½‘ä¹Ÿæœ‰ä¸€ä¸ªå‘é€æ•°æ®çš„ç¨‹åºå¿…é¡»éµå¾ªçš„API,ä½¿å› ç‰¹ç½‘å‘æ¥æ”¶æ•°æ®çš„ç¨‹åºäº¤ä»˜æ•°æ®ã€‚
å½“ç„¶ï¼Œé‚®æ”¿æœåŠ¡å‘é¡¾å®¢æä¾›äº†å¤šç§æœåŠ¡ï¼Œå¦‚ç‰¹å¿«ä¸“é€’ã€æŒ‚å·ã€æ™®é€šæœåŠ¡ç­‰ã€‚åŒæ ·çš„ï¼Œå› ç‰¹ç½‘å‘åº”ç”¨ç¨‹åºæä¾›
äº†å¤šç§æœåŠ¡å½“ä½ ç ”å‘ ä¸€ç§å› ç‰¹ç½‘åº”ç”¨ç¨‹åºæ—¶ï¼Œä¹Ÿå¿…é¡»ä¸º
ä½ çš„åº”ç”¨ç¨‹åºé€‰æ‹©å…¶ä¸­çš„ä¸€ç§å› ç‰¹ç½‘æœåŠ¡ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬2ç« ä¸­æè¿°å› ç‰¹ç½‘æœåŠ¡.
\end{quote}

1.10

\emph{human protocols:}

\begin{itemize}
\item
  ``what's the time?''
\item
  ``I have a question''
\item
  introductions
\end{itemize}

\ldots{} specific msgs sent

\ldots{} specific actions taken when msgs received, or other events

\begin{quote}
ä¹Ÿè®¸ç†è§£è®¡ç®—æœºç½‘ç»œåè®®æ¦‚å¿µçš„ä¸€ ä¸ªæœ€å®¹æ˜“åŠæ³•æ˜¯ï¼Œå…ˆ ä¸æŸäº›
äººç±»æ´»åŠ¨è¿›è¡Œç±»æ¯”ï¼Œå› ä¸ºæˆ‘ä»¬ äººç±»æ— æ—¶æ— åˆ»
ä¸åœ¨æ‰§è¡Œåè®®ã€‚è€ƒè™‘å½“ä½ æƒ³è¦å‘æŸäººè¯¢é—®æ—¶é—´æ—¶å°†è¦æ€æ ·åš ã€‚å›¾1 - 2ä¸­æ˜¾ç¤ºäº†
ä¸€ç§å…¸å‹çš„ äº¤ äº’è¿‡ ç¨‹ã€‚ äººç±»åè®® ï¼ˆ è‡³å°‘è¯´æ˜¯ å¥½çš„ è¡Œä¸ºæ–¹ å¼ï¼‰
è¦æ±‚ä¸€æ–¹é¦–å…ˆ è¿› è¡Œ é—® å€™ ï¼ˆ å›¾ 1 - 2 ä¸­ çš„ ç¬¬ ä¸€ ä¸ª `` ä½  å¥½ '' ï¼‰ ï¼Œ ä»¥
å¼€ å§‹ ä¸ å¦ ä¸€ ä¸ª äºº çš„ é€š ä¿¡ ã€‚ å¯¹ `` ä½  å¥½ '' çš„ å…¸å‹ å“ åº” æ˜¯ è¿” å›
ä¸€ ä¸ª " ä½  å¥½ '' æŠ¥ æ–‡ ã€‚ æ­¤ äºº ç”¨ ä¸€ ä¸ª çƒ­ æƒ… çš„ `` ä½  å¥½ '' è¿› è¡Œ å“
åº” ï¼Œ éš å« ç€ ä¸€ ç§æŒ‡ ç¤º ï¼Œ è¡¨ æ˜ èƒ½ å¤Ÿ ç»§ ç»­ å‘ é‚£ äºº è¯¢ é—® æ—¶ é—´ äº†
ã€‚ å¯¹ æœ€ åˆ çš„ `` ä½  å¥½ '' çš„ ä¸ åŒ å“ åº” ï¼ˆ ä¾‹ å¦‚ `` ä¸ è¦çƒ¦ æˆ‘ ï¼ ''ï¼Œ
æˆ– `` æˆ‘ ä¸ ä¼š è¯´ è‹± è¯­ ''ï¼Œ æˆ– æŸ äº› ä¸ åˆ æ—¶ å®œ çš„ å› ç­” ï¼‰ ä¹Ÿ è®¸ è¡¨
æ˜ äº† ä¸€ ä¸ª å‹‰ å¼ºçš„æˆ–ä¸èƒ½è¿›è¡Œçš„é€šä¿¡ ã€‚åœ¨æ­¤æƒ…å†µ
ä¸‹ï¼ŒæŒ‰ç…§äººç±»åè®®ï¼Œå‘è¯è€…ä¹Ÿè®¸å°†ä¸èƒ½å¤Ÿè¯¢é—®æ—¶é—´äº† ã€‚æœ‰æ—¶ï¼Œé—®çš„é—®é¢˜æ ¹æœ¬å¾—ä¸
åˆ° ä»» ä½•å›ç­”ï¼Œåœ¨æ­¤æƒ…å†µ ä¸‹ï¼Œå‘è¯è€…é€šå¸¸ä¼šæ”¾å¼ƒå‘è¿™ä¸ª äººè¯¢é—®æ—¶é—´ã€‚æ³¨æ„åœ¨æˆ‘ä»¬
äººç±»åè®®ä¸­ï¼Œæœ‰æˆ‘ä»¬ å‘é€çš„ç‰¹å®šæŠ¥æ–‡ï¼Œä¹Ÿæœ‰æˆ‘ä»¬æ ¹æ®æ¥æ”¶åˆ°çš„åº”ç­”æŠ¥æ–‡æˆ–å…¶ ä»–
äº‹
ä»¶é‡‡å–çš„åŠ¨ä½œï¼ˆä¾‹å¦‚åœ¨æŸä¸ªç»™å®šçš„æ—¶é—´å†…æ²¡æœ‰å›ç­”ï¼‰næ˜¾ç„¶ï¼Œå‘é€å’Œæ¥æ”¶çš„æŠ¥æ–‡ï¼Œä»¥åŠè¿™äº›æŠ¥æ–‡å‘é€å’Œæ¥æ”¶æˆ–å…¶
ä»– äº‹ ä»¶ å‡ºç°æ—¶æ‰€é‡‡å–çš„åŠ¨ ä½œï¼Œè¿™äº›åœ¨ä¸€ ä¸ª äººç±»åè®®ä¸­èµ·åˆ°
äº†æ ¸å¿ƒä½œç”¨ã€‚å¦‚æœäºº ä»¬ ä½¿ç”¨ä¸ åŒçš„åè®®ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœä¸€ ä¸ª äººè®²ç¤¼è²Œï¼Œè€Œå¦ ä¸€
äºº ä¸è®²ç¤¼è²Œï¼Œæˆ–ä¸€ ä¸ª äººæ˜ç™½æ—¶é—´è¿™ä¸ªæ¦‚å¿µï¼Œè€Œå¦ ä¸€ äºº å´
ä¸çŸ¥é“ï¼‰ï¼Œè¯¥åè®®å°±ä¸èƒ½äº’ åŠ¨ï¼Œå› è€Œä¸èƒ½å®Œæˆæœ‰ç”¨ çš„ å·¥ ä½œ ã€‚ åœ¨ ç½‘ ç»œ ä¸­ è¿™
ä¸ª é“ ç† åŒ æ · æˆ ç«‹ ã€‚ å³ ä¸º äº† å®Œ æˆ ä¸€ é¡¹ å·¥ ä½œ ï¼Œ è¦ æ±‚ ä¸¤ ä¸ª ï¼ˆ æˆ–
å¤š ä¸ª ï¼‰é€šä¿¡å®ä½“è¿è¡Œç›¸åŒçš„åè®®ã€‚

æˆ‘ä»¬ å†è€ƒè™‘ç¬¬äºŒ ä¸ª äººç±»ç±»æ¯”çš„ä¾‹å­ã€‚
å‡å®šä½ æ­£åœ¨å¤§å­¦è¯¾å ‚é‡Œä¸Šè¯¾ï¼ˆä¾‹å¦‚ä¸Šçš„æ˜¯è®¡ç®—æœº ç½‘ ç»œ è¯¾ ç¨‹ ï¼‰ ã€‚ æ•™ å¸ˆ æ­£ åœ¨
å”  å”  å¨ å¨ åœ° è®² è¿° å è®® ï¼Œ è€Œ ä½  å›° æƒ‘ ä¸ è§£ ã€‚ è¿™ å æ•™ å¸ˆ åœ ä¸‹ æ¥
é—® ï¼š`` åŒå­¦ä»¬æœ‰ä»€ ä¹ˆé—®é¢˜å—ï¼Ÿ''ï¼ˆæ•™å¸ˆå‘é€å‡º ä¸€
ä¸ªæŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡è¢«æ‰€æœ‰æ²¡æœ‰ç¡è§‰çš„å­¦ç”Ÿæ¥æ”¶åˆ° äº† ã€‚ ï¼‰ ä½  ä¸¾ èµ· äº† æ‰‹ï¼ˆå‘æ•™
å¸ˆå‘é€äº† ä¸€ ä¸ªéšå«çš„æŠ¥ æ–‡ï¼‰ ï¼Œ è¿™ä½æ•™ å¸ˆé¢å¸¦ å¾®ç¬‘åœ°ç¤ºæ„ä½ è¯´: `` è¯·
è®²\ldots{} \ldots{} '' ï¼ˆæ•™å¸ˆå‘ å‡ºçš„è¿™ä¸ªæŠ¥æ–‡é¼“åŠ±
ä½ æå‡ºé—®é¢˜ï¼Œæ•™å¸ˆå–œæ¬¢è¢«é—®é—®é¢˜ã€‚ï¼‰æ¥ç€ä½ å°±é—®äº† é—® é¢˜ ï¼ˆ å³ å‘ è¯¥ æ•™ å¸ˆ ä¼ 
è¾“ äº† ä½  çš„ æŠ¥ æ–‡ ï¼‰ ã€‚ æ•™ å¸ˆ å¬ å– äº† ä½  çš„ é—® é¢˜ ï¼ˆ å³ æ¥ æ”¶ äº† ä½  çš„
é—® é¢˜ æŠ¥æ–‡ï¼‰å¹¶åŠ  ä»¥å›ç­”ï¼ˆå‘ ä½  ä¼ è¾“äº†å›ç­”æŠ¥æ–‡ï¼‰ã€‚æˆ‘ä»¬ å† ä¸€æ¬¡çœ‹åˆ°
äº†æŠ¥æ–‡çš„å‘é€å’Œæ¥æ”¶ï¼Œä»¥ åŠ è¿™ äº› æŠ¥ æ–‡ å‘ é€ å’Œ æ¥ æ”¶ æ—¶ æ‰€ é‡‡ å– çš„ ä¸€
ç³» åˆ— çº¦ å®š ä¿— æˆ çš„ åŠ¨ ä½œ ï¼Œ è¿™ äº› æ˜¯ è¿™ ä¸ª `` æ é—® ä¸ å› ç­” ''
åè®®çš„æ ¸å¿ƒã€‚
\end{quote}

\emph{network protocols:}

\begin{itemize}
\item
  machines rather than humans
\item
  all communication activity in Internet governed by protocols
\end{itemize}

\emph{protocols} \emph{define} \emph{format**,} \emph{order} \emph{of}
\emph{msgs sent and received} \emph{among network entities, and}
\emph{actions taken} \emph{on msg transmission, receipt}

\begin{quote}
ç½‘ç»œåè®®ç±»ä¼¼ äº äººç±»åè®®ï¼Œé™¤äº† äº¤æ¢æŠ¥æ–‡å’Œé‡‡å– åŠ¨
ä½œçš„å®ä½“æ˜¯æŸäº›è®¾å¤‡çš„ç¡¬ä»¶æˆ–è½¯ä»¶ç»„ä»¶ï¼ˆè¿™äº›è®¾å¤‡å¯
ä»¥æ˜¯è®¡ç®—æœºã€æ™ºèƒ½æ‰‹æœºã€å¹³æ¿ç”µè„‘ã€è·¯ç”±å™¨æˆ–å…¶ ä»–
å…·æœ‰ç½‘ç»œèƒ½åŠ›çš„è®¾å¤‡ï¼‰ã€‚åœ¨å› ç‰¹ç½‘ä¸­ï¼Œå‡¡æ˜¯æ¶‰åŠ ä¸¤
ä¸ªæˆ–å¤šä¸ªè¿œç¨‹é€šä¿¡å®ä½“çš„æ‰€æœ‰æ´»åŠ¨éƒ½å— åè®®çš„åˆ¶çº¦ã€‚ ä¾‹ å¦‚ ï¼Œ åœ¨ ä¸¤ å° ç‰© ç†
ä¸Š è¿ æ¥ çš„ è®¡ ç®— æœº ä¸­ ï¼Œ ç¡¬ ä»¶ å® ç° çš„ å è®® æ§ åˆ¶ äº† åœ¨ ä¸¤ å— ç½‘ ç»œ
æ¥ å£ å¡ é—´ çš„" çº¿ ä¸Š '' çš„ æ¯” ç‰¹ æµ ï¼› åœ¨ ç«¯ ç³» ç»Ÿ ä¸­ ï¼Œ æ‹¥ å¡ æ§ åˆ¶ å
è®® æ§ åˆ¶ äº† åœ¨ å‘ é€ æ–¹ å’Œ æ¥ æ”¶ æ–¹ ä¹‹ é—´ ä¼  è¾“ çš„ åˆ†ç»„ å‘ é€ çš„ é€Ÿ ç‡
ã€‚ å è®® åœ¨ å›  ç‰¹ ç½‘ ä¸­ åˆ° å¤„ è¿ è¡Œ ï¼Œ å›  æ­¤ æœ¬ ä¹¦ çš„ å¤§ é‡ ç¯‡ å¹… ä¸ è®¡
ç®— æœº ç½‘ ç»œ å è®®æœ‰å…³ã€‚ ä»¥å¤§å®¶å¯èƒ½ç†Ÿæ‚‰çš„ä¸€ ä¸ªè®¡ç®—æœºç½‘ç»œåè®®ä¸º
ä¾‹ï¼Œè€ƒè™‘å½“ä½  å‘ ä¸€ ä¸ªW e bæœåŠ¡ å™¨ å‘ å‡ºè¯·æ±‚ï¼ˆå³ ä½ åœ¨W e bæµè§ˆå™¨
ä¸­é”®äººä¸€ä¸ªW e bç½‘é¡µçš„U R L ï¼‰æ—¶æ‰€å‘ç”Ÿçš„æƒ…å†µã€‚å›¾1 - 2å³åŠéƒ¨åˆ†æ˜¾ç¤º
äº†è¿™ç§æƒ…å½¢ã€‚é¦–å…ˆï¼Œä½ çš„è®¡ç®—æœºå°†å‘è¯¥WebæœåŠ¡å™¨å‘é€ä¸€æ¡è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼Œå¹¶ç­‰å¾…å›ç­”ã€‚
è¯¥ W e b æœ åŠ¡ å™¨ å°† æœ€ ç»ˆ èƒ½ æ¥ æ”¶ åˆ° è¿ æ¥ è¯· æ±‚ æŠ¥ æ–‡ ï¼Œ å¹¶ è¿” å› ä¸€
æ¡ è¿ æ¥ å“ åº” æŠ¥ æ–‡ ã€‚ å¾— çŸ¥ è¯· æ±‚ è¯¥ W e bæ–‡æ¡£æ­£å¸¸ä»¥
åï¼Œè®¡ç®—æœºåˆ™åœ¨ä¸€æ¡G E TæŠ¥æ–‡ä¸­ å‘é€è¦ä»è¿™å°W e bæœåŠ¡ å™¨ ä¸Š
å–å›çš„ç½‘é¡µåå­—ã€‚æœ€åï¼ŒWebæœåŠ¡å™¨å‘è®¡ç®—æœºè¿”å›è¯¥Webç½‘é¡µï¼ˆæ–‡ä»¶ï¼‰
\end{quote}

1.11 \#\#\# \hl{â­ï¸ What's a protocol?}

\begin{quote}
åè®®ï¼Œ å®šä¹‰äº†æŠ¥æ–‡å’Œæ¬¡åºï¼ŒæŠ¥æ–‡å‘é€å’Œæ¥æ”¶é‡‡å–çš„åŠ¨ä½œ
\end{quote}

\textbf{Answer:}

\begin{itemize}
\item
  {[} \hl{defines, format and the order exchanged between entities,
  actions on transmission and receopt} {]} A protocol defines the format
  and the order of messages exchanged between two or more communicating
  entities, as well as the actions taken on the trans-mission and/or
  receipt of a message or other event.
\end{itemize}

\begin{quote}
ä¸€ä¸ªåè®®å®šä¹‰äº†åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡æ ¼å¼å’Œæ¬¡åºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œ/æˆ–æ¥æ”¶ä¸€æ¡æŠ¥æ–‡æˆ–å…¶ä»–äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œã€‚
\end{quote}

a human protocol and a computer network protocol:

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310084619368.png}
\caption{}
\end{figure}

\begin{quote}
TCP ä¸‰æ¬¡æ¡æ‰‹ğŸ¤
\end{quote}

\emph{Q:} other human protocols?

\hypertarget{12-network-edge-ux7f51ux7edcux8fb9ux7f18--end-systems-access-networks-links}{%
\subsection{1.2 network edge {[}ç½‘ç»œè¾¹ç¼˜{]} : end systems, access
networks,
links}\label{12-network-edge-ux7f51ux7edcux8fb9ux7f18--end-systems-access-networks-links}}

\begin{quote}
\textbf{2.*}*ç½‘ç»œè¾¹ç¼˜**

a.ç«¯ç³»ç»Ÿ:ä½äºè¾¹ç¼˜çš„ä¸å› ç‰¹ç½‘ç›¸è¿çš„è®¡ç®—æœºå’Œå…¶ä»–è®¾å¤‡

b.æ¥å…¥ç½‘:å°†ç«¯ç³»ç»Ÿè¿æ¥åˆ°è¾¹ç¼˜è·¯ç”±å™¨çš„ç‰©ç†é“¾è·¯

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210420083016169.png}
\caption{}
\end{figure}
\end{quote}

1.13

A closer look at network structure

\begin{itemize}
\item
  \emph{network edge:}
\item
  \begin{itemize}
  \item
    hosts: clients and servers
  \item
    servers often in data centers
  \end{itemize}
\item
  \emph{access networks, physical media:} wired, wireless communication
  links
\item
  \emph{network core:}
\item
  \begin{itemize}
  \item
    interconnected routers
  \item
    network of networks
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310090054142.png}
\caption{}
\end{figure}

1.14

Access networks and physical media

\emph{Q: How to connect end systems to edge router?}

\begin{itemize}
\item
  residential access nets
\item
  institutional access networks (school, company)
\item
  mobile access networks
\end{itemize}

\emph{keep in mind:}

\begin{itemize}
\item
  bandwidth (bits per second) of access network?
\item
  shared or dedicated?
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310090116089.png}
\caption{}
\end{figure}

1.15

Access net: \hl{digital subscriber line (DSL)}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310090147366.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    use \emph{existing} telephone line to central office DSLAM
  \item
    \begin{itemize}
    \item
      data over DSL phone line goes to Internet
    \item
      voice over DSL phone line goes to telephone net
    \end{itemize}
  \item
    \textless{} 2.5 Mbps upstream transmission rate (typically
    \textless{} 1 Mbps)
  \item
    \textless{} 24 Mbps downstream transmission rate (typically
    \textless{} 10 Mbps)
  \end{enumerate}
\end{itemize}

1.16

Access net: cable network

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310090356894.png}
\caption{}
\end{figure}

\emph{frequency division multiplexing:} different channels transmitted
in different frequency bands

1.17

Access net: cable network

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310090618165.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  HFC: hybrid fiber coax
\item
  \begin{itemize}
  \item
    asymmetric: up to 30Mbps downstream transmission rate, 2 Mbps
    upstream transmission rate
  \end{itemize}
\item
  network of cable, fiber attaches homes to ISP router
\item
  \begin{itemize}
  \item
    homes \emph{share access network} to cable headend
  \item
    unlike DSL, which has dedicated access to central office
  \end{itemize}
\end{itemize}

1.18

Access net: home network

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310090751619.png}
\caption{}
\end{figure}

1.19

Enterprise access networks (Ethernet)

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310091109063.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  typically used in companies, universities, etc
\item
  \begin{itemize}
  \item
    10 Mbps, 100Mbps, 1Gbps, 10Gbps transmission rates
  \item
    today, end systems typically connect into Ethernet switch
  \end{itemize}
\end{itemize}

1.20

Wireless access networks

\begin{itemize}
\item
  shared \emph{wireless} access network connects end system to router
\item
  \begin{itemize}
  \item
    via base station aka ``access point''
  \end{itemize}
\end{itemize}

\emph{wireless LANs:}

\begin{itemize}
\item
  \begin{itemize}
  \item
    within building (100 ft)
  \item
    802.11b/g (WiFi): 11, 54 Mbps transmission rate
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310091217671.png}
\caption{}
\end{figure}

wide-area wireless access

\begin{itemize}
\item
  \begin{itemize}
  \item
    provided by telco (cellular) operator, 10's km
  \item
    between 1 and 10 Mbps
  \item
    3G, 4G: LTE
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310091246399.png}
\caption{}
\end{figure}

1.21

Host: sends \emph{packets} of data

host sending function:

\begin{itemize}
\item
  â–takes application message
\item
  â–breaks into smaller chunks, known as \emph{packets}, of length
  \emph{L} bits
\item
  â–transmits packet into access network at \emph{transmission rate R}
\item
  \begin{itemize}
  \item
    link transmission rate, aka link \emph{capacity, aka link bandwidth}
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310091323260.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310091343333.png}
\caption{}
\end{figure}

\[packet
\ transmission\ delay
\\ = time\ needed\ to\
transmit\ L\ bit\
packet\ into\ link 
\\ = \frac{L(bits)}{R(bits/sec)}\]

1.22

Physical media

\begin{itemize}
\item
  bit: propagates between transmitter/receiver pairs
\item
  physical link: what lies between transmitter \& receiver
\item
  guided media:
\item
  \begin{itemize}
  \item
    signals propagate in solid media: copper, fiber, coax
  \end{itemize}
\item
  unguided media:
\item
  \begin{itemize}
  \item
    signals propagate freely, e.g., radio
  \end{itemize}
\end{itemize}

\emph{twisted pair (TP**)}

\begin{itemize}
\item
  two insulated copper wires
\item
  \begin{itemize}
  \item
    Category 5: 100 Mbps, 1 Gpbs Ethernet
  \item
    Category 6: 10Gbps
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310091722716.png}
\caption{}
\end{figure}

1.23

\emph{coaxial cable:}

\begin{itemize}
\item
  two concentric copper conductors
\item
  bidirectional
\item
  broadband:
\item
  \begin{itemize}
  \item
    multiple channels on cable
  \item
    HFC ( hybrid fiber coax )
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310091737496.png}
\caption{}
\end{figure}

\emph{fiber optic cable:}

\begin{itemize}
\item
  glass fiber carrying light pulses, each pulse a bit
\item
  high-speed operation:
\item
  \begin{itemize}
  \item
    high-speed point-to-point transmission (e.g., 10's-100's Gpbs
    transmission rate)
  \end{itemize}
\item
  low error rate:
\item
  \begin{itemize}
  \item
    repeaters spaced far apart
  \item
    immune to electromagnetic noise
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210310091829664.png}
\caption{}
\end{figure}

1.24

Physical media: radio

\begin{itemize}
\item
  signal carried in electromagnetic spectrum
\item
  no physical ``wire''
\item
  bidirectional
\item
  propagation environment effects:
\item
  \begin{itemize}
  \item
    reflection
  \item
    obstruction by objects
  \item
    interference
  \end{itemize}
\end{itemize}

\emph{radio link types:}

\begin{itemize}
\item
  terrestrial microwave
\item
  \begin{itemize}
  \item
    e.g. up to 45 Mbps channels
  \end{itemize}
\item
  LAN (e.g., WiFi)
\item
  \begin{itemize}
  \item
    11Mbps, 54 Mbps
  \end{itemize}
\item
  wide-area (e.g., cellular)
\item
  \begin{itemize}
  \item
    3G cellular: \textasciitilde{} few Mbps
  \end{itemize}
\item
  satellite
\item
  \begin{itemize}
  \item
    Kbps to 45Mbps channel (or multiple smaller channels)
  \item
    270 msec end-end delay
  \item
    geosynchronous versus low altitude
  \end{itemize}
\end{itemize}

\hypertarget{13-network-core--packet-switching-circuit-switching-network-structure}{%
\subsection{1.3 network core : packet switching, circuit switching,
network
structure}\label{13-network-core--packet-switching-circuit-switching-network-structure}}

\begin{quote}
\hl{åˆ†ç»„äº¤æ¢ï¼Œç”µè·¯äº¤æ¢è¿›è¡Œå¯¹æ¯”ğŸ†š} ISP
\end{quote}

1.26

The network core

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  mesh of interconnected routers
\item
  packet-switching: hosts break application-layer messages into
  \emph{packets}
\item
  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    forward packets from one router to the next, across links on path
    from source to destination
  \item
    each packet transmitted at full link capacity
  \end{enumerate}
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308143143569.png}
\caption{}
\end{figure}

1.27 Packet-switching: store-and-forward

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302082939772.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  takes \emph{L}/\emph{R} seconds to transmit (push out) \emph{L}-bit
  packet into link at \emph{R} bps
\item
  \emph{store and forward:} entire packet must arrive at router before
  it can be transmitted on next link
\item
  end-end delay = 2\emph{L}/\emph{R} (assuming zero propagation delay)

  \begin{itemize}
  \item
    more on delay shortly \ldots{}
  \end{itemize}
\end{itemize}

\emph{one-hop numerical example:}

\begin{quote}
ä¼ è¾“å»¶è¿Ÿ
\end{quote}

\begin{itemize}
\item
  \emph{L} = 7.5 Mbits
\item
  \emph{R} = 1.5 Mbps
\item
  one-hop transmission delay = 5 sec
\end{itemize}

1.28 Packet Switching: queueing delay, loss

\begin{quote}
queueing delay{[}æ’é˜Ÿå»¶è¿Ÿ{]}
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302083212827.png}
\caption{}
\end{figure}

queuing and loss:

\begin{itemize}
\item
  If arrival rate (in bits) to link exceeds transmission rate of link
  for a period of time:
\item
  \begin{itemize}
  \item
    packets will queue, wait to be transmitted on link
  \item
    packets can be dropped (lost) if memory (buffer) fills up
  \end{itemize}
\end{itemize}

1.29 Two key network-core functions

\emph{routing:} determines source-destination route taken by packets

\begin{quote}
routing è·¯ç”±
\end{quote}

\begin{itemize}
\item
  \begin{itemize}
  \item
    \emph{routing algorithms}

    \begin{quote}
    è·¯ç”±ç®—æ³•

    é€šå¸¸æ˜¯æ ¹æ® ip åœ°å€
    \end{quote}
  \end{itemize}
\end{itemize}

\emph{forwarding**:} move packets from router's input to appropriate
router output

\begin{quote}
forwarding è½¬å‘
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302083448665.png}
\caption{}
\end{figure}

1.30 Alternative core: \hl{circuit switching}

\begin{quote}
ç”µè·¯äº¤æ¢, ç±»ä¼¼ç”µè¯ç½‘ç»œ
\end{quote}

end-end resources allocated to, reserved for ``call'' between source \&
dest:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  In diagram, each link has four circuits.
\item
  \begin{itemize}
  \item
    call gets 2nd circuit in top link and 1st circuit in right link.
  \end{itemize}
\item
  dedicated resources: no sharing
\item
  \begin{itemize}
  \item
    circuit-like (guaranteed) performance
  \end{itemize}
\item
  circuit segment idle if not used by call \emph{(no sharing)}
\item
  Commonly used in traditional telephone networks
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302083838581.png}
\caption{}
\end{figure}

1.31 Circuit switching: FDM versus TDM

\begin{quote}
ç”µè·¯äº¤æ¢, ç±»ä¼¼ç”µè¯ç½‘ç»œ
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302084035686.png}
\caption{}
\end{figure}

1.32

\emph{packet switching allows more users to use network!}

example:

\begin{itemize}
\item
  1 Mb/s link
\item
  each user:
\item
  \begin{itemize}
  \item
    100 kb/s when ``active''
  \item
    active 10\% of time
  \end{itemize}
\item
\item
  \emph{circuit-switching:}
\item
  \begin{itemize}
  \item
    10 users
  \end{itemize}
\item
  \emph{packet switching:}
\item
  \begin{itemize}
  \item
    with 35 users, probability \textgreater{} 10 active at same time is
    less than .0004
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302084543471.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302084413569.png}
\caption{}
\end{figure}

1.33

Packet switching versus circuit switching

\textbf{Is packet switching a ``slam dunk winner?''}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  great for bursty data
\item
  \begin{itemize}
  \item
    resource sharing
  \item
    simpler, no call setup
  \end{itemize}
\item
  excessive congestion possible: packet delay and loss
\item
  \begin{itemize}
  \item
    protocols needed for reliable data transfer, congestion control
  \end{itemize}
\item
  \emph{Q:} How to provide circuit-like behavior?
\item
  \begin{itemize}
  \item
    bandwidth guarantees needed for audio/video apps
  \item
    still an unsolved problem (chapter 7)
  \end{itemize}
\end{enumerate}

\emph{Q:} human analogies of reserved resources (circuit switching)
versus on-demand allocation (packet-switching)?

1.34

Internet structure: network of networks

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  End systems connect to Internet via access ISPs (Internet Service
  Providers)
\item
  \begin{itemize}
  \item
    Residential, company and university ISPs
  \end{itemize}
\item
  Access ISPs in turn must be interconnected.
\item
  \begin{itemize}
  \item
    So that any two hosts can send packets to each other
  \end{itemize}
\item
  Resulting network of networks is very complex
\item
  \begin{itemize}
  \item
    Evolution was driven by economics and national policies
  \end{itemize}
\item
  Let's take a stepwise approach to describe current Internet structure
\end{enumerate}

1.35

\emph{Question:} given \emph{millions} of access ISPs, how to connect
them together?

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302091208764.png}
\caption{}
\end{figure}

1.36

\emph{Option:} \emph{connect each access ISP to every other access ISP?}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302091240563.png}
\caption{}
\end{figure}

1.37

\emph{Option:} \emph{connect each access ISP to a global transit ISP?}
\emph{Customer} \emph{and} \emph{provider} \emph{ISPs have economic
agreement.}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302091539492.png}
\caption{}
\end{figure}

1.38

But if one global ISP is viable business, there will be competitors
\ldots.

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302091904964.png}
\caption{}
\end{figure}

1.39

But if one global ISP is viable business, there will be competitors
\ldots. which must be interconnected

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302091933057.png}
\caption{}
\end{figure}

1.40

\ldots{} and regional networks may arise to connect access nets to ISPS

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302092001225.png}
\caption{}
\end{figure}

1.41

\ldots{} and content provider networks (e.g., Google, Microsoft, Akamai
) may run their own network, to bring services, content close to end
users

\begin{quote}
CDN(Content Delivery
Network)æ˜¯æŒ‡å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¹Ÿç§°ä¸ºå†…å®¹ä¼ é€ç½‘ç»œï¼Œè¿™ä¸ªæ¦‚å¿µå§‹äº1996å¹´ï¼Œæ˜¯ç¾å›½éº»çœç†å·¥å­¦é™¢çš„ä¸€ä¸ªç ”ç©¶å°ç»„ä¸ºæ”¹å–„äº’è”ç½‘çš„æœåŠ¡è´¨é‡è€Œæå‡º
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302092229822.png}
\caption{}
\end{figure}

1.42

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302092502255.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  at center: small \# of well-connected large networks
\item
  \begin{itemize}
  \item
    ``tier-1'' commercial ISPs (e.g., Level 3, Sprint, AT\&T, NTT),
    national \& international coverage
  \item
    content provider network (e.g, Google): private network that
    connects it data centers to Internet, often bypassing tier-1,
    regional ISPs
  \end{itemize}
\end{itemize}

1.43

Tier-1 ISP: e.g., Sprint

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302092721023.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302092726778.png}
\caption{}
\end{figure}

\hypertarget{14-delay-loss-throughput-in-networks}{%
\subsection{â­ï¸1.4 delay, loss, throughput in
networks}\label{14-delay-loss-throughput-in-networks}}

\begin{quote}
åˆ†ç»„äº¤æ¢ç½‘ä¸­çš„æ—¶å»¶ã€ä¸¢åŒ…å’Œååé‡

A.ç»“ç‚¹æ€»æ—¶å»¶

\begin{quote}
ç»“ç‚¹æ€»æ—¶å»¶=ç»“ç‚¹å¤„ç†æ—¶å»¶+æ’é˜Ÿæ—¶å»¶+ä¼ è¾“æ—¶å»¶+ä¼ æ’­æ—¶å»¶

a.ç»“ç‚¹å¤„ç†æ—¶å»¶

æ£€æŸ¥åˆ†ç»„é¦–éƒ¨å’Œå†³å®šå°†åˆ†ç»„å¯¼å‘ä½•å¤„æ‰€éœ€è¦çš„æ—¶é—´ b.æ’é˜Ÿæ—¶å»¶
åœ¨è¾“å‡ºé˜Ÿåˆ—ä¸­ç­‰å¾…ä¼ è¾“çš„æ—¶å»¶ï¼Œå–å†³äºåˆ°è¾¾é˜Ÿåˆ—çš„é€Ÿç‡ã€é“¾è·¯çš„ä¼ è¾“é€Ÿç‡å’Œåˆ°è¾¾æµé‡çš„æ€§è´¨(å‘¨æœŸæ€§åˆ°è¾¾è¿˜æ˜¯çªå‘å½¢å¼åˆ°è¾¾)
1.æµé‡å¼ºåº¦ï¼š
ä»¤aè¡¨ç¤ºåˆ†ç»„åˆ°è¾¾é˜Ÿåˆ—çš„å¹³å‡é€Ÿç‡(å•ä½ï¼špkt/s)ï¼›Rä¸ºé“¾è·¯ä¼ è¾“é€Ÿç‡ï¼Œå³ä»é“¾è·¯æ¨å‡ºæ¯”ç‰¹çš„é€Ÿç‡(b/s)ï¼›æ¯ä¸ªåˆ†ç»„ç”±æ¯”ç‰¹ç»„æˆã€‚
åˆ™æ¯”ç‡La/Rä¸ºæµé‡å¼ºåº¦.

\begin{quote}
è‹¥La/Rï¼1,æ’é˜Ÿé˜Ÿåˆ—è¶‹å‘äºæ— ç•Œå¢åŠ ï¼Œæ’é˜Ÿæ—¶å»¶è¶‹å‘äºæ— ç©·å¤§ï¼›
è‹¥La/Râ‰¦1,æ’é˜Ÿæ—¶å»¶éšç€æµé‡å¼ºåº¦çš„å¢åŠ è€Œå¢åŠ ã€‚ è®¾è®¡ç³»ç»Ÿæ—¶æµé‡å¼ºåº¦ä¸èƒ½å¤§äº1
2.ä¸¢åŒ… é˜Ÿåˆ—å®¹é‡æœ‰é™ã€‚æ»¡é˜Ÿåˆ—æƒ…å†µä¸‹ï¼Œæ–°åˆ†ç»„å°†ä¼šè¢«ä¸¢å¼ƒã€‚ c.ä¼ è¾“æ—¶å»¶
å°†æ‰€æœ‰åˆ†ç»„çš„æ¯”ç‰¹æ¨(ä¼ è¾“)å‘é“¾è·¯çš„æ—¶é—´ã€‚ä¸åˆ†ç»„é•¿åº¦å’Œé“¾è·¯ä¼ è¾“é€Ÿç‡æœ‰å…³
d.ä¼ æ’­æ—¶å»¶
é“¾è·¯èµ·ç‚¹å‘ç›®æ ‡è·¯ç”±å™¨ä¼ æ’­æ‰€éœ€è¦çš„æ—¶é—´ã€‚ä¸è·¯ç”±å™¨ä¹‹é—´çš„è·ç¦»å’Œä¼ æ’­é€Ÿç‡æœ‰å…³
B.ç«¯åˆ°ç«¯æ—¶å»¶
å‡è®¾æºä¸»æœºå’Œç›®çš„ä¸»æœºä¹‹é—´æœ‰N-1å°è·¯ç”±å™¨ã€‚æ¯å°è·¯ç”±å™¨å’Œæºä¸»æœºçš„å¤„ç†æ—¶å»¶d(proc)ã€è·¯ç”±å™¨å’Œæºä¸»æœºçš„ä¼ è¾“æ—¶å»¶d(trans)ã€é“¾è·¯çš„ä¼ æ’­æ—¶å»¶d(prop).å…¶ä¸­d(trans)=L/R.Lä¸ºåˆ†ç»„é•¿åº¦ã€Rä¸ºè·¯ç”±å™¨å’Œæºä¸»æœºçš„è¾“å‡ºé€Ÿç‡.
åˆ™ç«¯åˆ°ç«¯æ—¶å»¶d(end-end)=N(d(proc)+d(trans)+d(prop)) C.è®¡ç®—æœºç½‘ç»œä¸­çš„åå
æ–‡ä»¶ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œæ¥æ”¶æ–¹æ¥æ”¶æ–‡ä»¶çš„é€Ÿç‡ã€‚å¦‚æœæ–‡ä»¶ç”±Fæ¯”ç‰¹ç»„æˆï¼Œæ¥æ”¶æ–‡ä»¶éœ€è¦Tç§’ï¼Œåˆ™å¹³å‡ååé‡ä¸ºF/T
bps
å‡è®¾æœåŠ¡å™¨å’Œæ–‡ä»¶ä¹‹é—´æœ‰Næ¡é“¾è·¯ï¼Œå…¶ä¼ è¾“é€Ÿç‡åˆ†åˆ«æ˜¯R1ã€R2ã€R3\ldots\ldots RNã€‚åˆ™æ–‡ä»¶ä¼ è¾“çš„ååé‡ä¸ºmin\{R1,R2\ldots\ldots RN\}ã€‚å³æ•´æ¡è·¯å¾„çš„æœ€å°ä¼ è¾“é€Ÿç‡ã€‚
ååé‡ä¸ä»…å–å†³äºæ²¿ç€è·¯å¾„çš„ä¼ è¾“é€Ÿç‡ï¼Œè€Œä¸”å–å†³äºå¹²æ‰°æµé‡
\end{quote}
\end{quote}
\end{quote}

1.45

How do loss and delay occur?

packets \emph{queue} in router buffers

\begin{itemize}
\item
  packet arrival rate to link (temporarily) exceeds output link capacity
\item
  packets queue, wait for turn
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302092930254.png}
\caption{}
\end{figure}

1.46

\hypertarget{four-sources-of-packet-delay}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸Four sources of packet
delay}}{â­ï¸Four sources of packet delay}}\label{four-sources-of-packet-delay}}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302093010818.png}
\caption{}
\end{figure}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  ==\(d_{proc}\): nodal processing ==
\end{enumerate}

\begin{quote}
1.èŠ‚ç‚¹æ—¶å»¶
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  check bit errors
\item
  determine output link
\item
  typically \textless{} msec
\item
  \hl{\(d_{queue}\): queueing delay}
\end{enumerate}

\begin{quote}
æ’é˜Ÿæ—¶å»¶
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  time waiting at output link for transmission
\item
  depends on congestion level of router
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302093020605.png}
\caption{}
\end{figure}

1.47

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{\emph{d}trans: transmission delay:}
\end{enumerate}

\begin{quote}
ä¼ è¾“æ—¶å»¶
\end{quote}

\begin{itemize}
\item
  \emph{L}: packet length (bits)
\item
  \emph{R}: link \emph{bandwidth (bps)}
\item
  \emph{d**trans} \emph{= L/R}
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{\emph{d}prop: propagation delay:}
\end{enumerate}

\begin{quote}
ä¼ æ’­æ—¶å»¶
\end{quote}

\begin{itemize}
\item
  \emph{d}: length of physical link
\item
  \emph{s}: propagation speed in medium (\textasciitilde2x108 m/sec)
\item
  \emph{d}prop = \emph{d}/\emph{s}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302093132131.png}
\caption{}
\end{figure}

* Check out the Java applet for an interactive animation on trans vs.
prop delay

1.48

Caravan analogy

\begin{quote}
å¡è½¦å®šç†ä¼ è¾“æ—¶å»¶
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302093259313.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  cars ``propagate'' at 100 km/hr
\item
  toll booth takes 12 sec to service car (bit transmission time)
\item
  car\textasciitilde bit; caravan \textasciitilde{} packet
\end{itemize}

\emph{Q:} How long until caravan is lined up before 2nd toll booth?

\begin{itemize}
\item
  time to ``push'' entire caravan through toll booth onto highway =
  12*10 = 120 sec
\item
  time for last car to propagate from 1st to 2nd toll both:
  100km/(100km/hr)= 1 hr
\item
  \emph{A:} 62 minutes
\end{itemize}

1.49

\begin{quote}
æ”¹å˜é€Ÿåº¦
\end{quote}

\begin{itemize}
\item
  suppose cars now ``propagate'' at 1000 km/hr
\item
  and suppose toll booth now takes one min to service a car
\item
  \emph{Q:} Will cars arrive to 2nd booth before all cars serviced at
  first booth?
\end{itemize}

1.50

Queueing delay (revisited)

\begin{quote}
æ’é˜Ÿæ—¶å»¶
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302094320911.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  \emph{R:} link bandwidth (bps)
\item
  \emph{L:} packet length (bits)
\item
  a: average packet arrival rate
\end{itemize}

\begin{itemize}
\item
  \emph{La/R} \textasciitilde{} 0: avg. queueing delay small
\item
  \emph{La/R} -\textgreater{} 1: avg. queueing delay large
\item
  \emph{La/R} \textgreater{} 1: more ``work'' arriving than can be
  serviced, average delay infinite!
\end{itemize}

1.51

win

\begin{verbatim}
tracert www.baidu.com	
\end{verbatim}

linux/unix

\begin{verbatim}
traceroute www.baidu.com
\end{verbatim}

``Real'' Internet delays and routes

\begin{quote}
è·³æ•°
\end{quote}

\begin{itemize}
\item
  what do ``real'' Internet delay \& loss look like?
\item
  traceroute program: provides delay measurement from source to router
  along end-end Internet path towards destination. For all \emph{i:}
\item
  \begin{itemize}
  \item
    sends three packets that will reach router \emph{i} on path towards
    destination
  \item
    router \emph{i} will return packets to sender
  \item
    sender times interval between transmission and reply.
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210302095005602.png}
\caption{}
\end{figure}

1.52

traceroute: gaia.cs.umass.edu to \url{www.eurecom.fr}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308140533714.png}
\caption{}
\end{figure}

1.53

Packet loss

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  queue (aka buffer) preceding link in buffer has finite capacity
\item
  packet arriving to full queue dropped (aka lost)
\item
  lost packet may be retransmitted by previous node, by source end
  system, or not at all
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308140642598.png}
\caption{}
\end{figure}

1.54

Throughput

\begin{itemize}
\item
  \emph{throughput:} rate (bits/time unit) at which bits transferred
  between sender/receiver
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    \emph{instantaneous:} rate at given point in time
  \item
    \emph{average:} rate over longer period of time
  \end{enumerate}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308140739214.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  \emph{R**s} \emph{\textless{} R**c} What is average end-end
  throughput?
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308140823962.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  \emph{R**s} \emph{\textgreater{} R**c} What is average end-end
  throughput?
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308140836611.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  \emph{bottleneck link}
\end{itemize}

link on end-end path that constrains end-end throughput

1.56

Throughput: Internet scenario

\begin{itemize}
\item
  per-connection end-end throughput: min(Rc,Rs,R/10)
\item
  in practice: Rc or Rs is often bottleneck
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308141312358.png}
\caption{}
\end{figure}

\hypertarget{15-protocol-layersux534fux8baeux5c42ux6b21-service-modelsux670dux52a1ux6a21ux578b}{%
\subsection{1.5 protocol layers{[}åè®®å±‚æ¬¡{]}, service
models{[}æœåŠ¡æ¨¡å‹{]}}\label{15-protocol-layersux534fux8baeux5c42ux6b21-service-modelsux670dux52a1ux6a21ux578b}}

\begin{quote}
5.åè®®å±‚æ¬¡åŠå…¶æœåŠ¡æ¨¡å‹

A.åˆ†å±‚çš„ä½“ç³»ç»“æ„

a.åè®®åˆ†å±‚ï¼ˆå› ç‰¹ç½‘äº”å±‚åè®®æ ˆï¼‰ï¼ˆæ¦‚è¿°ï¼‰

1.åº”ç”¨å±‚

\begin{itemize}
\item
  ç½‘ç»œåº”ç”¨ç¨‹åºåŠä»–ä»¬çš„åº”ç”¨å±‚åè®®å­˜ç•™äºåº”ç”¨å±‚ä¸­ã€‚ä¸åŒç«¯ç³»ç»Ÿä¸­çš„åº”ç”¨ç¨‹åºé€šè¿‡åº”ç”¨å±‚åè®®äº¤æ¢ä¿¡æ¯åˆ†ç»„ï¼ˆæŠ¥æ–‡ï¼‰ã€‚åº”ç”¨å±‚åè®®æœ‰ï¼šHTTPã€SMTPã€FTPã€DNSã€‚
\end{itemize}

2.ä¼ è¾“å±‚

\begin{itemize}
\item
  ä¼ è¾“å±‚åœ¨åº”ç”¨ç¨‹åºç«¯ç‚¹ä¹‹é—´ä¼ é€æŠ¥æ–‡æ®µï¼ˆåº”ç”¨å±‚æŠ¥æ–‡ï¼‰ã€‚ä¼ è¾“å±‚åè®®æœ‰ï¼šTCPã€UDP
\end{itemize}

3.ç½‘ç»œå±‚

\begin{itemize}
\item
  ç½‘ç»œå±‚å°†æ•°æ®æŠ¥ï¼ˆç½‘ç»œå±‚åˆ†ç»„ï¼‰ä»ä¸€å°ä¸»æœºç§»åŠ¨åˆ°å¦ä¸€å°ä¸»æœºã€‚ç½‘ç»œå±‚åè®®ï¼šIPåè®®ã€è·¯ç”±é€‰æ‹©åè®®
\end{itemize}

4.é“¾è·¯å±‚

\begin{itemize}
\item
  å°†å¸§ï¼ˆé“¾è·¯å±‚åˆ†ç»„ï¼‰ä»ä¸€ä¸ªç»“ç‚¹ç§»åŠ¨åˆ°è·¯å¾„çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚é“¾è·¯å±‚åè®®ï¼šä»¥å¤ªç½‘ã€Wifiå’Œç”µç¼†æ¥å…¥ç½‘çš„DOCSISåè®®
\end{itemize}

5.ç‰©ç†å±‚

å°†å¸§ä¸­çš„ä¸€ä¸ªä¸ªæ¯”ç‰¹ä¸€ä¸ªç»“ç‚¹ç§»åŠ¨åˆ°è·¯å¾„çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚ç‰©ç†å±‚åè®®ä¸é“¾è·¯ä¼ è¾“åª’ä½“ç›¸å…³ã€‚

b.OSIæ¨¡å‹

ã€7å±‚ã€‘è‡ªä¸Šè€Œä¸‹ï¼šåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ã€ä¼ è¾“å±‚ã€ç½‘è·¯å±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚

B.å°è£… (encapsulated)

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210420084241129.png}
\caption{}
\end{figure}

æ¯ä¸€å±‚ï¼Œä¸€ä¸ªåˆ†ç»„å…·æœ‰ä¸¤ç§ç±»å‹çš„å­—æ®µï¼šé¦–éƒ¨å­—æ®µå’Œæœ‰æ•ˆè½½è·å­—æ®µã€‚æœ‰æ•ˆå­—æ®µé€šå¸¸æ¥æºäºä¸Šä¸€å±‚çš„åˆ†ç»„ã€‚
\end{quote}

1.58

Protocol ``layers''

\emph{Networks are complex,}

\emph{with many ``pieces'':}

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    hosts
  \item
    routers
  \item
    links of various media
  \item
    applications
  \item
    protocols
  \item
    hardware, software
  \end{enumerate}
\end{itemize}

\emph{Question:}

\begin{itemize}
\item
  is there any hope of \emph{organizing} structure of network?
\end{itemize}

\begin{itemize}
\item
  \ldots. or at least our discussion of networks?
\end{itemize}

1.59

Organization of air travel

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308143924197.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  a series of steps
\end{itemize}

1.60

Layering of airline functionality

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308143943959.png}
\caption{}
\end{figure}

\emph{layers:} each layer implements a service

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    via its own internal-layer actions
  \item
    relying on services provided by layer below
  \end{enumerate}
\end{itemize}

1.61

Why layering?

dealing with complex systems:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  explicit structure allows identification, relationship of complex
  system's pieces
\item
  \begin{itemize}
  \item
    layered \emph{reference model} for discussion
  \end{itemize}
\item
  modularization eases maintenance, updating of system
\item
  \begin{itemize}
  \item
    change of implementation of layer's service transparent to rest of
    system
  \item
    e.g., change in gate procedure doesn't affect rest of system
  \end{itemize}
\item
  layering considered harmful?
\end{enumerate}

1.62

\hypertarget{internet-protocol-stack}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸Internet protocol
stack}}{â­ï¸Internet protocol stack}}\label{internet-protocol-stack}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{application:} supporting network applications

  \begin{quote}
  åº”ç”¨å±‚
  \end{quote}
\item
  \begin{itemize}
  \item
    FTP, SMTP, HTTP
  \end{itemize}
\item
  \emph{transport:} process-process data transfer

  \begin{quote}
  ä¼ è¾“å±‚
  \end{quote}
\item
  \begin{itemize}
  \item
    TCP, UDP
  \end{itemize}
\item
  \emph{network:} routing of datagrams from source to destination

  \begin{quote}
  ç½‘ç»œå±‚
  \end{quote}
\item
  \begin{itemize}
  \item
    IP, routing protocols
  \end{itemize}
\item
  \emph{link:} data transfer between neighboring network elements

  \begin{quote}
  é“¾è·¯å±‚
  \end{quote}
\item
  \begin{itemize}
  \item
    Ethernet, 802.11 (WiFi), PPP
  \end{itemize}
\item
  \emph{physical:} bits ``on the wire''

  \begin{quote}
  ç‰©ç†å±‚
  \end{quote}
\end{enumerate}

1.63

ISO/OSI reference model

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{presentation:} allow applications to interpret meaning of data,
  e.g., encryption, compression, machine-specific conventions

  \begin{quote}
  è¡¨ç¤ºå±‚
  \end{quote}
\item
  \emph{session:} synchronization, checkpointing, recovery of data
  exchange

  \begin{quote}
  ä¼šè¯å±‚
  \end{quote}
\item
  Internet stack ``missing'' these layers!
\item
  \begin{itemize}
  \item
    these services, \emph{if needed,} must be implemented in application
  \item
    needed?
  \end{itemize}
\end{enumerate}

1.64

Encapsulation{[}å°è£…ğŸ“¦{]}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308145142499.png}
\caption{}
\end{figure}

\hypertarget{16-networks-under-attack-security}{%
\subsection{1.6 networks under attack:
security}\label{16-networks-under-attack-security}}

6.é¢å¯¹æ”»å‡»çš„ç½‘ç»œ

ç½‘ç»œå®‰å…¨é¢†åŸŸä¸»è¦æ¢è®¨ä»¥ä¸‹é—®é¢˜ï¼šhackerå¦‚ä½•æ”»å‡»è®¡ç®—æœºç½‘ç»œï¼Œä»¥åŠæˆ‘ä»¬å¦‚ä½•é˜²å¾¡ä»¥å…å—ä»–ä»¬çš„æ”»å‡»ï¼Œæˆ–è€…æ˜¯æ›´å¥½çš„æ˜¯è®¾è®¡èƒ½å¤Ÿäº‹å…ˆå…é™¤è¿™æ ·çš„æ”»å‡»çš„æ–°å‹ä½“ç³»ç»“æ„ã€‚

A.æ¶æ„è½¯ä»¶(è‡ªæˆ‘å¤åˆ¶)

ç—…æ¯’ï¼šæ˜¯ä¸€ç§éœ€è¦æŸç§å½¢å¼çš„ç”¨æˆ·äº¤äº’æ¥æ„ŸæŸ“ç”¨æˆ·è®¾å¤‡çš„æ¶æ„è½¯ä»¶ã€‚

è •è™«ï¼šæ˜¯ä¸€ç§æ— éœ€ä»»ä½•æ˜æ˜¾ç”¨æˆ·äº¤äº’å°±èƒ½è¿›å…¥è®¾å¤‡çš„æ¶æ„è½¯ä»¶

B.æ‹’ç»æœåŠ¡æ”»å‡»(DDOS)

1.å¼±ç‚¹æ”»å‡»ã€‚å‘ä¸€å°ç›®æ ‡ä¸»æœºè¿è¡Œçš„æ˜“å—æ”»å‡»çš„åº”ç”¨ç¨‹åºæˆ–æ“ä½œç³»ç»Ÿå‘é€ç²¾ç»†åˆ¶ä½œçš„æŠ¥æ–‡

2.å¸¦å®½æ´ªæ³›ã€‚æ”»å‡»è€…å‘ç›®æ ‡ä¸»æœºå‘é€å¤§é‡çš„åˆ†ç»„ï¼Œä½¿å¾—ç›®æ ‡çš„æ¥å…¥é“¾è·¯æ‹¥å¡ï¼Œåˆæ³•åˆ†ç»„æ— æ³•åˆ°è¾¾æœåŠ¡å™¨ã€‚

3.è¿æ¥æ´ªæ³›ã€‚æ”»å‡»è€…åœ¨ç›®æ ‡ä¸»æœºä¸­åˆ›å»ºå¤§é‡çš„åŠå¼€æˆ–å…¨å¼€TCPè¿æ¥ä½¿ä¸»æœºåœæ­¢æ¥å—åˆæ³•çš„è¿æ¥ã€‚

C.åˆ†ç»„å—…æ¢å™¨

åœ¨æ— çº¿ä¼ è¾“è®¾å¤‡çš„é™„è¿‘æ”¾ç½®ä¸€å°è¢«åŠ¨çš„æ¥æ”¶æœºï¼Œå°±èƒ½å¾—åˆ°ä¼ è¾“çš„æ¯ä¸ªåˆ†ç»„çš„å‰¯æœ¬

D.IPå“„éª—

å°†å…·æœ‰è™šå‡æºåœ°å€çš„åˆ†ç»„æ³¨å…¥å› ç‰¹ç½‘çš„èƒ½åŠ›è¢«ç§°ä¸ºIPå“„éª—ã€‚

1.66

Network security

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  field of network security:
\item
  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    how bad guys can attack computer networks
  \item
    how we can defend networks against attacks
  \item
    how to design architectures that are immune to attacks
  \end{enumerate}
\item
  Internet not originally designed with (much) security in mind
\item
  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    \emph{original vision:} ``a group of mutually trusting users
    attached to a transparent network'' â˜º
  \item
    Internet protocol designers playing ``catch-up''
  \item
    security considerations in all layers!
  \end{enumerate}
\end{enumerate}

1.67

Bad guys: put malware into hosts via Internet

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  malware can get in host from:
\item
  \begin{itemize}
  \item
    \emph{virus:} self-replicating infection by receiving/executing
    object (e.g., e-mail attachment)
  \item
    \emph{worm:} self-replicating infection by passively receiving
    object that gets itself executed
  \end{itemize}
\item
  spyware malware can record keystrokes, web sites visited, upload info
  to collection site
\item
  infected host can be enrolled in botnet, used for spam. DDoS attacks
\end{enumerate}

1.68

Bad guys: attack server, network infrastructure

\hypertarget{denial-of-service-dos}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸Denial of Service
(DoS)}}{â­ï¸Denial of Service (DoS)}}\label{denial-of-service-dos}}

\hl{\emph{Denial of Service (DoS):} attackers make resources (server,
bandwidth) unavailable to legitimate traffic by overwhelming resource
with bogus traffic}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  select target
\item
  break into hosts around the network (see botnet)
\item
  send packets to target from compromised hosts
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308150918715.png}
\caption{}
\end{figure}

1.69 Bad guys can sniff packets

\emph{packet ``sniffing'':}

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    broadcast media (shared ethernet, wireless)
  \item
    promiscuous network interface reads/records all packets (e.g.,
    including passwords!) passing by
  \end{enumerate}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308151335887.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  \begin{itemize}
  \item
    wireshark software used for end-of-chapter labs is a (free)
    packet-sniffer
  \end{itemize}
\end{itemize}

1.70

Bad guys can use fake addresses

\emph{IP spoofing:} send packet with false source address

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308151421362.png}
\caption{}
\end{figure}

\hypertarget{17-history}{%
\subsection{1.7 history}\label{17-history}}

1.72

Internet history

1961-1972: Early packet-switching principles

\begin{itemize}
\item
  1961: Kleinrock - queueing theory shows effectiveness of
  packet-switching
\item
  1964: Baran - packet-switching in military nets
\item
  1967: ARPAnet conceived by Advanced Research Projects Agency
\item
  1969: first ARPAnet node operational
\item
  1972:
\item
  \begin{itemize}
  \item
    ARPAnet public demo
  \item
    NCP (Network Control Protocol) first host-host protocol
  \item
    first e-mail program
  \item
    ARPAnet has 15 nodes
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210308151708257.png}
\caption{}
\end{figure}

1972-1980: Internetworking, new and proprietary nets

\begin{itemize}
\item
  1970: ALOHAnet satellite network in Hawaii
\item
  1974: Cerf and Kahn - architecture for interconnecting networks
\item
  1976: Ethernet at Xerox PARC
\item
  late70's: proprietary architectures: DECnet, SNA, XNA
\item
  late 70's: switching fixed length packets (ATM precursor)
\item
  1979: ARPAnet has 200 nodes
\end{itemize}

Cerf and Kahn's internetworking principles:

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    minimalism, autonomy - no internal changes required to interconnect
    networks
  \item
    best effort service model
  \item
    stateless routers
  \item
    decentralized control
  \end{enumerate}
\end{itemize}

define today's Internet architecture

1980-1990: new protocols, a proliferation of networks

\begin{itemize}
\item
  1983: deployment of TCP/IP
\item
  1982: smtp e-mail protocol defined
\item
  1983: DNS defined for name-to-IP-address translation
\item
  1985: ftp protocol defined
\item
  1988: TCP congestion control
\item
  new national networks: Csnet, BITnet, NSFnet, Minitel
\item
  100,000 hosts connected to confederation of networks
\end{itemize}

\emph{1990, 2000's: commercialization, the Web, new apps}

\begin{itemize}
\item
  early 1990's: ARPAnet decommissioned
\item
  1991: NSF lifts restrictions on commercial use of NSFnet
  (decommissioned, 1995)
\item
  early 1990s: Web
\item
  \begin{itemize}
  \item
    hypertext {[}Bush 1945, Nelson 1960's{]}
  \item
    HTML, HTTP: Berners-Lee
  \item
    1994: Mosaic, later Netscape
  \item
    late 1990's: commercialization of the Web
  \end{itemize}
\end{itemize}

late 1990's -- 2000's:

\begin{itemize}
\item
  more killer apps: instant messaging, P2P file sharing
\item
  network security to forefront
\item
  est. 50 million host, 100 million+ users
\item
  backbone links running at Gbps
\end{itemize}

\emph{2005-present}

\begin{itemize}
\item
  \textasciitilde750 million hosts
\item
  \begin{itemize}
  \item
    Smartphones and tablets
  \end{itemize}
\item
  Aggressive deployment of broadband access
\item
  Increasing ubiquity of high-speed wireless access
\item
  Emergence of online social networks:
\item
  \begin{itemize}
  \item
    Facebook: soon one billion users
  \end{itemize}
\item
  Service providers (Google, Microsoft) create their own networks
\item
  \begin{itemize}
  \item
    Bypass Internet, providing ``instantaneous'' access to search, emai,
    etc.
  \end{itemize}
\item
  E-commerce, universities, enterprises running their services in
  ``cloud'' (eg, Amazon EC2)
\end{itemize}

\hypertarget{18-introduction--summary}{%
\subsection{1.8 Introduction : summary}\label{18-introduction--summary}}

\emph{covered a ``ton'' of material!}

\begin{itemize}
\item
  Internet overview
\item
  what's a protocol?
\item
  network edge, core, access network
\item
  \begin{itemize}
  \item
    packet-switching versus circuit-switching
  \item
    Internet structure
  \end{itemize}
\item
  performance: loss, delay, throughput
\item
  layering, service models
\item
  security
\item
  history
\end{itemize}

\emph{you now have:}

\begin{itemize}
\item
  context, overview, ``feel'' of networking
\item
  more depth, detail \emph{to follow!}
\end{itemize}

\hypertarget{chapter-2-application-layer}{%
\section{Chapter 2 Application
Layer}\label{chapter-2-application-layer}}

2.1 principles of network applications

2.2 Web and HTTP

2.3 FTP

2.4 electronic mail : SMTP, POP3, IMAP

2.5 DNS

2.6 P2P applications

2.7 socket programming with UDP and TCP

\begin{quote}
åº”ç”¨å±‚æ˜¯æˆ‘ä»¬å­¦ä¹ åè®®éå¸¸å¥½çš„èµ·ç‚¹ï¼Œå®ƒæœ€ä¸ºæˆ‘ä»¬æ‰€ç†Ÿæ‚‰ã€‚æˆ‘ä»¬ç†Ÿæ‚‰çš„å¾ˆå¤šåº”ç”¨å°±æ˜¯å»ºç«‹åœ¨è¿™äº›å°†è¦å­¦ä¹ çš„åè®®åŸºç¡€ä¸Šçš„ã€‚é€šè¿‡å¯¹åº”ç”¨å±‚çš„å­¦ä¹ ï¼Œå°†æœ‰åŠ©äºæˆ‘ä»¬è®¤çŸ¥åè®®æœ‰å…³çŸ¥è¯†ï¼Œå°†ä½¿æˆ‘ä»¬äº†è§£åˆ°å¾ˆå¤šé—®é¢˜ï¼Œè¿™äº›é—®é¢˜å½“æˆ‘ä»¬å­¦ä¹ è¿è¾“å±‚ã€ç½‘ç»œå±‚åŠæ•°æ®é“¾è·¯å±‚åè®®æ—¶ä¹ŸåŒæ ·ä¼šç¢°åˆ°ã€‚

ç ”å‘ç½‘ ç»œåº”ç”¨ ç¨‹åºçš„æ ¸ å¿ƒ æ˜¯å†™ å‡ºèƒ½å¤Ÿè¿è¡Œåœ¨ä¸
åŒçš„ç«¯ç³»ç»Ÿå’Œé€šè¿‡ç½‘ç»œå½¼æ­¤é€šä¿¡çš„ç¨‹åºã€‚ ä¾‹å¦‚ï¼Œåœ¨W e båº”ç”¨ç¨‹åºä¸­ï¼Œæœ‰ä¸¤ ä¸ª
äº’ç›¸é€šä¿¡çš„ä¸ åŒçš„ç¨‹åºï¼šä¸€
ä¸ªæ˜¯è¿è¡Œåœ¨ç”¨æˆ·ä¸»æœºï¼ˆæ¡Œé¢æœºã€è†ä¸Šæœºã€å¹³æ¿ç”µè„‘ã€æ™ºèƒ½ç”µè¯ç­‰ï¼‰ä¸Šçš„æµè§ˆå™¨ç¨‹åºï¼›å¦ä¸€ä¸ªæ˜¯è¿è¡Œåœ¨WebæœåŠ¡å™¨ä¸»æœºä¸Šçš„W
e b æœåŠ¡ å™¨ç¨‹åºã€‚ å¦ ä¸€ ä¸ª ä¾‹å­æ˜¯P 2 Pæ–‡ä»¶ å…± äº«ç³»ç»Ÿï¼Œåœ¨å‚ ä¸æ–‡ä»¶ å…±
äº«çš„ç¤¾åŒºä¸­çš„æ¯å°ä¸»æœºä¸­éƒ½æœ‰ä¸€ä¸ªç¨‹åº.:ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨å„å°ä¸»
æœºä¸­çš„è¿™äº›ç¨‹åºå¯èƒ½éƒ½ æ˜¯ç±»ä¼¼çš„æˆ–ç›¸åŒçš„ã€‚

å› æ­¤ï¼Œå½“ç ”å‘æ–°åº”ç”¨ç¨‹åºæ—¶ï¼Œä½ éœ€è¦ç¼–å†™å°†åœ¨å¤šå°ç«¯ç³»ç»Ÿä¸Šè¿è¡Œçš„è½¯ä»¶ã€‚ä¾‹å¦‚ï¼Œè¯¥è½¯ä»¶èƒ½å¤Ÿç”¨Cã€J
a v aæˆ–P y t h o
næ¥ç¼–å†™é‡è¦çš„æ˜¯ï¼Œä½ ä¸éœ€è¦å†™åœ¨ç½‘ç»œæ ¸å¿ƒè®¾å¤‡å¦‚è·¯ç”±å™¨æˆ–é“¾è·¯å±‚äº¤æ¢æœºä¸Šè¿è¡Œçš„è½¯ä»¶ã€å³ä½¿ä½ è¦ä¸ºç½‘ç»œæ ¸å¿ƒè®¾å¤‡å†™åº”ç”¨ç¨‹åºè½¯ä»¶ï¼Œä½ ä¹Ÿä¸èƒ½åšåˆ°è¿™ä¸€
ç‚¹ã€‚å¦‚ æˆ‘ä»¬åœ¨ç¬¬1ç« æ‰€çŸ¥ ï¼Œä»¥ åŠå¦‚ å›¾1 - 2 4æ‰€ æ˜¾ç¤º çš„
é‚£æ ·ï¼Œç½‘ç»œæ ¸å¿ƒè®¾å¤‡å¹¶ä¸åœ¨åº”ç”¨å±‚ä¸Š èµ·ä½œç”¨ï¼Œè€Œä»…åœ¨è¾ƒä½å±‚èµ·ä½œç”¨ï¼Œç‰¹åˆ«æ˜¯ä½
äºç½‘ç»œå±‚åŠ ä¸‹é¢å±‚æ¬¡è¿™ç§åŸºæœ¬è®¾è®¡ï¼Œä¹Ÿ å³å°†åº”ç”¨è½¯ä»¶é™åˆ¶åœ¨ç«¯ç³»ç»Ÿï¼ˆå¦‚é˜2 -
1æ‰€ç¤ºï¼‰çš„æ–¹æ³•ï¼Œä¿ƒè¿›äº†å¤§é‡çš„ç½‘ç»œåº”ç”¨ç¨‹åºçš„è¿…é€Ÿç ”å‘å’Œéƒ¨ç½²ã€‚
\end{quote}

\hypertarget{21-principles-of-network-applications}{%
\subsection{2.1 principles of network
applications}\label{21-principles-of-network-applications}}

our goals:

\begin{itemize}
\item
  conceptual, implementation aspects of network application protocols
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    transport-layer service models
  \item
    client-server paradigm
  \item
    peer-to-peer paradigm
  \end{enumerate}
\item
  learn about protocols by examining popular application-level protocols
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    HTTP
  \item
    FTP
  \item
    SMTP / POP3 / IMAP
  \item
    DNS
  \end{enumerate}
\item
  creating network applications
\item
  \begin{itemize}
  \item
    socket API
  \end{itemize}
\end{itemize}

\begin{quote}
å½“è¿›è¡Œè½¯ä»¶ç¼–ç ä¹‹å‰ï¼Œåº”å½“å¯¹åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªå®½æ³›çš„ä½“ç³»ç»“æ„è®¡åˆ’ã€‚è®°ä½åº”ç”¨ç¨‹åºçš„ä½“ç³»ç»“æ„æ˜æ˜¾ä¸åŒäºç½‘ç»œçš„ä½“ç³»ç»“æ„ï¼ˆä¾‹å¦‚åœ¨ç¬¬1ç« ä¸­æ‰€è®¨è®ºçš„5å±‚å› ç‰¹ç½‘ä½“ç³»ç»“æ„ï¼‰ã€‚

ä»åº”ç”¨ç¨‹åºç ”å‘è€…çš„è§’åº¦çœ‹ï¼Œç½‘ç»œä½“ç³»ç»“æ„æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ç‰¹å®šçš„æœåŠ¡é›†åˆã€‚åœ¨å¦ä¸€æ–¹é¢ï¼Œåº”ç”¨ç¨‹åºä½“ç³»ç»“æ„ï¼ˆapplication
architectur eï¼‰ç”±åº”ç”¨ç¨‹ åºç ”å‘è€…è®¾
è®¡ï¼Œè§„å®šäº†å¦‚ä½•åœ¨å„ç§ç«¯ç³»ç»Ÿä¸Šç»„ç»‡è¯¥åº”ç”¨ç¨‹åºâ€åœ¨é€‰æ‹©åº”ç”¨ç¨‹åºä½“ç³»ç»“æ„æ—¶ï¼Œåº”ç”¨ç¨‹åºç ”å‘è€…å¾ˆå¯èƒ½åˆ©ç”¨ç°ä»£ç½‘ç»œåº”ç”¨ç¨‹åºä¸­æ‰€ä½¿ç”¨çš„ä¸¤ç§ä¸»æµä½“ç³»ç»“æ„ä¹‹ä¸€ï¼š

å®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æ„

å¯¹ç­‰ï¼ˆP2Pï¼‰ä½“ç³»ç»“æ„ã€‚

åœ¨å®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æ„ï¼ˆclient-server architectur eï¼‰ä¸­ï¼Œæœ‰ä¸€ä¸ªæ€»æ˜¯æ‰“
å¼€çš„ä¸»æœºç§°ä¸º æœ åŠ¡ å™¨ ï¼Œ å®ƒ æœ åŠ¡ äº æ¥ è‡ª è®¸ å¤š å…¶ ä»– ç§° ä¸º å®¢ æˆ· çš„ ä¸»
æœº çš„ è¯· æ±‚ - ä¸ª ç» å…¸ çš„ ä¾‹ å­ æ˜¯ W e b åº” ç”¨ ç¨‹åº ï¼Œ å…¶ ä¸­ æ€» æ˜¯ æ‰“ å¼€
çš„ W e b æœ åŠ¡ å™¨ æœ åŠ¡ äº æ¥ è‡ª æµ è§ˆ å™¨ ï¼ˆ è¿ è¡Œ åœ¨ å®¢ æˆ· ä¸» æœº h ï¼‰
çš„ è¯· æ±‚ : ï¼Œ å½“W e bæœåŠ¡
å™¨æ¥æ”¶åˆ°æ¥è‡ªæŸå®¢æˆ·å¯¹æŸå¯¹è±¡çš„è¯·æ±‚æ—¶ï¼Œå®ƒå‘è¯¥å®¢æˆ·å‘é€æ‰€è¯·æ±‚çš„å¯¹è±¡ä½œ ä¸º å“
åº”ã€‚ å€¼å¾— æ³¨ æ„çš„æ˜¯åˆ©ç”¨å®¢ æˆ·- æœåŠ¡ å™¨ ä½“ç³»ç»“æ„.å®¢æˆ·ç›¸äº’
ä¹‹é—´ä¸ç›´æ¥é€šä¿¡ï¼›ä¾‹å¦‚ï¼Œåœ¨W e b åº”ç”¨ä¸­ ä¸¤ ä¸ªæµè§ˆå™¨å¹¶ä¸ç›´æ¥é€šä¿¡ ã€‚å®¢æˆ·-æœåŠ¡
å™¨ ä½“ç³»ç»“æ„çš„å¦ä¸€ä¸ªç‰¹å¾æ˜¯è¯¥æœåŠ¡å™¨å…·æœ‰å›º å®š çš„ . å‘¨ çŸ¥ çš„åœ° å€ï¼Œ è¯¥åœ°
å€ç§°ä¸º1 Påœ° å€ï¼ˆæˆ‘ä»¬å°† å¾ˆ å¿«è®¨ è®ºå®ƒã€‰ ã€‚å› ä¸ºè¯¥æœåŠ¡ å™¨ å…·æœ‰ å›º å®šçš„ã€
å‘¨çŸ¥çš„åœ°å€ï¼Œå¹¶ä¸”å› ä¸ºè¯¥æœåŠ¡ å™¨æ€»æ˜¯æ‰“å¼€çš„ï¼Œå®¢æˆ·æ€»æ˜¯èƒ½å¤Ÿé€šè¿‡å‘è¯¥æœåŠ¡
å™¨çš„åœ°å€ å‘ é€ åˆ† ç»„ æ¥ ä¸ å…¶ è” ç³» ã€‚ å…· æœ‰ å®¢ æˆ·- æœåŠ¡ å™¨ ä½“ç³» ç»“æ„çš„
éå¸¸è‘—åçš„åº”ç”¨ ç¨‹åºåŒ…æ‹¬W e b ã€ FTPã€Telnetå’Œç”µå­é‚®ä»¶ã€‚
\end{quote}

2.4

Some network apps

\begin{itemize}
\item
  e-mail
\item
  web
\item
  text messaging
\item
  remote login
\item
  P2P file sharing
\item
  multi-user network games
\item
  streaming stored video (YouTube, Hulu, Netflix)
\item
  voice over IP (e.g., Skype)
\item
  real-time video conferencing
\item
  social networking
\item
  search
\item
  \ldots{}
\item
  \ldots{}
\end{itemize}

2.5

Creating a network app

write programs that:

\begin{itemize}
\item
  run on (different) \emph{end systems}
\item
  communicate over network
\item
  e.g., web server software communicates with browser software
\end{itemize}

no need to write software for network-core devices

\begin{itemize}
\item
  network-core devices do not run user applications
\item
  applications on end systems allows for rapid app development,
  propagation
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210309093711875.png}
\caption{}
\end{figure}

2.6

\hypertarget{application-architectures}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸Application
architectures}}{â­ï¸Application architectures}}\label{application-architectures}}

possible structure of applications:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  client-server
\item
  peer-to-peer (P2P)
\end{enumerate}

2.7

\hypertarget{client-server-architecture}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸Client-server
architecture}}{â­ï¸Client-server architecture}}\label{client-server-architecture}}

server:

\begin{itemize}
\item
  always-on host
\item
  permanent IP address
\item
  data centers for scaling
\end{itemize}

clients:

\begin{itemize}
\item
  communicate with server
\item
  may be intermittently connected
\item
  may have dynamic IP addresses
\item
  do not communicate directly with each other
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210309093859483.png}
\caption{}
\end{figure}

2.8

\hypertarget{p2p-architecture}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸P2P
architecture}}{â­ï¸P2P architecture}}\label{p2p-architecture}}

\begin{itemize}
\item
  \emph{no} always-on server
\item
  arbitrary end systems directly communicate
\item
  peers request service from other peers, provide service in return to
  other peers
\item
  \begin{itemize}
  \item
    \emph{self scalability} -- new peers bring new service capacity, as
    well as new service demands
  \end{itemize}
\item
  peers are intermittently connected and change IP addresses
\item
  \begin{itemize}
  \item
    complex management
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210309093928890.png}
\caption{}
\end{figure}

2.9

Processes communicating \textbf{è¿›ç¨‹é€šä¿¡}

\emph{process:} program running within a host

\begin{itemize}
\item
  within same host, two processes communicate using inter-process
  communication (defined by OS)
\item
  processes in different hosts communicate by exchanging messages
\end{itemize}

clients, servers

\emph{client process:} process that initiates communication

\emph{server process:} process that waits to be contacted

\begin{itemize}
\item
  aside: applications with P2P architectures have client processes \&
  server processes
\end{itemize}

2.10

Sockets

\begin{itemize}
\item
  process sends/receives messages to/from its socket
\item
  socket analogous to door
\item
  \begin{itemize}
  \item
    sending process shoves message out door
  \item
    sending process relies on transport infrastructure on other side of
    door to deliver message to socket at receiving process
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210309094046064.png}
\caption{}
\end{figure}

2.11

Addressing processes

\begin{itemize}
\item
  to receive messages, process must have \emph{identifier}
\item
  host device has unique 32-bit IP address
\item
  \emph{Q:} does IP address of host on which process runs suffice for
  identifying the process?
\item
  \emph{A:} no, \emph{many} processes can be running on same host
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{identifier} includes both IP address and port numbers associated
  with process on host.
\item
  example port numbers:

  \begin{itemize}
  \item
    HTTP server: 80
  \item
    mail server: 25
  \end{itemize}
\item
  to send HTTP message to gaia.cs.umass.edu web server:

  \begin{itemize}
  \item
    IP address: 128.119.245.12
  \item
    port number: 80
  \end{itemize}
\item
  more shortly\ldots{}
\end{enumerate}

2.12

App-layer protocol defines

\begin{itemize}
\item
  types of messages exchanged,
\item
  \begin{itemize}
  \item
    e.g., request, response
  \end{itemize}
\item
  message syntax:
\item
  \begin{itemize}
  \item
    what fields in messages \& how fields are delineated
  \end{itemize}
\item
  message semantics
\item
  \begin{itemize}
  \item
    meaning of information in fields
  \end{itemize}
\item
  rules for when and how processes send \& respond to messages
\end{itemize}

open protocols:

\begin{itemize}
\item
  defined in RFCs
\item
  allows for interoperability
\item
  e.g., HTTP, SMTP
\end{itemize}

proprietary protocols:

\begin{itemize}
\item
  e.g., Skype
\end{itemize}

2.13

What transport service does an app need?

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  data integrity
\end{enumerate}

\begin{itemize}
\item
  some apps (e.g., file transfer, web transactions) require 100\%
  reliable data transfer
\item
  other apps (e.g., audio) can tolerate some loss
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  timing
\end{enumerate}

\begin{itemize}
\item
  some apps (e.g., Internet telephony, interactive games) require low
  delay to be ``effective''
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  throughput
\end{enumerate}

\begin{itemize}
\item
  some apps (e.g., multimedia) require minimum amount of throughput to
  be ``effective''
\item
  other apps (``elastic apps'') make use of whatever throughput they get
\end{itemize}

\begin{quote}
\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  å®šæ—¶ è¿ è¾“å±‚åè®®ä¹Ÿèƒ½æä¾›å®šæ—¶ä¿è¯ã€‚å¦‚åŒ å…·æœ‰å
  åé‡ä¿è¯é‚£æ ·ï¼Œå®šæ—¶ä¿è¯èƒ½å¤Ÿä»¥å¤šç§å½¢å¼å®ç°ã€‚ ä¸€ ä¸ª
  ä¿è¯çš„ä¾‹å­å¦‚ï¼šå‘é€æ–¹æ³¨äººè¿›å¥—æ¥å­—ä¸­çš„æ¯ä¸ªæ¯”ç‰¹åˆ°è¾¾æ¥æ”¶æ–¹çš„å¥—æ¥å­—ä¸ è¿Ÿäº1
  0 0 m sã€‚è¿™ç§æœåŠ¡å°†å¯¹äº¤
  äº’å¼å®æ—¶åº”ç”¨ç¨‹åºæœ‰å¸å¼•åŠ›ï¼Œå¦‚å› ç‰¹ç½‘ç”µè¯ã€è™šæ‹Ÿç¯å¢ƒã€ ç”µ è¯ ä¼š è®® å’Œ å¤š
  æ–¹ æ¸¸ æˆ ï¼Œ æ‰€ æœ‰ è¿™ äº›æœåŠ¡ ä¸º äº†æœ‰ æ•ˆ æ€§è€Œ è¦æ±‚ æ•° æ®äº¤
  ä»˜æœ‰ä¸¥æ ¼çš„æ—¶é—´ é™åˆ¶ ( å‚ è§ç¬¬7ç« ï¼Œ{[} G a u t h i e r 1 9 9 9 ; R a m
  j e e 1 9 9 4 {]})ã€‚ ä¾‹å¦‚ï¼Œåœ¨å› ç‰¹ç½‘ç”µè¯ä¸­ï¼Œè¾ƒé•¿çš„æ—¶å»¶ä¼šå¯¼è‡´ä¼šè¯ä¸­
  å‡ºç°ä¸è‡ªç„¶çš„åœé¡¿ï¼›åœ¨å¤šæ–¹æ¸¸æˆå’Œè™šæ‹Ÿäº’ åŠ¨ç¯å¢ƒä¸­ï¼Œåœ¨åš å‡º åŠ¨
  ä½œå¹¶çœ‹åˆ°æ¥è‡ªç¯å¢ƒ ( å¦‚ æ¥ è‡ª ä½ äº ç«¯ åˆ° ç«¯ è¿ æ¥ ä¸­ å¦ ä¸€ ç«¯ ç‚¹ çš„ ç©
  å®¶ ) çš„ å“ åº” ä¹‹ é—´ ï¼Œ è¾ƒ é•¿ çš„ æ—¶ å»¶ ä½¿ å¾— å®ƒ å¤± å»
  çœŸå®æ„Ÿã€‚å¯¹äºéå®æ—¶çš„åº”ç”¨ï¼Œè¾ƒä½çš„æ—¶å»¶æ€»æ¯”è¾ƒé«˜çš„æ—¶å»¶å¥½ï¼Œä½†å¯¹ç«¯åˆ°ç«¯çš„æ—¶å»¶æ²¡æœ‰ä¸¥
  æ ¼çš„çº¦æŸã€‚
\end{enumerate}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  security
\end{enumerate}

\begin{itemize}
\item
  encryption, data integrity, \ldots{}
\end{itemize}

\begin{quote}
\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  å®‰å…¨æ€§ æœ€ å ï¼Œ è¿ è¾“ å è®® èƒ½ å¤Ÿ ä¸º åº” ç”¨ ç¨‹ åº æ ä¾› ä¸€ ç§ æˆ– å¤š ç§
  å®‰ å…¨ æ€§ æœ åŠ¡ ï¼Œ ä¾‹ å¦‚ ï¼Œ åœ¨ å‘ é€ ä¸»
  æœºä¸­ï¼Œè¿è¾“åè®®èƒ½å¤ŸåŠ å¯†ç”±å‘é€è¿›ç¨‹ä¼ è¾“çš„æ‰€æœ‰æ•°æ®ï¼Œåœ¨æ¥æ”¶ä¸»æœºä¸­ï¼Œè¿è¾“å±‚åè®®èƒ½å¤Ÿåœ¨å°†æ•°æ®äº¤
  ä»˜ç»™æ¥æ”¶è¿›ç¨‹ä¹‹
  å‰è§£å¯†è¿™äº›æ•°æ®ã€‚è¿™ç§æœåŠ¡å°†åœ¨å‘é€å’Œæ¥æ”¶è¿›ç¨‹ä¹‹é—´æä¾›æœºå¯†æ€§ï¼Œä»¥é˜²è¯¥æ•°æ®ä»¥æŸç§æ–¹å¼åœ¨è¿™ä¸¤
  ä¸ªè¿›ç¨‹ä¹‹é—´è¢«è§‚å¯Ÿåˆ° ã€‚è¿è¾“åè®®è¿˜èƒ½æä¾›é™¤äº†æœºå¯†æ€§ä»¥å¤–çš„å…¶ ä»–å®‰å…¨æ€§
  æœåŠ¡ï¼ŒåŒ…æ‹¬ æ•° æ® å®Œ æ•´ æ€§å’Œç«¯ç‚¹é‰´åˆ«ï¼Œæˆ‘ä»¬å°† åœ¨ç¬¬8ç« ä¸­è¯¦ ç»†è®¨è®ºè¿™äº›
  ä¸»é¢˜ã€‚
\end{enumerate}
\end{quote}

2.14

Transport service requirements: common apps

\begin{longtable}[]{@{}llll@{}}
\toprule
\textbf{application} & \textbf{data loss} & \textbf{throughput} &
\textbf{time sensitive}\tabularnewline
\midrule
\endhead
& & &\tabularnewline
file transfer & no loss & elastic & no\tabularnewline
e-mail & no loss & elastic & no\tabularnewline
Web documents & no loss & elastic & no\tabularnewline
real-time audio/video & loss-tolerant & audio: 5kbps-1Mbps & yes, 100's
msec\tabularnewline
& & video:10kbps-5Mbps &\tabularnewline
stored audio/video & loss-tolerant & same as above & yes, few
secs\tabularnewline
interactive games & loss-tolerant & few kbps up & yes, 100's
msec\tabularnewline
text messaging & no loss & elastic & yes and no\tabularnewline
\bottomrule
\end{longtable}

\begin{quote}
è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»è€ƒè™‘äº†è®¡ç®—æœºç½‘ç»œèƒ½å¤Ÿä¸€èˆ¬æ€§åœ°æä¾›çš„è¿è¾“æœåŠ¡ã€‚ç°åœ¨æˆ‘ä»¬è¦æ›´ä¸ºå…·
ä½“åœ°è€ƒå¯Ÿç”±å› ç‰¹ç½‘æä¾›çš„è¿è¾“æœåŠ¡ç±»å‹ã€‚å› ç‰¹ç½‘ï¼ˆæ›´ä¸€èˆ¬çš„æ˜¯T C P / I
Pç½‘ç»œï¼‰ä¸ºåº”ç”¨ç¨‹åºæä¾› ä¸¤ ä¸ªè¿è¾“å±‚åè®®ï¼Œå³U D På’ŒT C Pã€‚å½“ä½ ï¼ˆä½œ ä¸º ä¸€
ä¸ªè½¯ä»¶å¼€å‘è€…ï¼‰ä¸ºå› ç‰¹ç½‘åˆ›å»ºä¸€ ä¸ª
æ–°çš„åº”ç”¨æ—¶ï¼Œé¦–å…ˆè¦åšå‡ºçš„å†³å®šæ˜¯ï¼Œé€‰æ‹©UDPè¿˜æ˜¯é€‰æ‹©TCPã€‚æ¯ä¸ªåè®®ä¸ºè°ƒç”¨å®ƒä»¬çš„åº”ç”¨ç¨‹åºæä¾›äº†ä¸åŒçš„æœåŠ¡é›†åˆã€‚å›¾2-4æ˜¾ç¤ºäº†æŸäº›æ‰€é€‰çš„åº”ç”¨ç¨‹åºçš„æœåŠ¡è¦æ±‚ã€‚
\end{quote}

2.15

Internet transport protocols services

\emph{TCP service:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{reliable transport} between sending and receiving process
\item
  \emph{flow control:} sender won't overwhelm receiver
\item
  \emph{congestion control:} throttle sender when network overloaded
\item
  \emph{does not provide:} timing, minimum throughput guarantee,
  security
\item
  \emph{connection-oriented:} setup required between client and server
  processes
\end{enumerate}

\emph{UDP service:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \emph{unreliable data transfer} between sending and receiving process
\item
  \emph{does not provide:} reliability, flow control, congestion
  control, timing, throughput guarantee, security, orconnection setup,
\end{enumerate}

\begin{quote}
UDPæ˜¯ä¸€ç§ä¸æä¾›ä¸å¿…è¦æœåŠ¡çš„è½»é‡çº§è¿è¾“åè®®ï¼Œå®ƒä»…æä¾›æœ€å°æœåŠ¡ã€‚UDPæ˜¯æ— è¿æ¥çš„ï¼Œå› æ­¤åœ¨ä¸¤ä¸ªè¿›ç¨‹é€šä¿¡å‰æ²¡æœ‰æ¡æ‰‹è¿‡ç¨‹ã€‚UDPåè®®æä¾›ä¸€ç§ä¸å¯é æ•°æ®ä¼ é€æœåŠ¡ï¼Œä¹Ÿ
å°±æ˜¯è¯´ï¼Œå½“è¿›ç¨‹å°†ä¸€ä¸ªæŠ¥æ–‡å‘é€è¿›UDPå¥—æ¥å­—æ—¶ï¼ŒUDPåè®®å¹¶ä¸ä¿è¯è¯¥æŠ¥æ–‡å°†åˆ°è¾¾æ¥æ”¶è¿›ç¨‹ã€‚ä¸ä»…å¦‚æ­¤ï¼Œåˆ°è¾¾æ¥æ”¶è¿›ç¨‹çš„æŠ¥æ–‡ä¹Ÿå¯èƒ½æ˜¯ä¹±åºåˆ°è¾¾çš„ã€‚
UDPæ²¡æœ‰åŒ…æ‹¬æ‹¥å¡æ§åˆ¶æœºåˆ¶ï¼Œæ‰€ä»¥UDPçš„å‘é€ç«¯å¯ä»¥ç”¨å®ƒé€‰å®šçš„ä»»ä½•é€Ÿç‡å‘å…¶ä¸‹å±‚ï¼ˆç½‘ç»œå±‚ï¼‰æ³¨äººæ•°æ®ã€‚ï¼ˆç„¶è€Œï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯å®é™…ç«¯åˆ°ç«¯ååé‡å¯èƒ½å°äºè¿™ç§é€Ÿç‡ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºä¸­é—´é“¾è·¯çš„å¸¦å®½å—é™æˆ–å› ä¸ºæ‹¥å¡è€Œé€ æˆçš„ã€‚ï¼‰
\end{quote}

Q: why bother? Why is there a UDP?

2.16

Internet apps: application, transport protocols

\begin{longtable}[]{@{}lll@{}}
\toprule
\textbf{application} & \textbf{application layer protocol} &
\textbf{underlying transport protocol}\tabularnewline
\midrule
\endhead
& &\tabularnewline
e-mail & SMTP {[}RFC 2821{]} & TCP\tabularnewline
remote terminal access & Telnet {[}RFC 854{]} & TCP\tabularnewline
Web & HTTP {[}RFC 2616{]} & TCP\tabularnewline
file transfer & FTP {[}RFC 959{]} & TCP\tabularnewline
streaming multimedia & HTTP (e.g., YouTube), RTP {[}RFC 1889{]} & TCP or
UDP\tabularnewline
& &\tabularnewline
Internet telephony & SIP, RTP, proprietary (e.g., Skype) & TCP or
UDP\tabularnewline
\bottomrule
\end{longtable}

\begin{quote}
è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»è€ƒè™‘äº†è®¡ç®—æœºç½‘ç»œèƒ½å¤Ÿä¸€èˆ¬æ€§åœ°æä¾›çš„è¿è¾“æœåŠ¡ã€‚ç°åœ¨æˆ‘ä»¬è¦æ›´ä¸ºå…·
ä½“åœ°è€ƒå¯Ÿç”±å› ç‰¹ç½‘æä¾›çš„è¿è¾“æœåŠ¡ç±»å‹ã€‚å› ç‰¹ç½‘ï¼ˆæ›´ä¸€èˆ¬çš„æ˜¯TCP
/IPç½‘ç»œï¼‰ä¸ºåº”ç”¨ç¨‹åºæä¾›ä¸¤ä¸ªè¿è¾“å±‚åè®®ï¼Œå³UDPå’ŒTCPã€‚å½“ä½ ï¼ˆä½œä¸ºä¸€ä¸ªè½¯ä»¶å¼€å‘è€…ï¼‰ä¸ºå› ç‰¹ç½‘åˆ›å»ºä¸€ä¸ª
æ–°çš„åº”ç”¨æ—¶ï¼Œé¦–å…ˆè¦åšå‡ºçš„å†³å®šæ˜¯ï¼Œé€‰æ‹©UDPè¿˜æ˜¯é€‰æ‹©TCPã€‚æ¯ä¸ªåè®®ä¸ºè°ƒç”¨å®ƒä»¬çš„åº”ç”¨ç¨‹åºæä¾›äº†ä¸åŒçš„æœåŠ¡é›†åˆã€‚å›¾2-4æ˜¾ç¤ºäº†æŸäº›æ‰€é€‰çš„åº”ç”¨ç¨‹åºçš„æœåŠ¡è¦æ±‚ã€‚
\end{quote}

2.17

Securing TCP

TCP \& UDP

\begin{itemize}
\item
  no encryption
\item
  cleartext passwds sent into socket traverse Internet in cleartext
\end{itemize}

SSL

\begin{itemize}
\item
  provides encrypted TCP connection
\item
  data integrity
\item
  end-point authentication
\end{itemize}

SSL is at app layer

\begin{itemize}
\item
  Apps use SSL libraries, which ``talk'' to TCP
\end{itemize}

SSL socket API

\begin{itemize}
\item
  \begin{itemize}
  \item
    cleartext passwds sent into socket traverse Internet encrypted
  \item
    See Chapter 7
  \end{itemize}
\end{itemize}

\begin{quote}
æ— è®ºTCPè¿˜æ˜¯UDPéƒ½æ²¡æœ‰æä¾›ä»»ä½•åŠ å¯†æœºåˆ¶ï¼Œè¿™å°±æ˜¯è¯´å‘é€è¿›ç¨‹ä¼ è¿›å…¶å¥—æ¥å­—çš„æ•°æ®ï¼Œä¸ç»ç½‘ç»œä¼ é€åˆ°ç›®çš„è¿›ç¨‹çš„æ•°æ®ç›¸åŒã€‚å› æ­¤ï¼Œä¸¾ä¾‹æ¥è¯´å¦‚æœæŸå‘é€è¿›ç¨‹ä»¥æ˜æ–‡æ–¹å¼ï¼ˆå³æ²¡æœ‰åŠ å¯†ï¼‰å‘é€äº†ä¸€ä¸ªå£ä»¤è¿›å…¥å®ƒçš„å¥—æ¥å­—ï¼Œè¯¥æ˜æ–‡å£ä»¤å°†ç»è¿‡å‘é€æ–¹ä¸æ¥æ”¶æ–¹ä¹‹é—´çš„æ‰€æœ‰é“¾è·¯ä¼ é€ï¼Œè¿™å°±å¯èƒ½åœ¨ä»»ä½•ä¸­é—´é“¾è·¯è¢«å—…æ¢å’Œå‘ç°ï¼Œå› ä¸ºéšç§å’Œå…¶ä»–å®‰å…¨é—®é¢˜å¯¹è®¸å¤šåº”ç”¨è€Œè¨€å·²ç»æˆä¸ºè‡³å…³é‡è¦çš„é—®é¢˜ï¼Œæ‰€ä»¥å› ç‰¹ç½‘ç•Œå·²ç»ç ”åˆ¶äº†
TCPçš„åŠ å¼ºç‰ˆæœ¬ï¼Œç§°ä¸ºå®‰å…¨å¥—æ¥å­—å±‚ï¼ˆSecure Sockets
Layerï¼ŒSSLï¼‰ã€‚ç”¨SSLåŠ å¼ºåçš„TCPä¸ä»…èƒ½å¤Ÿåšä¼ ç»Ÿçš„TCPæ‰€èƒ½åšçš„ä¸€åˆ‡ï¼Œè€Œä¸”æä¾›äº†å…³é”®çš„è¿›ç¨‹åˆ°è¿›ç¨‹çš„å®‰å…¨æ€§æœåŠ¡ï¼ŒåŒ…æ‹¬åŠ å¯†ã€æ•°æ®å®Œæ•´æ€§å’Œç«¯ç‚¹é‰´åˆ«ã€‚æˆ‘ä»¬å¼ºè°ƒSSLä¸æ˜¯ä¸TCPå’ŒUD
Påœ¨ç›¸åŒå±‚æ¬¡ä¸Šçš„ç¬¬ä¸‰ç§å› ç‰¹ç½‘è¿è¾“åè®®ï¼Œè€Œæ˜¯ä¸€ç§å¯¹TCPçš„åŠ å¼ºï¼Œè¿™ç§å¼ºåŒ–æ˜¯åœ¨åº”ç”¨å±‚ä¸Šå®ç°çš„ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºè¦ä½¿ç”¨SS
Lçš„æœåŠ¡ï¼Œå®ƒéœ€è¦åœ¨è¯¥åº”ç”¨ç¨‹åºçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯åŒ…æ‹¬SSLä»£ç ï¼ˆåˆ©ç”¨ç°æœ‰çš„ã€é«˜åº¦ä¼˜åŒ–
çš„åº“å’Œç±»SS Læœ‰å®ƒ è‡ªå·±çš„å¥—æ¥ å­—API ,è¿™ç±» ä¼¼äº ä¼ ç»Ÿçš„TCP
å¥—æ¥å­—API,å½“ä¸€ä¸ªåº”ç”¨ä½¿ç”¨SS Læ—¶ï¼Œå‘é€è¿›ç¨‹å‘SS
Lå¥—æ¥å­—ä¼ é€’æ˜æ–‡æ•°æ®ï¼›åœ¨å‘é€ä¸»æœºä¸­çš„SSLåˆ™åŠ å¯†è¯¥æ•°æ®å¹¶å°†åŠ å¯†çš„æ•°æ®ä¼ é€’ç»™TCPå¥—æ¥å­—ã€‚åŠ å¯†çš„æ•°æ®ç»å› ç‰¹ç½‘ä¼ é€åˆ°æ¥æ”¶è¿›ç¨‹ä¸­çš„TCPå¥—æ¥å­—ã€‚è¯¥æ¥æ”¶å¥—æ¥å­—å°†åŠ å¯†æ•°æ®ä¼ é€’ç»™SSLï¼Œç”±å…¶è¿›è¡Œè§£å¯†ã€‚æœ€åï¼ŒSSLé€šè¿‡å®ƒçš„SSLå¥—æ¥å­—å°†æ˜æ–‡æ•°æ®ä¼ é€’ç»™æ¥æ”¶è¿›ç¨‹ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬8ç« ä¸­æ›´ä¸ºè¯¦ç»†åœ°è®¨è®ºSSLã€‚
\end{quote}

\hypertarget{22-web-and-http-hypertext-transfer-protocol-}{%
\subsection{2.2 Web and HTTP( Hypertext Transfer Protocol
)}\label{22-web-and-http-hypertext-transfer-protocol-}}

2.19

Web and HTTP

\emph{First, a review\ldots{}}

\begin{itemize}
\item
  \emph{web page} consists of \emph{objects}
\item
  object can be HTML file, JPEG image, Java applet, audio file,\ldots{}
\item
  web page consists of \emph{base HTML-file} which includes
  \emph{several referenced objects}
\item
  each object is addressable by a \emph{URL,} e.g.,
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210311105419270.png}
\caption{}
\end{figure}

2.20 HTTP{[}C/S model{]} overview

\begin{quote}
Http, æ— çŠ¶æ€çš„åè®® æŒç»­é“¾æ¥å’ŒéæŒç»­é“¾æ¥çš„åŒºåˆ«
\end{quote}

\hypertarget{http-hypertext-transfer-protocol}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸HTTP: hypertext transfer
protocol}}{â­ï¸HTTP: hypertext transfer protocol}}\label{http-hypertext-transfer-protocol}}

\begin{itemize}
\item
  Web's application layer protocol
\item
  client/server model
\item
  \begin{itemize}
  \item
    \emph{client:} browser that requests, receives, (using HTTP
    protocol) and ``displays'' Web objects
  \item
    \emph{server:} Web server sends (using HTTP protocol) objects in
    response to requests
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210311105445603.png}
\caption{}
\end{figure}

2.21 HTTP overview (continued)

\emph{uses TCP:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  client initiates TCP connection (creates socket) to server, port 80
\item
  server accepts TCP connection from client
\item
  HTTP messages (application-layer protocol messages) exchanged between
  browser (HTTP client) and Web server (HTTP server)
\item
  TCP connection closed
\end{enumerate}

\emph{HTTP is ``stateless''}

\begin{itemize}
\item
  server maintains no information about past client requests
\end{itemize}

\emph{aside}

protocols that maintain ``state'' are complex!

\begin{itemize}
\item
  past history (state) must be maintained
\item
  if server/client crashes, their views of ``state'' may be
  inconsistent, must be reconciled
\end{itemize}

2.22 HTTP connections

\emph{non-persistent HTTP}

\begin{itemize}
\item
  at most one object sent over TCP connection
\item
  \begin{itemize}
  \item
    connection then closed
  \end{itemize}
\item
  downloading multiple objects required multiple connections
\end{itemize}

\emph{persistent HTTP}

\begin{itemize}
\item
  multiple objects can be sent over single TCP connection between
  client, server
\end{itemize}

2.23 Non-persistent HTTP

\begin{quote}
éæŒç»­æ€§çš„HTTP é“¾æ¥ HTTP C ç«¯ å¼€å§‹ å¯¹ 80 ç«¯å£çš„ TCP é“¾æ¥ HTTP S
ç«¯å¼€å§‹ç­‰å¾… 80 ç«¯å£çš„ TCP é“¾æ¥
\end{quote}

suppose user enters URL:
\url{www.someSchool.edu/someDepartment/home.index} (contains text,
references to 10 jpeg images)

1a. HTTP client initiates TCP connection to HTTP server (process) at
\url{www.someSchool.edu} on port 80

1b. HTTP server at host \url{www.someSchool.edu} waiting for TCP
connection at port 80. ``accepts'' connection, notifying client

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  HTTP client sends HTTP \emph{request message} (containing URL) into
  TCP connection socket. Message indicates that client wants object
  someDepartment/home.index
\item
  HTTP server receives request message, forms \emph{response message}
  containing requested object, and sends message into its socket
\item
  HTTP server closes TCP connection.
\item
  HTTP client receives response message containing html file, displays
  html. Parsing html file, finds 10 referenced jpeg objects
\item
  Steps 1-5 repeated for each of 10 jpeg objects
\end{enumerate}

2.25

Non-persistent HTTP: response time

\hypertarget{rtt-round-trip-time-}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸RTT( Round-Trip Time
)}}{â­ï¸RTT( Round-Trip Time )}}\label{rtt-round-trip-time-}}

(definition): time for a small packet to travel from client to server
and back

HTTP response time:

\begin{itemize}
\item
  one RTT to initiate TCP connection
\item
  one RTT for HTTP request and first few bytes of HTTP response to
  return
\item
  file transmission time
\item
  non-persistent HTTP response time = 2RTT+ file transmission time
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210311105900039.png}
\caption{}
\end{figure}

2.26

Persistent HTTP

\emph{non-persistent HTTP issues:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  requires 2 RTTs per object
\item
  OS overhead for \emph{each} TCP connection
\item
  browsers often open parallel TCP connections to fetch referenced
  objects
\end{enumerate}

\emph{persistent HTTP:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  server leaves connection open after sending response
\item
  subsequent HTTP messages between same client/server sent over open
  connection
\item
  client sends requests as soon as it encounters a referenced object
\item
  as little as one RTT for all the referenced objects
\end{enumerate}

2.27

HTTP request message

\begin{itemize}
\item
  two types of HTTP messages: \emph{request}, \emph{response}
\item
  HTTP request message:
\item
  \begin{itemize}
  \item
    ASCII (human-readable format)
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210311110005934.png}
\caption{}
\end{figure}

2.28

HTTP request message: general format

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210311110111435.png}
\caption{}
\end{figure}

2.29

Uploading form input

POST method:

\begin{itemize}
\item
  web page often includes form input
\item
  input is uploaded to server in entity body
\end{itemize}

URL method:

\begin{itemize}
\item
  uses GET method
\item
  input is uploaded in URL field of request line:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{www.somesite.com/animalsearch?monkeys}\ErrorTok{\&}\NormalTok{banana}
\end{Highlighting}
\end{Shaded}

2.30

Method types

HTTP/1.0:

\begin{itemize}
\item
  GET
\item
  POST
\item
  HEAD
\item
  \begin{itemize}
  \item
    asks server to leave requested object out of response
  \end{itemize}
\end{itemize}

HTTP/1.1:

\begin{itemize}
\item
  GET, POST, HEAD
\item
  PUT
\item
  \begin{itemize}
  \item
    uploads file in entity body to path specified in URL field
  \end{itemize}
\item
  DELETE
\item
  \begin{itemize}
  \item
    deletes file specified in the URL field
  \end{itemize}
\end{itemize}

2.31

HTTP response message

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210311110349765.png}
\caption{}
\end{figure}

2.32

HTTP response status codes

\begin{itemize}
\item
  status code appears in 1st line in server-to-client response message.
\item
  some sample codes:
\end{itemize}

\textbf{200 OK}

\begin{itemize}
\item
  \begin{itemize}
  \item
    request succeeded, requested object later in this msg
  \end{itemize}
\end{itemize}

\textbf{301 Moved Permanently}

\begin{itemize}
\item
  \begin{itemize}
  \item
    requested object moved, new location specified later in this msg
    (Location:)
  \end{itemize}
\end{itemize}

\textbf{400 Bad Request}

\begin{itemize}
\item
  \begin{itemize}
  \item
    request msg not understood by server
  \end{itemize}
\end{itemize}

\textbf{404 Not Found}

\begin{itemize}
\item
  \begin{itemize}
  \item
    requested document not found on this server
  \end{itemize}
\end{itemize}

\textbf{505 HTTP Version Not Supported}

2.33

Trying out HTTP (client side) for yourself

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Telnet to your favorite Web server:
\end{enumerate}

\textbf{telnet cis.poly.edu 80}

opens TCP connection to port 80

(default HTTP server port) at cis.poly.edu.

anything typed in sent

to port 80 at cis.poly.edu

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  type in a GET HTTP request:
\end{enumerate}

\textbf{GET /\textasciitilde ross/ HTTP/1.1}

\textbf{Host: cis.poly.edu}

2.34 User-server state: cookies

many Web sites use cookies

\emph{four components:}

1) cookie header line of HTTP \emph{response} message

2) cookie header line in next HTTP \emph{request} message

3) cookie file kept on user's host, managed by user's browser

4) back-end database at Web site

example:

\begin{itemize}
\item
  Susan always access Internet from PC
\item
  visits specific e-commerce site for first time
\item
  when initial HTTP requests arrives at site, site creates:
\item
  \begin{itemize}
  \item
    unique ID
  \item
    entry in backend database for ID
  \end{itemize}
\end{itemize}

2.35

Cookies: keeping ``state'' (cont.)

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210311141644663.png}
\caption{}
\end{figure}

2.36

\emph{what cookies can be used for:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  authorization
\item
  shopping carts
\item
  recommendations
\item
  user session state (Web e-mail)
\end{enumerate}

\emph{how to keep ``state'':}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  protocol endpoints: maintain state at sender/receiver over multiple
  transactions
\item
  cookies: http messages carry state
\end{enumerate}

\emph{cookies and privacy:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  cookies permit sites to learn a lot about you
\item
  you may supply name and e-mail to sites
\end{enumerate}

2.37

Web caches (proxy server)

\begin{quote}
web ç¼“å­˜ï¼Œ
\end{quote}

\emph{goal:} satisfy client request without involving origin server

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  user sets browser: Web accesses via cache
\item
  browser sends all HTTP requests to cache
\item
  \begin{itemize}
  \item
    object in cache: cache returns object
  \item
    else cache requests object from origin server, then returns object
    to client
  \end{itemize}
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210315154516806.png}
\caption{}
\end{figure}

2.38

More about Web caching

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  cache acts as both client and server
\item
  \begin{itemize}
  \item
    server for original requesting client
  \item
    client to origin server
  \end{itemize}
\item
  typically cache is installed by ISP (university, company, residential
  ISP)
\end{enumerate}

\emph{why Web caching?}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  reduce response time for client request
\item
  reduce traffic on an institution's access link
\item
  Internet dense with caches: enables ``poor'' content providers to
  effectively deliver content (so too does P2P file sharing)
\end{enumerate}

2.39

Caching example:

\emph{assumptions:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  avg object size: 100K bits
\item
  avg request rate from browsers to origin servers:15/sec
\item
  avg data rate to browsers: 1.50 Mbps
\item
  RTT from institutional router to any origin server: 2 sec
\item
  access link rate: 1.54 Mbps
\end{enumerate}

\emph{consequences:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  LAN utilization: 15\%
\item
  access link utilization = 99\%
\item
  total delay = Internet delay
  {[}\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316103014641.png}{]}
  access delay + LAN delay = 2 sec + minutes + usecs
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210315154842559.png}
\caption{}
\end{figure}

2.40

Caching example: fatter access link

\emph{assumptions:}

\begin{itemize}
\item
  avg object size: 100K bits
\item
  avg request rate from browsers to origin servers:15/sec
\item
  avg data rate to browsers: 1.50 Mbps
\item
  RTT from institutional router to any origin server: 2 sec
\item
  access link rate: 1.54
  Mbps\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316103032810.png}
\end{itemize}

\emph{consequences:}

\begin{itemize}
\item
  LAN utilization: 15\%
\item
  access link utilization =
  99\%\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316103042875.png}
\item
  total delay = Internet delay + access delay + LAN delay

  = 2 sec + minutes +
  usecs\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316103055232.png}
\end{itemize}

Cost: increased access link speed (not cheap!)

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316102411065.png}
\caption{}
\end{figure}

2.41

\emph{assumptions:}

\begin{itemize}
\item
  avg object size: 100K bits
\item
  avg request rate from browsers to origin servers:15/sec
\item
  avg data rate to browsers: 1.50 Mbps
\item
  RTT from institutional router to any origin server: 2 sec
\item
  access link rate: 1.54 Mbps
\end{itemize}

\emph{consequences:}

\begin{itemize}
\item
  LAN utilization: 15\%
\item
  access link utilization = 100\%
\item
  total delay = Internet delay + access delay + LAN delay

  = 2 sec + minutes + usecs
\end{itemize}

\emph{How to compute link} utilization, delay?

Cost: web cache (cheap!)

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316103157522.png}
\caption{}
\end{figure}

2.42

Caching example: install local cache

\emph{Calculating access link utilization, delay with cache:}

\begin{itemize}
\item
  suppose cache hit rate is 0.4
\item
  \begin{itemize}
  \item
    40\% requests satisfied at cache, 60\% requests satisfied at origin
  \end{itemize}
\end{itemize}

\begin{itemize}
\item
  access link utilization:
\item
  \begin{itemize}
  \item
    60\% of requests use access link
  \end{itemize}
\item
  data rate to browsers over access link = 0.6*1.50 Mbps = .9 Mbps
\item
  \begin{itemize}
  \item
    utilization = 0.9/1.54 = .58
  \end{itemize}
\end{itemize}

\begin{itemize}
\item
  total delay
\item
  \begin{itemize}
  \item
    = 0.6 * (delay from origin servers) +0.4 * (delay when satisfied at
    cache)
  \item
    = 0.6 (2.01) + 0.4 (\textasciitilde msecs)
  \item
    = \textasciitilde{} 1.2 secs
  \item
    less than with 154 Mbps link (and cheaper too!)
  \end{itemize}
\end{itemize}

\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316102901433.png}

2.43

Conditional GET

\begin{itemize}
\item
  \emph{Goal:} don't send object if cache has up-to-date cached version
\item
  \begin{itemize}
  \item
    no object transmission delay
  \item
    lower link utilization
  \end{itemize}
\item
  \emph{cache:} specify date of cached copy in HTTP request
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{If{-}modified{-}since: }\KeywordTok{\textless{}date\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\item
  \emph{server:} response contains no object if cached copy is
  up-to-date:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{HTTP/1.0 304 Not Modified}
\end{Highlighting}
\end{Shaded}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316083302013.png}
\caption{}
\end{figure}

\hypertarget{23-ftp-fire-transfer-protocol-}{%
\subsection{2.3 FTP( Fire Transfer Protocol
)}\label{23-ftp-fire-transfer-protocol-}}

2.45 FTP: the file transfer protocol

\begin{quote}
FTP outband å¸¦å¤–ä¼ è¾“ï¼Œ 2æ¡é“¾æ¥ HTTP inband å¸¦å†…ä¼ è¾“
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316083951508.png}
\caption{}
\end{figure}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{transfer file to/from remote host}
\item
  \hl{client/server model {[}CS æ¨¡å¼{]}}
\item
  \begin{itemize}
  \item
    \emph{client:} side that initiates transfer (either to/from remote)
  \item
    \emph{server:} remote host
  \end{itemize}
\item
  ftp: RFC 959
\item
  ftp server: port \hl{21}
\end{enumerate}

\begin{quote}
åœ¨ä¸€ä¸ªå…¸å‹çš„FTPä¼šè¯ä¸­ï¼Œç”¨æˆ·ååœ¨ä¸€å°ä¸»æœºï¼ˆæœ¬åœ°ä¸»æœºï¼‰å‰é¢ï¼Œå‘ä¸€å°è¿œç¨‹ä¸»æœºä¼ è¾“ï¼ˆæˆ–æ¥æ”¶æ¥è‡ªè¿œç¨‹ä¸»æœºçš„ï¼‰æ–‡ä»¶ã€‚ä¸ºä½¿ç”¨æˆ·èƒ½è®¿é—®å®ƒçš„è¿œç¨‹è´¦æˆ·ï¼Œç”¨æˆ·å¿…é¡»æä¾›ä¸€ä¸ªç”¨æˆ·æ ‡è¯†å’Œå£ä»¤ã€‚åœ¨æä¾›äº†è¿™ç§æˆæƒä¿¡æ¯åï¼Œç”¨æˆ·å°±èƒ½ä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå‘è¿œç¨‹ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¼ é€æ–‡ä»¶ï¼Œåä¹‹
äº¦ç„¶=å¦‚å›¾2- 14æ‰€ç¤ºï¼Œç”¨æˆ·é€šè¿‡ä¸€ä¸ªFT Pç”¨æˆ·ä»£ç†ä¸FTPäº¤äº’
ã€‚è¯¥ç”¨æˆ·é¦–å…ˆæä¾›è¿œç¨‹ä¸»æœºçš„ä¸»æœºåï¼Œä½¿æœ¬åœ°ä¸»æœºçš„FTPå®¢æˆ·è¿›ç¨‹å»ºç«‹ä¸€ä¸ªåˆ°è¿œç¨‹ä¸»æœºFTPæœåŠ¡å™¨è¿›ç¨‹çš„TCPè¿æ¥ã€‚è¯¥ç”¨æˆ·æ¥ç€æä¾›ç”¨æˆ·æ ‡è¯†å’Œå£ä»¤ï¼Œä½œä¸ºFT
På‘½ä»¤çš„ä¸€éƒ¨åˆ†åœ¨è¯¥TCPè¿æ¥ä¸Šä¼ é€ã€‚ä¸€æ—¦è¯¥æœåŠ¡å™¨å‘è¯¥ç”¨æˆ·æˆæƒï¼Œç”¨æˆ·å¯ä»¥å°†å­˜æ”¾åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿï¼ˆåä¹‹äº¦ç„¶ï¼‰ã€‚
\end{quote}

2.46

FTP{[} File Transfer Protocol {]}: separate control, data connections

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  FTP client contacts FTP server at port 21, using TCP
\item
  client authorized over control connection
\item
  client browses remote directory, sends commands over control
  connection
\item
  when server receives file transfer command, \emph{server} opens
  \emph{2**nd} TCP data connection (for file) \emph{to} client
\item
  after transferring one file, server closes data connection
\item
  server opens another TCP data connection to transfer another file
\item
  control connection: \emph{``out of band''}
\item
  FTP server maintains ``state'': current directory, earlier
  authentication
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316084050007.png}
\caption{}
\end{figure}

\begin{quote}
HTTPå’ŒFTPéƒ½æ˜¯æ–‡ä»¶ä¼ è¾“åè®®ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šå…±åŒçš„ç‰¹ç‚¹ï¼Œä¾‹å¦‚ï¼Œå®ƒä»¬éƒ½è¿è¡Œåœ¨TCP
ä¸Šã€ç„¶è€Œï¼Œè¿™ä¸¤ä¸ªåº”ç”¨å±‚åè®®ä¹Ÿæœ‰ä¸€äº›é‡è¦çš„åŒºåˆ«ã€‚å…¶ä¸­æœ€æ˜¾è‘—çš„å°±æ˜¯FTPä½¿ç”¨äº†ä¸¤ä¸ªå¹¶è¡Œçš„TC
Pè¿æ¥æ¥ä¼ è¾“æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯æ§åˆ¶è¿æ¥ï¼ˆcontrol
connectionï¼‰ï¼Œä¸€ä¸ªæ˜¯æ•°æ®è¿æ¥ï¼ˆdata connectionï¼‰
æ§åˆ¶è¿æ¥ç”¨äºåœ¨ä¸¤ä¸»æœºä¹‹é—´ä¼ è¾“æ§åˆ¶ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·æ ‡è¯†ã€å£ä»¤ã€æ”¹å˜è¿œç¨‹ç›®
å½•çš„å‘½ä»¤ ä»¥åŠ ``å­˜æ”¾ ï¼ˆputï¼‰"å’Œ`` è·å–ï¼ˆgetï¼‰''æ–‡ä»¶çš„å‘½ä»¤ ã€‚æ•°æ®
è¿æ¥ç”¨äºå®é™…å‘é€ä¸€ä¸ª æ–‡ä»¶ã€‚ å› ä¸ºFT Påè®®ä½¿ç”¨ä¸€ä¸ª ç‹¬ç«‹
çš„æ§åˆ¶è¿æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿç§°FT Pçš„æ§åˆ¶ä¿¡æ¯æ˜¯å¸¦å¤–ï¼ˆou t-o f-b and
ï¼‰ä¼ é€çš„ã€‚å¦‚ä½ æ‰€çŸ¥ï¼ŒHTT
Påè®®æ˜¯åœ¨ä¼ è¾“æ–‡ä»¶çš„åŒä¸€ä¸ªTCPè¿æ¥ä¸­å‘é€è¯·æ±‚å’Œå“åº”é¦–éƒ¨è¡Œçš„ã€‚å› æ­¤ï¼ŒHTTPä¹Ÿå¯ä»¥è¯´æ˜¯å¸¦å†…ï¼ˆin-bandï¼‰å‘é€æ§åˆ¶ä¿¡æ¯çš„ã€FTPåè®®çš„æ§åˆ¶è¿æ¥å’Œæ•°æ®è¿æ¥å¦‚å›¾2-15æ‰€ç¤ºã€‚

å½“ç”¨æˆ·ä¸»æœºä¸è¿œç¨‹ä¸»æœºå¼€å§‹ä¸€ä¸ªFTPä¼š è¯æ—¶ï¼ŒFTPçš„å®¢æˆ·ï¼ˆç”¨æˆ·ï¼‰ç«¯é¦–å…ˆåœ¨æœåŠ¡å™¨
21å·ç«¯å£ä¸æœåŠ¡å™¨ï¼ˆè¿œç¨‹ä¸»æœºï¼‰ç«¯å‘èµ·ä¸€ä¸ª
ç”¨äºæ§åˆ¶çš„TCPè¿æ¥ã€‚FTPçš„å®¢æˆ·ç«¯ä¹Ÿé€šè¿‡è¯¥æ§åˆ¶è¿æ¥å‘é€ç”¨æˆ·çš„æ ‡è¯†å’Œå£ä»¤ï¼Œå‘é€æ”¹å˜è¿œç¨‹ç›®å½•çš„å‘½ä»¤ã€‚å½“FTPçš„æœåŠ¡å™¨ç«¯ä»è¯¥è¿æ¥ä¸Šæ”¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¼ è¾“çš„å‘½ä»¤åï¼ˆæ— è®ºæ˜¯å‘
è¿˜æ˜¯æ¥è‡ªè¿œç¨‹ä¸»æœºï¼‰ï¼Œå°±å‘èµ·ä¸€ä¸ªåˆ°å®¢æˆ·ç«¯çš„TCPæ•°æ®è¿æ¥ã€‚FTPåœ¨è¯¥æ•°æ®è¿æ¥ä¸Šå‡†ç¡®åœ°ä¼ é€ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åå…³é—­è¯¥è¿æ¥ã€‚åœ¨åŒä¸€ä¸ªä¼šè¯æœŸé—´ï¼Œå¦‚æœç”¨æˆ·è¿˜éœ€è¦ä¼ è¾“å¦ä¸€ä¸ªæ–‡ä»¶,
FTPåˆ™æ‰“å¼€å¦ä¸€ä¸ªæ•°æ®è¿æ¥ã€‚å› è€Œå¯¹FTPä¼ è¾“è€Œè¨€ï¼Œæ§åˆ¶è¿æ¥è´¯ç©¿äº†æ•´ä¸ªç”¨æˆ·ä¼šè¯æœŸé—´ï¼Œä½†æ˜¯å¯¹ä¼šè¯ä¸­çš„æ¯ä¸€æ¬¡æ–‡ä»¶ä¼ è¾“éƒ½éœ€è¦å»ºç«‹ä¸€ä¸ªæ–°çš„æ•°æ®è¿æ¥ï¼ˆå³æ•°æ®è¿æ¥æ˜¯éæŒç»­çš„ï¼‰ã€‚

FTPæœåŠ¡å™¨å¿…é¡»åœ¨æ•´ä¸ªä¼šè¯æœŸé—´ä¿ç•™ç”¨æˆ·çš„çŠ¶æ€ï¼ˆstateï¼‰ã€‚ç‰¹åˆ«æ˜¯ï¼ŒæœåŠ¡å™¨å¿…é¡»æŠŠç‰¹å®šçš„ç”¨æˆ·è´¦æˆ·ä¸æ§åˆ¶è¿æ¥è”ç³»èµ·æ¥ï¼Œéšç€ç”¨æˆ·åœ¨è¿œç¨‹ç›®å½•æ ‘ä¸Šå¾˜å¾Šï¼ŒæœåŠ¡å™¨å¿…é¡»è¿½è¸ªç”¨æˆ·åœ¨è¿œç¨‹ç›®å½•æ ‘ä¸Šçš„å½“å‰ä½ç½®ï¼Œå¯¹æ¯ä¸ªè¿›è¡Œä¸­çš„ç”¨æˆ·ä¼šè¯çš„çŠ¶æ€ä¿¡æ¯è¿›è¡Œè¿½è¸ªï¼Œå¤§å¤§é™åˆ¶äº†FTPåŒæ—¶ç»´æŒçš„ä¼šè¯æ€»æ•°ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œå‰é¢è®²è¿‡HTTPæ˜¯æ— çŠ¶æ€çš„ï¼Œå³å®ƒä¸å¿…å¯¹ä»»ä½•ç”¨æˆ·çŠ¶æ€è¿›è¡Œè¿½è¸ªã€‚
\end{quote}

2.47

FTP commands, responses

\emph{sample commands:}

\begin{itemize}
\item
  sent as ASCII text over control channel
\item
  \textbf{USER *username*}
\item
  \textbf{PASS *password*}
\item
  \textbf{LIST} return list of file in current directory
\item
  \textbf{RETR filename} retrieves (gets) file
\item
  \textbf{STOR filename} stores (puts) file onto remote host
\end{itemize}

\begin{quote}
æˆ‘ä»¬é€šè¿‡ç®€è¦åœ°è®¨è®ºå‡ ä¸ªå¸¸è§çš„FTPå‘½ä»¤å’Œå›ç­”æ¥ç»“æŸæœ¬èŠ‚ã€‚ä»å®¢æˆ·åˆ°æœåŠ¡å™¨çš„å‘½ä»¤å’Œä»æœåŠ¡å™¨åˆ°
å®¢æˆ· çš„å›ç­”ï¼Œ éƒ½æ˜¯ä»¥7æ¯”ç‰¹ASC IIæ ¼å¼ åœ¨æ§ åˆ¶è¿æ¥ä¸Šä¼  é€çš„ ã€‚å› æ­¤ ï¼Œä¸
HTTPåè®®çš„å‘½ä»¤ç±»ä¼¼ï¼ŒFTPåè®®çš„å‘½ä»¤ä¹Ÿæ˜¯äººå¯è¯»çš„ã€‚ä¸ºäº†åŒºåˆ†è¿ç»­çš„å‘½ä»¤ï¼Œæ¯ä¸ªå‘½ä»¤åè·Ÿå›è½¦æ¢è¡Œç¬¦ã€‚æ¯ä¸ªå‘½ä»¤ç”±4ä¸ªå¤§å†™å­—æ¯ASCIIå­—ç¬¦ç»„æˆï¼Œæœ‰äº›è¿˜å…·æœ‰å¯é€‰å‚æ•°ã€‚ä¸€äº›è¾ƒä¸ºå¸¸è§çš„å‘½ä»¤å¦‚ä¸‹ï¼š
â€¢ USER usernameï¼šç”¨äºå‘æœåŠ¡å™¨ä¼ é€ç”¨æˆ·æ ‡è¯†ã€‚ â€¢ PASS
passwordï¼šç”¨äºå‘æœåŠ¡å™¨å‘é€ç”¨æˆ·å£ä»¤ã€ â€¢
USTï¼šç”¨äºè¯·æ±‚æœåŠ¡å™¨å›é€å½“å‰è¿œç¨‹ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨ã€‚è¯¥æ–‡ä»¶è¡¨æ˜¯ç»ä¸€
ä¸ªï¼ˆæ–°å»ºä¸”éæŒç»­è¿æ¥ï¼‰æ•°æ®è¿æ¥ä¼ é€çš„ï¼Œè€Œä¸æ˜¯åœ¨æ§åˆ¶TCPè¿æ¥ä¸Šä¼ é€ã€‚ â€¢ RETR
filenameï¼›ç”¨äºä»è¿œç¨‹ä¸»æœºå½“å‰ç›®å½•æ£€ç´¢ï¼ˆå³gelï¼‰æ–‡ä»¶ã€‚è¯¥å‘½ä»¤å¼•èµ·è¿œç¨‹ä¸»æœºå‘èµ·ä¸€ä¸ªæ•°æ®è¿æ¥ï¼Œå¹¶ç»è¯¥æ•°æ®è¿æ¥å‘é€æ‰€è¯·æ±‚çš„æ–‡ä»¶ã€‚
â€¢ STOR filenameï¼šç”¨äºåœ¨è¿œç¨‹ä¸»æœºçš„å½“å‰ç›®å½•ä¸Šå­˜æ”¾ï¼ˆå³putï¼‰æ–‡ä»¶ã€‚
\end{quote}

\emph{sample return codes}

\begin{itemize}
\item
  status code and phrase (as in HTTP)
\item
  \textbf{331 Username OK, password required}
\item
  \textbf{125 data connection already open; transfer starting}
\item
  \textbf{425 Can't open data connection}
\item
  \textbf{452 Error writing file}
\end{itemize}

\begin{quote}
è´¯ç©¿æ§åˆ¶è¿æ¥ï¼Œåœ¨ç”¨æˆ·å‘å‡ºçš„å‘½ä»¤å’ŒFTPå‘é€çš„å‘½ä»¤ä¹‹é—´é€šå¸¸æœ‰ä¸€ä¸€å¯¹åº”å…³ç³»ã€‚æ¯ä¸ªå‘½ä»¤éƒ½å¯¹åº”ç€ä¸€ä¸ªä»æœåŠ¡å™¨å‘å‘å®¢æˆ·çš„å›ç­”ã€‚å›ç­”æ˜¯ä¸€ä¸ª3ä½çš„æ•°å­—ï¼Œåè·Ÿä¸€ä¸ªå¯é€‰ä¿¡
æ¯ã€‚è¿™ä¸HTTPå“åº”æŠ¥æ–‡çŠ¶æ€è¡Œçš„çŠ¶æ€ç å’ŒçŠ¶æ€ä¿¡æ¯çš„ç»“æ„ç›¸åŒã€‚ä¸€äº›å…¸å‹çš„å›ç­”è¿åŒå®ƒä»¬å¯èƒ½çš„æŠ¥æ–‡å¦‚ä¸‹æ‰€ç¤ºï¼š
â€¢ 331 Username OK, Password required ï¼ˆç”¨æˆ·å OKï¼Œéœ€è¦å£ä»¤ï¼‰ã€‚ â€¢ 125
Data connection already openï¼› transfer starting
ï¼ˆæ•°æ®è¿æ¥å·²ç»æ‰“å¼€ï¼Œå¼€å§‹ä¼ é€ï¼‰ â€¢ 425 Can't open data connection
ï¼ˆæ— æ³•æ‰“å¼€æ•°æ®è¿æ¥ï¼‰ â€¢ 452 Error writing file ï¼ˆå†™æ–‡ä»¶å·®é”™ï¼‰ã€‚
æœ‰å…´è¶£å­¦ä¹ å…¶ä»–FTPå‘½ä»¤å’Œå›ç­”çš„è¯»è€…è¯·é˜…è¯»RFC 959ã€‚
\end{quote}

\hypertarget{24-electronic-mail--smtp-pop3-imap}{%
\subsection{2.4 electronic mail : SMTP, POP3,
IMAP}\label{24-electronic-mail--smtp-pop3-imap}}

\begin{quote}
ç•™ä¸‹çš„3ä¸ªé‚®ä»¶è®¿é—®åè®® POP3ï¼Œ IMAPï¼Œ HTTP
\end{quote}

\begin{quote}
è‡ªä»æœ‰äº†å› ç‰¹ç½‘ï¼Œç”µå­é‚®ä»¶å°±åœ¨å› ç‰¹ç½‘ä¸Šæµè¡Œèµ·æ¥ã€‚å½“å› ç‰¹ç½‘è¿˜åœ¨è¥è¤“ä¸­æ—¶ï¼Œç”µå­é‚®ä»¶å·²ç»æˆä¸ºæœ€ä¸ºæµè¡Œçš„åº”ç”¨ç¨‹åºï¼»Segaller
l998ï¼½ï¼Œå¹´å¤ä¸€å¹´ï¼Œå®ƒå˜å¾—è¶Šæ¥è¶Šç²¾ç»†ï¼Œè¶Šæ¥è¶Šå¼ºå¤§ã€‚å®ƒæ˜¯å½“ä»Šå› ç‰¹ç½‘ä¸Šæœ€é‡è¦å’Œå®ç”¨çš„åº”ç”¨ç¨‹åºä¹‹ä¸€ã€‚
ä¸æ™®é€šé‚®ä»¶ä¸€æ ·ï¼Œç”µå­é‚®ä»¶æ˜¯ä¸€ç§å¼‚æ­¥é€šä¿¡åª’ä»‹ï¼Œå³å½“äººä»¬æ–¹ä¾¿æ—¶å°±å¯ä»¥æ”¶å‘é‚®ä»¶ï¼Œä¸å¿…ä¸ä»–äººçš„è®¡åˆ’è¿›è¡Œåè°ƒã€‚ä¸æ™®é€šé‚®ä»¶ç›¸æ¯”ï¼Œç”µå­é‚®ä»¶æ›´ä¸ºå¿«é€Ÿå¹¶ä¸”æ˜“äºåˆ†å‘ï¼Œè€Œä¸”ä»·
æ ¼ä¾¿å®œã€‚ç°ä»£ç”µå­é‚®ä»¶å…·æœ‰è®¸å¤šå¼ºå¤§çš„ç‰¹æ€§ï¼ŒåŒ…æ‹¬å…·æœ‰é™„ä»¶ã€è¶…é“¾æ¥ã€HTMLæ ¼å¼æ–‡æœ¬å’Œå›¾ç‰‡çš„æŠ¥æ–‡ã€‚

Webç”µå­é‚®ä»¶ 1995å¹´12æœˆï¼Œåœ¨Web ``å‘ æ˜''å ä»…è¿‡äº†å‡ å¹´ï¼ŒSabeer B hatiaå’ŒJa
ck S mithæ‹œè®¿äº†å› ç‰¹ç½‘é£é™©æŠ•èµ„äººDr ap er Fisher
Jurvetson,æå‡ºäº†ç ”å‘ä¸€ä¸ªå…è´¹çš„åŸºäºWebçš„ç”µå­é‚®ä»¶
ç³»ç»Ÿçš„å»ºè®®ï¼šå…¶åŸºæœ¬æƒ³æ³•æ˜¯ä¸ºä»»ä½•æƒ³è¦çš„äººåˆ†é…ä¸€ä¸ªå…è´¹çš„ç”µå­é‚®ä»¶è´¦æˆ·ï¼Œå¹¶ä¸”ä½¿å¾—è¿™ä¸ªè´¦æˆ·å¯ä»¥åœ¨Webä¸Šä½¿ç”¨ã€‚é€šè¿‡ç”¨å…¬å¸çš„15\%ä»½é¢ä½œä¸ºäº¤æ¢ï¼ŒDra
per Fi she r J urv ets onå‘ Bh at iaå’ŒSm it
hæä¾›äº†èµ„é‡‘ï¼Œåè€…ç»„å»ºäº†ä¸€å®¶å…¬å¸ï¼Œå«åšHotmailã€‚3ä¸ªå…¨èŒå‘˜å·¥å’Œ14ä¸ª
å…¼èŒäººå‘˜ä¸ºäº†è‡ªå·±æ‹¥æœ‰çš„è‚¡ä»½è€Œå·¥ä½œï¼Œ1996å¹´7æœˆï¼Œä»–ä»¬ç ”å‘å¹¶æä¾›äº†è¯¥æœåŠ¡ï¼Œï¼šä¹‹åçš„ä¸€ä¸ªæœˆå†…ï¼Œä»–ä»¬å°±æ‹¥æœ‰äº†
100 000åç”¨æˆ·ã€‚199
7å¹´12æœˆï¼Œåœ¨å¯åŠ¨è¯¥æœåŠ¡ä¸åˆ°18ä¸ªæœˆå†…ï¼ŒHotmailå°±æ‹¥æœ‰è¶…è¿‡1200ä¸‡ä¸ªç”¨æˆ·ï¼Œå¹¶ä¸”ä»¥4äº¿ç¾å…ƒçš„ä»·æ ¼è¢«å¾®è½¯å…¬å¸æ”¶è´­ï¼ŒHotmailå…¬å¸çš„æˆåŠŸå¸¸è¢«å½’ç»“äºå®ƒçš„``å…ˆè¡Œè€…ä¼˜åŠ¿ï¼ˆfirst-mover
advantageï¼‰"å’Œå®ƒå›ºæœ‰çš„ç”µå­é‚®ä»¶``ç—…æ¯’è¡Œé”€ï¼ˆviral marketingï¼‰
ç­–ç•¥ï¼Œï¼šï¼ˆä¹Ÿè®¸æ­£åœ¨é˜…è¯»æœ¬ä¹¦çš„æŸäº›å­¦ç”Ÿå°†ä¼šæˆä¸ºè¿™ç§æ–°äºº
ä¹‹-\/-\/-\/-\/-\/-\/-\/-æ„æ€å¹¶å¼€å‘å…·æœ‰``å…ˆè¡Œè€…ä¼˜åŠ¿''å’Œ``ç—…æ¯’è¡Œé”€''ç­–ç•¥ç‰¹å¾çš„å› ç‰¹ç½‘æœåŠ¡ï¼Œï¼‰Webç”µå­é‚®ä»¶ç»§ç»­å…´ç››ï¼Œæ¯å¹´éƒ½å˜å¾—æ›´ä¸ºå¤æ‚å’ŒåŠŸèƒ½å¼ºå¤§ã€‚å½“ä»Šæœ€ä¸ºæµè¡Œçš„æœåŠ¡ä¹‹
ä¸€æ˜¯è°·æ­Œçš„Gmail,å®ƒæä¾›äº†åƒå…†å­—èŠ‚çš„å…è´¹å­˜å‚¨ã€å…ˆè¿›çš„åƒåœ¾é‚®ä»¶è¿‡æ»¤å’Œç—…æ¯’æ£€æµ‹ã€
ç”µå­é‚®ä»¶åŠ å¯†ï¼ˆä½¿ç”¨SSLï¼‰ã€å¯¹ç¬¬ä¸‰æ–¹ç”µå­é‚®ä»¶æœåŠ¡çš„é‚®ä»¶æ¥çº³å’Œé¢å‘æœç´¢çš„ç•Œé¢ã€‚ç¤¾
äº¤ç½‘ç»œå¦‚è„¸è°±ä¸­çš„å¼‚æ­¥ä¿¡æ¯è½¬å‘åœ¨è¿‘å¹´æ¥ä¹Ÿå·²ç»å˜å¾—æµè¡Œã€‚
\end{quote}

2.49

Electronic mail

\emph{Three major components:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  user agents
\item
  mail servers
\item
  simple mail transfer protocol: SMTP
\end{enumerate}

\emph{User Agent}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  a.k.a. ``mail reader''
\item
  composing, editing, reading mail messages
\item
  e.g., Outlook, Thunderbird, iPhone mail client
\item
  outgoing, incoming messages stored on server
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316084931696.png}
\caption{}
\end{figure}

\begin{quote}
å›¾2- 16ç»™å‡ºäº†å› ç‰¹ç½‘ç”µå­é‚®ä»¶ç³»ç»Ÿçš„æ€»ä½“æƒ…å†µã€‚ä»è¯¥å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæœ‰3ä¸ªä¸»
è¦ç»„ æˆéƒ¨åˆ†ï¼šç”¨ æˆ·ä»£ç†ï¼ˆuse ragentï¼‰ã€é‚®ä»¶æœåŠ¡å™¨ ï¼ˆmailse rv er
ï¼‰å’Œç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼ˆSi mp le M ail Tr an sf er P ro to co l, S MT Pï¼‰
oä¸‹é¢æˆ‘ä»¬ç»“åˆå‘é€æ–¹Al ic eå‘ç”µå­é‚®ä»¶ç»™æ¥æ”¶æ–¹
Bobçš„ä¾‹å­ï¼Œå¯¹æ¯ä¸ªç»„æˆéƒ¨åˆ†è¿›è¡Œæè¿°ã€‚ç”¨æˆ·ä»£ç†å…è®¸ç”¨æˆ·é˜…è¯»ã€å›å¤ã€è½¬å‘ã€ä¿å­˜å’Œæ’°å†™æŠ¥æ–‡
å¾®è½¯çš„Ou tl oo kå’ŒAp pl e Ma ilæ˜¯ç”µå­é‚®ä»¶ç”¨æˆ·ä»£ç†çš„ä¾‹å­ã€‚å½“Al ic
eå®Œæˆé‚®ä»¶æ’°å†™ æ—¶.å¥¹çš„é‚® ä»¶ä»£ ç†å‘å…¶ é‚®ä»¶æœåŠ¡å™¨ å‘é€é‚®
ä»¶ï¼Œæ­¤æ—¶é‚®ä»¶æ”¾åœ¨é‚®ä»¶æœåŠ¡å™¨çš„å¤–å‡ºæŠ¥æ–‡é˜Ÿåˆ—ä¸­ã€‚é‚®ä»¶æœåŠ¡å™¨å½¢æˆäº†ç”µå­é‚®ä»¶ä½“ç³»ç»“æ„çš„æ ¸å¿ƒã€‚æ¯ä¸ªæ¥æ”¶æ–¹ï¼ˆå¦‚Bobï¼‰åœ¨å…¶ä¸­çš„æŸä¸ªé‚®ä»¶æœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ªé‚®ç®±ï¼ˆmailboxï¼‰ã€‚Bobçš„é‚®ç®±ç®¡ç†å’Œç»´æŠ¤ç€å‘é€ç»™ä»–çš„æŠ¥æ–‡ã€‚ä¸€ä¸ªå…¸å‹çš„é‚®ä»¶å‘é€è¿‡ç¨‹æ˜¯ï¼šä»å‘é€æ–¹çš„ç”¨æˆ·ä»£ç†å¼€å§‹ï¼Œä¼ è¾“åˆ°å‘é€æ–¹çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œå†ä¼ è¾“åˆ°æ¥æ”¶æ–¹çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œç„¶ååœ¨è¿™é‡Œè¢«åˆ†å‘åˆ°æ¥æ”¶æ–¹çš„é‚®ç®±ä¸­ã€‚å½“Bohè¦åœ¨ä»–çš„é‚®ç®±ä¸­è¯»å–è¯¥æŠ¥æ–‡æ—¶ï¼ŒåŒ…å«ä»–é‚®ç®±çš„é‚®ä»¶æœåŠ¡å™¨ï¼ˆä½¿ç”¨ç”¨æˆ·åå’Œå£ä»¤ï¼‰æ¥é‰´åˆ«Bobã€‚Aliceçš„é‚®ç®±ä¹Ÿå¿…é¡»èƒ½å¤„ç†Bob
çš„é‚®ä»¶æœåŠ¡å™¨çš„æ•…éšœ å¦‚æœAliceçš„æœåŠ¡å™¨ä¸èƒ½å°†é‚®ä»¶äº¤ä»˜ç»™Bobçš„æœåŠ¡å™¨ï¼ŒAl ic
eçš„é‚®ä»¶æœåŠ¡å™¨åœ¨ä¸€ä¸ªæŠ¥æ–‡é˜Ÿåˆ—ï¼ˆmessage
queueï¼‰ä¸­ä¿æŒè¯¥æŠ¥æ–‡å¹¶åœ¨ä»¥åå°è¯•å†æ¬¡å‘
é€ã€‚é€šå¸¸æ¯30åˆ†é’Ÿå·¦å³è¿›è¡Œä¸€æ¬¡å°è¯•ï¼›å¦‚æœå‡ å¤©åä»ä¸èƒ½æˆåŠŸï¼Œçœ¼åŠ¡å™¨å°±åˆ é™¤è¯¥æŠ¥æ–‡å¹¶ä»¥ç”µå­é‚®ä»¶çš„å½¢å¼é€šçŸ¥å‘é€æ–¹ï¼ˆAliceï¼‰,
\end{quote}

2.50

Electronic mail: mail servers

mail servers:

\begin{itemize}
\item
  \emph{mailbox} contains incoming messages for user
\item
  \emph{message queue} of outgoing (to be sent) mail messages
\item
  \emph{SMTP protocol} between mail servers to send email messages
\item
  \begin{itemize}
  \item
    client: sending mail server
  \item
    ``server'': receiving mail server
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316090302112.png}
\caption{}
\end{figure}

\begin{quote}
SMT Pæ˜¯å› ç‰¹ç½‘ç”µå­é‚®ä»¶ä¸­ä¸»è¦çš„åº”ç”¨å±‚åè®®ã€‚å®ƒä½¿ç”¨TCPå¯é æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œä»å‘
é€æ–¹çš„é‚®ä»¶æœåŠ¡å™¨å‘æ¥æ”¶æ–¹çš„é‚®ä»¶æœåŠ¡å™¨å‘é€é‚®ä»¶ã€‚åƒå¤§å¤šæ•°åº”ç”¨å±‚åè®®ä¸€æ ·ï¼ŒSMTPä¹Ÿ
æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼šè¿è¡Œåœ¨å‘é€æ–¹é‚®ä»¶æœåŠ¡å™¨çš„å®¢æˆ·ç«¯å’Œè¿è¡Œåœ¨æ¥æ”¶æ–¹é‚®ä»¶æœåŠ¡å™¨çš„æœåŠ¡å™¨ç«¯ã€‚

æ¯å°é‚®ä»¶æœåŠ¡å™¨ä¸Šæ—¢è¿è¡ŒSMT Pçš„å®¢æˆ·ç«¯ä¹Ÿè¿è¡ŒSMT
Pçš„æœåŠ¡å™¨ç«¯ã€‚å½“ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨å‘
å…¶ä»–é‚®ä»¶æœåŠ¡å™¨å‘é€é‚®ä»¶æ—¶ï¼Œå®ƒå°±è¡¨ç°ä¸ºSMTPçš„å®¢æˆ·ï¼›å½“é‚®ä»¶æœåŠ¡å™¨ä»å…¶ä»–é‚®ä»¶æœåŠ¡å™¨ä¸Šæ¥æ”¶é‚®ä»¶æ—¶ï¼Œå®ƒå°±è¡¨ç°ä¸ºä¸€ä¸ªSMTPçš„æœåŠ¡å™¨
\end{quote}

2.51

Electronic Mail: SMTP {[}RFC 2821{]}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  uses TCP to reliably transfer email message from client to server,
  port 25
\item
  direct transfer: sending server to receiving server
\item
  three phases of transfer
\item
  \begin{itemize}
  \item
    handshaking (greeting)
  \item
    transfer of messages
  \item
    closures
  \end{itemize}
\item
  command/response interaction (like HTTP, FTP)
\item
  \begin{itemize}
  \item
    commands: ASCII text
  \item
    response: status code and phrase
  \end{itemize}
\item
  messages must be in 7-bit ASCI
\end{enumerate}

\begin{quote}
RF C 53 21ç»™å‡ºäº† SM TPçš„å®šä¹‰ã€‚SM
TPæ˜¯å› ç‰¹ç½‘ç”µå­é‚®ä»¶åº”ç”¨çš„æ ¸å¿ƒï¼Œå¦‚å‰æ‰€è¿°ï¼ŒSMTPç”¨äºä»å‘é€æ–¹çš„é‚®ä»¶æœåŠ¡å™¨å‘é€æŠ¥æ–‡åˆ°æ¥æ”¶æ–¹çš„é‚®ä»¶æœåŠ¡å™¨ã€‚SMT
Pé—®ä¸–çš„æ—¶é—´æ¯”HT TPè¦é•¿å¾—å¤šï¼ˆåˆå§‹çš„SM TPåè®®çš„RF Cå¯è¿½æº¯åˆ°19 82å¹´ï¼Œè€ŒSM
TPåœ¨æ­¤ä¹‹å‰å¾ˆé•¿ä¸€æ®µæ—¶é—´å°±å·²ç»å‡ºç°äº†ï¼‰ã€‚å°½ç®¡ç”µå­é‚®ä»¶åº”ç”¨åœ¨å› ç‰¹ç½‘ä¸Šçš„ç‹¬ç‰¹åœ°ä½å¯ä»¥è¯æ˜SMTPæœ‰ç€ä¼—å¤šéå¸¸å‡ºè‰²çš„æ€§è´¨ï¼Œä½†å®ƒæ‰€å…·æœ‰çš„æŸç§é™ˆæ—§ç‰¹å¾è¡¨æ˜å®ƒä»ç„¶æ˜¯ä¸€ç§ç»§æ‰¿çš„æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œå®ƒé™åˆ¶æ‰€æœ‰é‚®ä»¶æŠ¥æ–‡çš„ä½“éƒ¨åˆ†ï¼ˆä¸åªæ˜¯å…¶é¦–éƒ¨ï¼‰åªèƒ½é‡‡ç”¨ç®€å•çš„7æ¯”ç‰¹AS
CI Iè¡¨ç¤ºã€‚åœ¨20ä¸–
çºª80å¹´ä»£æ—©æœŸï¼Œè¿™ç§é™åˆ¶æ˜¯æ˜æ™ºçš„ï¼Œå› ä¸ºå½“æ—¶ä¼ è¾“èƒ½åŠ›ä¸è¶³ï¼Œæ²¡æœ‰äººä¼šé€šè¿‡ç”µå­é‚®ä»¶å‘
é€å¤§çš„é™„ä»¶æˆ–æ˜¯å¤§çš„å›¾ç‰‡ã€å£°éŸ³æˆ–è€…è§†é¢‘æ–‡ä»¶ã€‚ç„¶è€Œï¼Œåœ¨ä»Šå¤©çš„å¤šåª’ä½“æ—¶ä»£ï¼Œ7ä½ASC
II çš„é™ åˆ¶çš„ç¡® æœ‰ç‚¹ç—›è‹¦ï¼Œå³åœ¨ç”¨SM TPä¼ é€é‚®ä»¶ä¹‹
å‰ï¼Œéœ€è¦å°†äºŒè¿›åˆ¶å¤šåª’ä½“æ•°æ®ç¼–ç ä¸º AS CI Iç ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨SM
TPä¼ è¾“åè¦æ±‚å°†ç›¸åº”çš„ASCIIç é‚®ä»¶è§£ç è¿˜åŸä¸ºå¤šåª’ä½“æ•°æ®ã€‚
2.2èŠ‚è®²è¿‡ï¼Œä½¿ç”¨HTTPä¼ é€å‰ä¸éœ€è¦å°†å¤šåª’ä½“æ•°æ®ç¼–ç ä¸ºASCIIç ã€‚
\end{quote}

2.52

Scenario: Alice sends message to Bob

1) Alice uses UA to compose message ``to''
\href{mailto:bob@someschool.edu}{\nolinkurl{bob@someschool.edu}}

\begin{quote}
@ is the sign that never exists in person's name
\end{quote}

2) Alice's UA sends message to her mail server; message placed in
message queue

3) client side of SMTP opens TCP connection with Bob's mail server

4) SMTP client sends Alice's message over the TCP connection

5) Bob's mail server places the message in Bob's mailbox

6) Bob invokes his user agent to read message

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316090929202.png}
\caption{}
\end{figure}

\begin{quote}
ä¸ºäº† æè¿°SM TPçš„åŸºæœ¬æ“ä½œ.æˆ‘ä»¬è§‚å¯Ÿä¸€ç§å¸¸è§çš„æƒ…æ™¯ã€‚å‡è®¾Al ic eæƒ³ç»™Bo
bå‘é€ä¸€ å°ç®€å•çš„ASCIIæŠ¥æ–‡- â€¢
Aliceè°ƒç”¨å¥¹çš„é‚®ä»¶ä»£ç†ç¨‹åºå¹¶æä¾›Bobçš„é‚®ä»¶åœ°å€ï¼ˆä¾‹å¦‚bob@ som eschool .
eduï¼‰ï¼Œ æ’°å†™æŠ¥æ–‡.ç„¶åæŒ‡ç¤ºç”¨æˆ·ä»£ç†å‘é€è¯¥æŠ¥æ–‡ã€‚ â€¢
Alireçš„ç”¨æˆ·ä»£ç†æŠŠæŠ¥æ–‡å‘ç»™å¥¹çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œåœ¨é‚£é‡Œè¯¥æŠ¥æ–‡è¢«æ”¾åœ¨æŠ¥æ–‡é˜Ÿåˆ—ä¸­ï¼Œ
â€¢è¿è¡Œåœ¨Al ic eçš„é‚®ä»¶æœåŠ¡å™¨ ä¸Šçš„SM
TPå®¢æˆ·ç«¯å‘ç°äº†æŠ¥æ–‡é˜Ÿåˆ—ä¸­çš„è¿™ä¸ªæŠ¥æ–‡ï¼Œå®ƒå°±
åˆ›å»ºä¸€ä¸ªåˆ°è¿è¡Œåœ¨Bobçš„é‚®ä»¶æœåŠ¡å™¨ä¸Šçš„SMTPæœåŠ¡å™¨çš„TCPè¿æ¥ã€‚
â€¢åœ¨ç»è¿‡ä¸€äº›åˆå§‹SMTPæ¡æ‰‹åï¼ŒSMTPå®¢æˆ·é€šè¿‡è¯¥TCPè¿æ¥å‘é€Aliceçš„æŠ¥æ–‡ã€‚
ãƒ»åœ¨Bohçš„é‚®ä»¶æœåŠ¡å™¨ä¸Šï¼ŒSMTPçš„æœåŠ¡å™¨ç«¯æ¥æ”¶è¯¥æŠ¥æ–‡ã€‚Bobçš„é‚®ä»¶æœåŠ¡å™¨ç„¶åå°†
è¯¥æŠ¥æ–‡æ”¾äººBobçš„é‚®ç®±ä¸­- ãƒ»åœ¨Bohæ–¹ä¾¿çš„æ—¶å€™ï¼Œä»–è°ƒç”¨ç”¨æˆ·ä»£ç†é˜…è¯»è¯¥æŠ¥æ–‡ã€‚
å›¾2-17æ€»ç»“äº†ä¸Šè¿°è¿™ä¸ªæƒ…å†µã€‚ è§‚å¯Ÿåˆ°ä¸‹è¿°ç°è±¡æ˜¯é‡è¦çš„ï¼šSMTP
ä¸€èˆ¬ä¸ä½¿ç”¨ä¸­é—´é‚®ä»¶æœåŠ¡å™¨å‘é€é‚®ä»¶ï¼Œå³ä½¿è¿™ä¸¤ä¸ª
é‚®ä»¶æœåŠ¡å™¨ä½äºåœ°çƒçš„ä¸¤ç«¯ä¹Ÿæ˜¯è¿™æ ·ã€‚å‡è®¾Aliceçš„é‚®ä»¶æœåŠ¡å™¨åœ¨ä¸­å›½é¦™æ¸¯ï¼Œè€ŒBobçš„æœ
åŠ¡å™¨åœ¨ç¾å›½åœ£è·¯æ˜“æ–¯ï¼Œé‚£ä¹ˆè¿™ä¸ªTCPè¿æ¥ä¹Ÿæ˜¯ä»é¦™æ¸¯æœåŠ¡å™¨åˆ°åœ£è·¯æ˜“æ–¯æœåŠ¡å™¨ä¹‹é—´çš„ç›´æ¥
ç›¸è¿ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœBobçš„é‚®ä»¶æœåŠ¡å™¨æ²¡æœ‰å¼€æœºï¼Œè¯¥æŠ¥æ–‡ä¼šä¿ç•™åœ¨Ali
ceçš„é‚®ä»¶æœåŠ¡å™¨ä¸Š
å¹¶ç­‰å¾…è¿›è¡Œæ–°çš„å°è¯•ï¼Œè¿™æ„å‘³ç€é‚®ä»¶å¹¶ä¸åœ¨ä¸­é—´çš„æŸä¸ªé‚®ä»¶æœåŠ¡å™¨å­˜ç•™ã€‚
\end{quote}

2.53

Sample SMTP interaction

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{     S: 220 hamburger.edu }
\NormalTok{     C: HELO crepes.fr }
\NormalTok{     S: 250  Hello crepes.fr, pleased to meet you }
\NormalTok{     C: MAIL FROM: }\KeywordTok{\textless{}alice}\ErrorTok{@}\OtherTok{crepes.fr}\ErrorTok{\textgreater{}} 
     \ErrorTok{S:} \ErrorTok{250} \ErrorTok{alice@crepes.fr...} \ErrorTok{Sender} \ErrorTok{ok} 
     \ErrorTok{C:} \ErrorTok{RCPT} \ErrorTok{TO:} \ErrorTok{\textless{}bob@hamburger.edu\textgreater{}} 
     \ErrorTok{S:} \ErrorTok{250} \ErrorTok{bob@hamburger.edu} \ErrorTok{...} \ErrorTok{Recipient} \ErrorTok{ok} 
     \ErrorTok{C:} \ErrorTok{DATA} 
     \ErrorTok{S:} \ErrorTok{354} \ErrorTok{Enter} \ErrorTok{mail,} \ErrorTok{end} \ErrorTok{with} \ErrorTok{"."} \ErrorTok{on} \ErrorTok{a} \ErrorTok{line} \ErrorTok{by} \ErrorTok{itself} 
     \ErrorTok{C:} \ErrorTok{Do} \ErrorTok{you} \ErrorTok{like} \ErrorTok{ketchup?} 
     \ErrorTok{C:} \ErrorTok{How} \ErrorTok{about} \ErrorTok{pickles?} 
     \ErrorTok{C:} \ErrorTok{.} 
     \ErrorTok{S:} \ErrorTok{250} \ErrorTok{Message} \ErrorTok{accepted} \ErrorTok{for} \ErrorTok{delivery} 
     \ErrorTok{C:} \ErrorTok{QUIT} 
     \ErrorTok{S:} \ErrorTok{221} \ErrorTok{hamburger.edu} \ErrorTok{closing} \ErrorTok{connection}
\end{Highlighting}
\end{Shaded}

\begin{quote}
æˆ‘ä»¬ç°åœ¨ä»”ç»†è§‚å¯Ÿä¸€ä¸‹ï¼ŒSMTPæ˜¯å¦‚ä½•å°†ä¸€ä¸ªæŠ¥æ–‡ä»å‘é€é‚®ä»¶æœåŠ¡å™¨ä¼ é€åˆ°æ¥æ”¶é‚®ä»¶
æœåŠ¡å™¨çš„ã€‚æˆ‘ä»¬å°†çœ‹åˆ°ï¼ŒSMTPä¸äººç±»é¢å¯¹é¢äº¤å¾€çš„è¡Œä¸ºæ–¹å¼æœ‰è®¸å¤šç±»ä¼¼æ€§ã€é¦–å…ˆï¼Œå®¢æˆ·
SMT P ï¼ˆè¿è¡Œåœ¨å‘é€é‚®ä»¶æœåŠ¡å™¨ä¸Šï¼‰åœ¨25å·ç«¯å£å»ºç«‹ä¸€ä¸ªåˆ°æœåŠ¡å™¨SMTP
ï¼ˆè¿è¡Œåœ¨æ¥æ”¶é‚®
ä»¶æœåŠ¡å™¨ä¸Šï¼‰çš„TCPè¿æ¥ã€‚å¦‚æœæœåŠ¡å™¨æ²¡æœ‰å¼€æœºï¼Œå®¢æˆ·ä¼šåœ¨ç¨åç»§ç»­å°è¯•è¿æ¥ã€‚ä¸€æ—¦è¿
æ¥å»ºç«‹ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·æ‰§è¡ŒæŸäº›åº”ç”¨å±‚çš„æ¡æ‰‹ï¼Œå°±åƒäººä»¬åœ¨äº’ç›¸äº¤æµå‰å…ˆè¿›è¡Œè‡ªæˆ‘ä»‹ç»ä¸€
æ ·ï¼ŒSMT
Pçš„å®¢æˆ·å’ŒæœåŠ¡å™¨åœ¨ä¼ è¾“ä¿¡æ¯å‰å…ˆç›¸äº’ä»‹ç»ã€‚åœ¨SMTPæ¡æ‰‹çš„é˜¶æ®µï¼ŒSMTPå®¢æˆ·æŒ‡
ç¤ºå‘é€æ–¹çš„é‚®ä»¶åœ°å€ï¼ˆäº§ç”ŸæŠ¥æ–‡çš„é‚£ä¸ªäººï¼‰å’Œæ¥æ”¶æ–¹çš„é‚®ä»¶åœ°å€ã€‚ä¸€æ—¦è¯¥SMTPå®¢æˆ·å’Œæœ
åŠ¡å™¨å½¼æ­¤ä»‹ç»ä¹‹åï¼Œå®¢æˆ·å‘é€è¯¥æŠ¥æ–‡ã€‚SMTPèƒ½ä¾èµ–TCPæä¾›çš„å¯é æ•°æ®ä¼ è¾“æ— å·®é”™åœ°å°†
é‚®ä»¶æŠ•é€’åˆ°æ¥æ”¶æœåŠ¡å™¨ã€‚è¯¥å®¢æˆ·å¦‚æœæœ‰å¦å¤–çš„æŠ¥æ–‡è¦å‘é€åˆ°è¯¥æœåŠ¡å™¨ï¼Œå°±åœ¨è¯¥ç›¸åŒçš„TCP
è¿æ¥ä¸Šé‡å¤è¿™ç§å¤„ç†ï¼›å¦åˆ™ï¼Œå®ƒæŒ‡ç¤ºTCPå…³é—­è¿æ¥ã€‚
æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸€ä¸ªåœ¨SMTPå®¢æˆ·ï¼ˆCï¼‰å’ŒSMTPæœåŠ¡å™¨ï¼ˆSï¼‰ä¹‹é—´äº¤æ¢æŠ¥æ–‡è„šæœ¬çš„ä¾‹
å­ã€‚å®¢æˆ· çš„ä¸»æœºåä¸º crepes, fr,æœåŠ¡å™¨ çš„ä¸»æœºåä¸º ha mbur ge r. e du
oä»¥C:å¼€å¤´çš„AS CI Iç 
æ–‡æœ¬è¡Œæ­£æ˜¯å®¢æˆ·äº¤ç»™å…¶TCPå¥—æ¥å­—çš„é‚£äº›è¡Œï¼Œä»¥S:å¼€å¤´çš„ASCIIç åˆ™æ˜¯æœåŠ¡å™¨å‘é€ç»™å…¶
TCPå¥—æ¥å­—çš„é‚£äº›è¡Œã€‚ä¸€æ—¦åˆ›å»ºäº† TCPè¿æ¥ï¼Œå°±å¼€å§‹äº†ä¸‹åˆ—è¿‡ç¨‹

åœ¨ä¸Šä¾‹ä¸­ï¼Œå®¢æˆ·ä»é‚®ä»¶æœåŠ¡å™¨crepes, frå‘é‚®ä»¶æœåŠ¡å™¨hamburger, ed
uå‘é€äº†ä¸€ä¸ªæŠ¥æ–‡ ï¼ˆ**D o y ou lik e k etc hup ? H ow abo ut pic kle s?"
ï¼‰ o ä½œä¸ºå¯¹è¯çš„ä¸€éƒ¨åˆ†ï¼Œè¯¥å®¢æˆ·å‘é€äº† 5 æ¡å‘½ ä»¤ï¼šHELO ï¼ˆæ˜¯ HELLO
çš„ç¼©å†™ï¼‰ã€MAIL FROM , RCPTTOã€DATA ä»¥åŠ QUITã€‚è¿™äº›å‘½ä»¤éƒ½
æ˜¯è‡ªè§£é‡Šçš„ã€‚è¯¥å®¢æˆ·é€šè¿‡å‘é€ä¸€ä¸ªåªåŒ…å«ä¸€ä¸ªå¥ç‚¹çš„è¡Œï¼Œå‘æœåŠ¡å™¨æŒ‡ç¤ºè¯¥æŠ¥æ–‡ç»“æŸäº†ã€‚
220 hamburger.edu HELO crepes.fr 250 Hello crepes.fr, pleased to meet
you MAIL FROM: \textless alicegcrepes.fr\textgreater{} 250
alice@crepes.fr ... Sender ok RCPT TO:
\textless bob0hamburger.edu\textgreater{} 250 bobÂ®hamburger.edu ...
Recipient ok DATA 354 Enter mail, end with "ãƒ»"on a line by itself Do
you like ketchup? How about pickles?
ï¼ˆæŒ‰ç…§ASCIIç çš„è¡¨ç¤ºæ–¹æ³•ï¼Œæ¯ä¸ªæŠ¥æ–‡ä»¥CRLF.
CRLFç»“æŸï¼Œå…¶ä¸­çš„CRå’ŒLFåˆ†åˆ«è¡¨ç¤ºå›
è½¦å’Œæ¢è¡Œã€‚ï¼‰æœåŠ¡å™¨å¯¹æ¯æ¡å‘½ä»¤åšå‡ºå›ç­”ï¼Œå…¶ä¸­æ¯ä¸ªå›ç­”å«æœ‰ä¸€ä¸ªå›ç­”ç å’Œä¸€äº›ï¼ˆå¯é€‰çš„ï¼‰è‹±æ–‡è§£é‡Šï¼Œæˆ‘ä»¬åœ¨è¿™é‡ŒæŒ‡å‡ºSMTPç”¨çš„æ˜¯æŒç»­è¿æ¥ï¼šå¦‚æœå‘é€é‚®ä»¶æœåŠ¡å™¨æœ‰å‡ ä¸ªæŠ¥æ–‡
å‘å¾€åŒä¸€ä¸ªæ¥æ”¶é‚®ä»¶æœåŠ¡å™¨ï¼Œå®ƒå¯ä»¥é€šè¿‡åŒä¸€ä¸ªTCPè¿æ¥å‘é€è¿™äº›æ‰€æœ‰çš„æŠ¥æ–‡ã€‚å¯¹æ¯ä¸ªæŠ¥
æ–‡ï¼Œè¯¥å®¢æˆ·ç”¨ä¸€ä¸ªæ–°çš„MAI L F ROMï¼š cr epe s,
frå¼€å§‹ï¼Œç”¨ä¸€ä¸ªç‹¬ç«‹çš„å¥ç‚¹æŒ‡ç¤ºè¯¥é‚®ä»¶çš„ç»“
æŸï¼Œå¹¶ä¸”ä»…å½“æ‰€æœ‰é‚®ä»¶å‘é€å®Œåæ‰å‘é€QUIT.
\end{quote}

2.54

Try SMTP interaction for yourself:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  '''shell telnet servername 25 '''
\item
  see 220 reply from server
\item
  enter HELO, MAIL FROM, RCPT TO, DATA, QUIT commands
\end{enumerate}

above lets you send email without using email client (reader)

\begin{quote}
æˆ‘ä»¬å¼ºçƒˆæ¨èä½ ä½¿ç”¨Telnetä¸ä¸€ä¸ªSMTPæœåŠ¡å™¨è¿›è¡Œä¸€æ¬¡ç›´æ¥å¯¹è¯ã€‚ä½¿ç”¨çš„å‘½ä»¤æ˜¯

'''shell telnet serverName 25 '''

å…¶ä¸­serverNameæ˜¯æœ¬åœ°é‚®ä»¶æœåŠ¡å™¨çš„åç§°ã€‚å½“ä½ è¿™ä¹ˆåšæ—¶ï¼Œå°±ç›´æ¥åœ¨æœ¬åœ°ä¸»æœºä¸é‚®ä»¶æœåŠ¡
å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªTC Pè¿æ¥ã€‚è¾“å®Œä¸Šè¿°å‘½ä»¤åï¼Œä½ ç«‹å³ä¼šä»è¯¥æœåŠ¡å™¨æ”¶åˆ°22
0å›ç­”ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨é€‚å½“çš„æ—¶æœºå‘å‡º HEL Oã€MAI L F ROM, RCP T T Oã€DAT
Aã€CRL F. CRL F ä»¥åŠ QUITç­‰SM TPå‘½ä»¤ã€‚
\end{quote}

2.55

SMTP: final words

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  SMTP uses persistent connections
\item
  SMTP requires message (header \& body) to be in 7-bit ASCII
\item
  SMTP server uses CRLF.CRLF to determine end of message
\end{enumerate}

\emph{comparison with HTTP:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  HTTP: pull
\item
  SMTP: push
\item
  both have ASCII command/response interaction, status codes
\item
  HTTP: each object encapsulated in its own response msg
\item
  SMTP: multiple objects sent in multipart msg
\end{enumerate}

\begin{quote}
æˆ‘ä»¬ç®€è¦åœ°æ¯”è¾ƒä¸€ä¸‹SM TPå’ŒHT TP .è¿™ä¸¤ä¸ª åè®®éƒ½ç”¨äºä» ä¸€å°
ä¸»æœºå‘å¦ä¸€å°ä¸»æœºä¼  é€æ–‡ä»¶ï¼šHTTPä»WebæœåŠ¡å™¨å‘Webå®¢æˆ·ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ª
æµè§ˆå™¨ï¼‰ä¼ é€æ–‡ä»¶ï¼ˆä¹Ÿç§°ä¸ºå¯¹è±¡ï¼‰ï¼›SMTPä»ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨å‘å¦ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨ä¼ é€æ–‡ä»¶ï¼ˆå³ç”µå­é‚®ä»¶æŠ¥æ–‡ï¼‰ã€‚å½“è¿›è¡Œæ–‡ä»¶ä¼ é€æ—¶ï¼ŒæŒç»­çš„HTTPå’ŒSMTPéƒ½ä½¿ç”¨æŒç»­è¿æ¥ã€‚å› æ­¤ï¼Œè¿™ä¸¤ä¸ªåè®®æœ‰ä¸€äº›å…±åŒç‰¹å¾ã€‚
ç„¶è€Œï¼Œä¸¤è€…ä¹‹é—´ä¹Ÿæœ‰ä¸€äº›é‡è¦çš„åŒºåˆ«ã€‚é¦–å…ˆï¼ŒHT TPä¸»è¦æ˜¯ä¸€ä¸ªæ‹‰åè®®ï¼ˆpull
protocol),
å³åœ¨æ–¹ä¾¿çš„æ—¶å€™ï¼ŒæŸäº›äººåœ¨WebæœåŠ¡å™¨ä¸Šè£…è½½ä¿¡æ¯ï¼Œç”¨æˆ·ä½¿ç”¨HTTPä»è¯¥æœåŠ¡å™¨æ‹‰å–è¿™äº›ä¿¡æ¯ã€‚ç‰¹åˆ«æ˜¯TCPè¿æ¥æ˜¯ç”±æƒ³æ¥æ”¶æ–‡ä»¶çš„æœºå™¨å‘èµ·çš„ã€‚å¦ä¸€æ–¹é¢ï¼ŒSMTPåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªæ¨åè®®ï¼ˆpush
protocolï¼‰,å³å‘é€é‚®ä»¶æœåŠ¡å™¨æŠŠæ–‡ä»¶æ¨å‘æ¥æ”¶é‚®ä»¶æœåŠ¡å™¨ã€‚ç‰¹åˆ«æ˜¯ï¼Œè¿™ä¸ªTCP
è¿æ¥æ˜¯ç”±è¦å‘é€è¯¥æ–‡ä»¶çš„æœºå™¨å‘èµ·çš„ã€‚

ç¬¬äºŒä¸ªåŒºåˆ«å°±æ˜¯æˆ‘ä»¬å‰é¢é—´æ¥åœ°æåˆ°è¿‡çš„ï¼ŒSMTPè¦æ±‚æ¯ä¸ªæŠ¥æ–‡ï¼ˆåŒ…æ‹¬å®ƒä»¬çš„ä½“ï¼‰ä½¿
ç”¨7æ¯”ç‰¹ASCIIç æ ¼å¼ ã€‚å¦‚æœ æŸæŠ¥ æ–‡åŒ…å« äº†é7æ¯”ç‰¹ASC IIå­—ç¬¦ï¼ˆ å¦‚å…·æœ‰é‡éŸ³
çš„æ³•æ–‡å­—ç¬¦ï¼‰æˆ–äºŒè¿›åˆ¶æ•°æ®ï¼ˆå¦‚å›¾å½¢æ–‡ä»¶ï¼‰ï¼Œåˆ™è¯¥æŠ¥æ–‡å¿…é¡»æŒ‰ç…§7æ¯”ç‰¹ASCIIç è¿›è¡Œç¼–ç ã€HTTPæ•°æ®åˆ™ä¸å—è¿™ç§é™åˆ¶ã€‚

ç¬¬ä¸‰ä¸ªé‡è¦åŒºåˆ«æ˜¯å¦‚ä½•å¤„ç†ä¸€ä¸ªæ—¢åŒ…å«æ–‡æœ¬åˆåŒ…å«å›¾å½¢ï¼ˆä¹Ÿå¯èƒ½æ˜¯å…¶ä»–åª’ä½“ç±»å‹ï¼‰çš„æ–‡æ¡£ã€‚å¦‚æˆ‘ä»¬åœ¨2.
2èŠ‚çŸ¥é“çš„é‚£æ ·ï¼ŒHTTPæŠŠæ¯ä¸ªå¯¹è±¡å°è£…åˆ°å®ƒè‡ªå·±çš„HTTPå“åº”æŠ¥æ–‡ä¸­ï¼Œè€ŒSMTPåˆ™æŠŠæ‰€æœ‰æŠ¥æ–‡å¯¹è±¡æ”¾åœ¨ä¸€ä¸ªæŠ¥æ–‡ä¹‹ä¸­:
\end{quote}

2.56

Mail message format

SMTP: protocol for exchanging email msgs

RFC 822: standard for text message format:

\begin{itemize}
\item
  header lines, e.g.,
\item
  \begin{itemize}
  \item
    To:
  \item
    From:
  \item
    Subject:
  \end{itemize}
\end{itemize}

\emph{different} \emph{from} SMTP MAIL FROM, RCPT TO: commands!

\begin{itemize}
\item
  Body: the ``message''
\item
  \begin{itemize}
  \item
    ASCII characters only
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316092842579.png}
\caption{}
\end{figure}

2.57

Mail access protocols

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316093559563.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  SMTP: delivery/storage to receiver's server
\item
  mail access protocol: retrieval from server
\item
  \begin{itemize}
  \item
    POP: Post Office Protocol {[}RFC 1939{]}: authorization, download
  \item
    IMAP: Internet Mail Access Protocol {[}RFC 1730{]}: more features,
    including manipulation of stored msgs on server
  \item
    HTTP: gmail, Hotmail, Yahoo! Mail, etc.
  \end{itemize}
\end{itemize}

\begin{quote}
å½“Aliceç»™Bobå†™ä¸€å°é‚®å¯„æ—¶é—´å¾ˆé•¿çš„æ™®é€šä¿¡ä»¶æ—¶ï¼Œå¥¹å¯èƒ½è¦åœ¨ä¿¡çš„ä¸Šéƒ¨åŒ…å«å„ç§å„
æ ·çš„ç¯å¢ƒé¦–éƒ¨ä¿¡æ¯ï¼Œå¦‚Bobçš„åœ°å€ã€å¥¹è‡ªå·±çš„å›å¤åœ°å€ä»¥åŠæ—¥æœŸç­‰ã€‚åŒæ ·ï¼Œå½“ä¸€ä¸ªäººç»™å¦ä¸€ä¸ªäººå‘é€ç”µå­é‚®ä»¶æ—¶ï¼Œä¸€ä¸ªåŒ…å«ç¯å¢ƒä¿¡æ¯çš„é¦–éƒ¨ä½äºæŠ¥æ–‡ä½“å‰é¢ã€‚è¿™äº›ç¯å¢ƒä¿¡æ¯åŒ…æ‹¬åœ¨ä¸€ç³»åˆ—é¦–éƒ¨è¡Œä¸­ï¼Œè¿™äº›è¡Œç”±RFC
532 2å®šä¹‰ã€‚é¦–éƒ¨è¡Œå’Œè¯¥æŠ¥æ–‡çš„ä½“ç”¨ç©ºè¡Œï¼ˆå³å›è½¦æ¢è¡Œï¼‰è¿›è¡Œåˆ†éš”ã€‚RFC
5322å®šä¹‰äº†é‚®ä»¶é¦–éƒ¨è¡Œå’Œå®ƒä»¬çš„è¯­ä¹‰è§£é‡Šçš„ç²¾ç¡®æ ¼å¼ã€‚å¦‚åŒHTTPåè®®ï¼Œæ¯ä¸ªé¦–éƒ¨è¡ŒåŒ…å«äº†å¯è¯»çš„æ–‡æœ¬ï¼Œæ˜¯ç”±å…³é”®è¯åè·Ÿå†’å·åŠå…¶å€¼ç»„æˆçš„ã€‚æŸäº›å…³é”®è¯æ˜¯å¿…éœ€çš„ï¼Œå¦ä¸€
äº›åˆ™æ˜¯å¯é€‰çš„ã€‚æ¯ä¸ªé¦–éƒ¨å¿…é¡»å«æœ‰ä¸€ä¸ªFr om :é¦–éƒ¨è¡Œå’Œä¸€ ä¸ªTo :é¦–éƒ¨è¡Œï¼›ä¸€ä¸ª
é¦–éƒ¨ä¹Ÿè®¸åŒ…å«ä¸€ä¸ªSubjectï¼šé¦–éƒ¨è¡Œä»¥åŠå…¶ä»–å¯é€‰çš„é¦–éƒ¨è¡Œã€‚æ³¨æ„åˆ°ä¸‹åˆ—äº‹å®æ˜¯é‡è¦çš„ï¼šè¿™äº›é¦–éƒ¨è¡Œä¸åŒ
äºæˆ‘ä»¬åœ¨2. 4 . 1èŠ‚æ‰€å­¦åˆ°çš„SM
TPå‘½ä»¤ï¼ˆå³ä½¿é‚£é‡Œä¹ŸåŒ…å«äº†æŸäº›ç›¸åŒçš„è¯æ±‡ï¼Œå¦‚fr omå’Œto ï¼‰.
.é‚£èŠ‚ä¸­çš„å‘½ä»¤æ˜¯SM
TPæ¡æ‰‹åè®®çš„ä¸€éƒ¨åˆ†ï¼›æœ¬èŠ‚ä¸­ç ”ç©¶çš„é¦–éƒ¨è¡Œåˆ™æ˜¯é‚®ä»¶æŠ¥æ–‡è‡ªèº«çš„ä¸€éƒ¨åˆ†ã€‚
ä¸€ä¸ªå…¸å‹çš„æŠ¥æ–‡é¦–éƒ¨çœ‹èµ·æ¥å¦‚ä¸‹ï¼š

'''html From: alice@crepes.fr To:
\href{mailto:bob@hamburger.edu}{\nolinkurl{bob@hamburger.edu}} Subject:
Searching for the meaning of life. '''

åœ¨æŠ¥æ–‡é¦–éƒ¨ä¹‹åï¼Œç´§æ¥ç€ä¸€ä¸ªç©ºç™½è¡Œï¼Œç„¶åæ˜¯ä»¥ACSIIæ ¼å¼è¡¨ç¤ºçš„æŠ¥æ–‡ä½“ä½ åº”å½“ç”¨
Te ln
etå‘é‚®ä»¶æœåŠ¡å™¨å‘é€åŒ…å«ä¸€äº›é¦–éƒ¨è¡Œçš„æŠ¥æ–‡ï¼ŒåŒ…æ‹¬Subjectï¼šé¦–éƒ¨è¡Œâ€ä¸ºæ­¤ï¼Œè¾“äººå‘½ä»¤
telnet serverName 25 ,å¦‚åœ¨2. 4. 1èŠ‚ä¸­è®¨è®ºçš„é‚£æ ·.
\end{quote}

2.58

POP3 protocol

\emph{authorization phase}

\begin{itemize}
\item
  client commands:
\item
  \begin{itemize}
  \item
    \textbf{user:} declare username
  \item
    \textbf{pass:} password
  \end{itemize}
\item
  server responses
\item
  \begin{itemize}
  \item
    \textbf{+OK}
  \item
    \textbf{-ERR}
  \end{itemize}
\end{itemize}

'''html S: +OK POP3 server ready C: user bob S: +OK C: pass hungry S:
+OK user successfully logged on '''

\emph{transaction phase,} client:

\begin{itemize}
\item
  \textbf{list:} list message numbers
\item
  \textbf{retr:} retrieve message by number
\item
  \textbf{dele:} delete
\item
  \textbf{quit}
\end{itemize}

'''html C: list S: 1 498 S: 2 912 S: . C: retr 1 S: \textless message 1
contents\textgreater{} S: . C: dele 1 C: retr 2 S: \textless message 1
contents\textgreater{} S: . C: dele 2 C: quit S: +OK POP3 server signing
off '''

2.59

POP3 (more) and IMAP

\emph{more about POP3}

\begin{itemize}
\item
  previous example uses POP3 ``download and delete'' mode
\item
  \begin{itemize}
  \item
    Bob cannot re-read e-mail if he changes client
  \end{itemize}
\item
  POP3 ``download-and-keep'': copies of messages on different clients
\item
  POP3 is stateless across sessions
\end{itemize}

\emph{IMAP}

\begin{itemize}
\item
  keeps all messages in one place: at server
\item
  allows user to organize messages in folders
\item
  keeps user state across sessions:
\item
  \begin{itemize}
  \item
    names of folders and mappings between message IDs and folder name
  \end{itemize}
\end{itemize}

\hypertarget{25-dns}{%
\subsection{2.5 DNS}\label{25-dns}}

\begin{quote}
\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  ä¸»æœº ip
\item
  ä¸»æœº åˆ«å-è§„èŒƒå
\item
  é‚®ä»¶ åˆ«å-è§„èŒƒå
\item
  è´Ÿè½½åˆ†é…
\end{enumerate}

åˆ†å¸ƒå¼ï¼š å•ç‚¹æ•…éšœï¼Œ é€šä¿¡å®¹é‡
\end{quote}

2.61 DNS: domain name system

\emph{people:} many identifiers:

\begin{itemize}
\item
  \begin{itemize}
  \item
    SSN, name, passport \#
  \end{itemize}
\end{itemize}

\emph{Internet hosts, routers:}

\begin{itemize}
\item
  \begin{itemize}
  \item
    IP address (32 bit) - used for addressing datagrams
  \item
    ``name'', e.g., \url{www.yahoo.com} - used by humans
  \end{itemize}
\end{itemize}

\emph{Q:} how to map between IP address and name, and vice versa ?

\emph{Domain Name System:}

\begin{itemize}
\item
  \emph{distributed database} implemented in hierarchy of many
  \emph{name servers}
\item
  \emph{application-layer protocol:} hosts, name servers communicate to
  \emph{resolve} names (address/name translation)
\item
  \begin{itemize}
  \item
    note: core Internet function, implemented as application-layer
    protocol
  \item
    complexity at network's ``edge''
  \end{itemize}
\end{itemize}

2.62

DNS: services, structure

\emph{DNS services}

\begin{itemize}
\item
  hostname to IP address translation
\item
  host aliasing
\item
  \begin{itemize}
  \item
    canonical, alias names
  \end{itemize}
\item
  mail server aliasing
\item
  load distribution
\item
  \begin{itemize}
  \item
    replicated Web servers: many IP addresses correspond to one name
  \end{itemize}
\end{itemize}

\emph{why not centralize DNS?}

\begin{itemize}
\item
  single point of failure
\item
  traffic volume
\item
  distant centralized database
\item
  maintenance
\end{itemize}

A: doesn't scale!

2.63 DNS: a distributed, hierarchical database

\begin{quote}
æ ¹DNSæœåŠ¡å™¨ï¼Œ å·¥ä½œé‡å¤§ï¼Œåƒ baidu è¿™ç§è¦è§£æçš„æ˜¯ä¸€ç¾¤æœåŠ¡å™¨
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316104946417.png}
\caption{}
\end{figure}

\emph{client wants IP for \url{www.amazon.com}; 1**st} \emph{approx:}

\begin{itemize}
\item
  client queries root server to find com DNS server
\item
  client queries .com DNS server to get amazon.com DNS server
\item
  client queries amazon.com DNS server to get IP address for
  \url{www.amazon.com}
\end{itemize}

2.64

DNS: root name servers

\begin{itemize}
\item
  contacted by local name server that can not resolve name
\item
  root name server:
\item
  \begin{itemize}
  \item
    contacts authoritative name server if name mapping not known
  \item
    gets mapping
  \item
    returns mapping to local name server
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210316105711580.png}
\caption{}
\end{figure}

2.65

TLD, authoritative servers

\emph{top-level domain (TLD) servers:}

\begin{itemize}
\item
  \begin{itemize}
  \item
    responsible for com, org, net, edu, aero, jobs, museums, and all
    top-level country domains, e.g.: uk, fr, ca, jp
  \item
    Network Solutions maintains servers for .com TLD
  \item
    Educause for .edu TLD
  \end{itemize}
\end{itemize}

\emph{authoritative DNS servers:}

\begin{itemize}
\item
  \begin{itemize}
  \item
    organization's own DNS server(s), providing authoritative hostname
    to IP mappings for organization's named hosts
  \item
    can be maintained by organization or service provider
  \end{itemize}
\end{itemize}

2.66

Local DNS name server

\begin{itemize}
\item
  does not strictly belong to hierarchy
\item
  each ISP (residential ISP, company, university) has one
\item
  \begin{itemize}
  \item
    also called ``default name server''
  \end{itemize}
\item
  when host makes DNS query, query is sent to its local DNS server
\item
  \begin{itemize}
  \item
    has local cache of recent name-to-address translation pairs (but may
    be out of date!)
  \item
    acts as proxy, forwards query into hierarchy
  \end{itemize}
\end{itemize}

2.67

DNS name resolution example

\begin{itemize}
\item
  host at cis.poly.edu wants IP address for gaia.cs.umass.edu
\end{itemize}

\emph{iterated query:}

\begin{itemize}
\item
  contacted server replies with name of server to contact
\item
  ``I don't know this name, but ask this server''
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325190242499.png}
\caption{}
\end{figure}

2.68

DNS name resolution example

recursive query:

\begin{itemize}
\item
  puts burden of name resolution on contacted name server
\item
  heavy load at upper levels of hierarchy?
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325190404638.png}
\caption{}
\end{figure}

2.69

DNS: caching, updating records

\begin{itemize}
\item
  once (any) name server learns mapping, it \emph{caches} mapping
\item
  \begin{itemize}
  \item
    cache entries timeout (disappear) after some time (TTL)
  \item
    TLD servers typically cached in local name servers
  \end{itemize}
\item
  \begin{itemize}
  \item
    \begin{itemize}
    \item
      thus root name servers not often visited
    \end{itemize}
  \end{itemize}
\item
  cached entries may be \emph{out-of-date} (best effort name-to-address
  translation!)
\item
  \begin{itemize}
  \item
    if name host changes IP address, may not be known Internet-wide
    until all TTLs expire
  \end{itemize}
\item
  update/notify mechanisms proposed IETF standard
\item
  \begin{itemize}
  \item
    RFC 2136
  \end{itemize}
\end{itemize}

2.70

DNS records

\emph{DNS:} distributed db storing resource records (RR)

\[RR\ format: (name, value, type, ttl)\]

type=A

\begin{itemize}
\item
  \begin{itemize}
  \item
    \textbf{name} is hostname
  \item
    \textbf{value} is IP address
  \end{itemize}
\end{itemize}

type=NS

\begin{itemize}
\item
  \begin{itemize}
  \item
    \textbf{name} is domain (e.g., foo.com)
  \item
    \textbf{value} is hostname of authoritative name server for this
    domain
  \end{itemize}
\end{itemize}

type=CNAME

\begin{itemize}
\item
  \begin{itemize}
  \item
    \textbf{name} is alias name for some ``canonical'' (the real) name
  \item
    \textbf{\url{www.ibm.com}} is really
    \textbf{servereast.backup2.ibm.com}
  \end{itemize}
\item
  \begin{itemize}
  \item
    \textbf{value} is canonical name
  \end{itemize}
\end{itemize}

type=MX

\begin{itemize}
\item
  \begin{itemize}
  \item
    \textbf{value} is name of mailserver associated with \textbf{name}
  \end{itemize}
\end{itemize}

2.71

DNS protocol, messages

\begin{itemize}
\item
  \emph{query} and \emph{reply} messages, both with same \emph{message
  format}
\end{itemize}

msg header

\begin{itemize}
\item
  identification: 16 bit \# for query, reply to query uses same \#
\item
  flags:
\item
  \begin{itemize}
  \item
    query or reply
  \item
    recursion desired
  \item
    recursion available
  \item
    reply is authoritative
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325190823371.png}
\caption{}
\end{figure}

2.72

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325190843660.png}
\caption{}
\end{figure}

2.73

Inserting records into DNS

\begin{itemize}
\item
  example: new startup ``Network Utopia''
\item
  register name networkuptopia.com at \emph{DNS registrar} (e.g.,
  Network Solutions)
\item
  \begin{itemize}
  \item
    provide names, IP addresses of authoritative name server (primary
    and secondary)
  \item
    registrar inserts two RRs into .com TLD server:
    \textbf{(networkutopia.com, dns1.networkutopia.com, NS)}
  \end{itemize}
\end{itemize}

\textbf{(dns1.networkutopia.com, 212.212.212.1, A)}

\begin{itemize}
\item
  create authoritative server type A record for
  \url{www.networkuptopia.com}; type MX record for networkutopia.com
\end{itemize}

2.74

Attacking DNS

DDoS attacks

\begin{itemize}
\item
  Bombard root servers with traffic
\item
  \begin{itemize}
  \item
    Not successful to date
  \item
    Traffic Filtering
  \item
    Local DNS servers cache IPs of TLD servers, allowing root server
    bypass
  \end{itemize}
\item
  Bombard TLD servers
\item
  \begin{itemize}
  \item
    Potentially more dangerous
  \end{itemize}
\end{itemize}

Redirect attacks

\begin{itemize}
\item
  Man-in-middle
\item
  \begin{itemize}
  \item
    Intercept queries
  \end{itemize}
\item
  DNS poisoning
\item
  \begin{itemize}
  \item
    Send bogus relies to DNS server, which caches
  \end{itemize}
\end{itemize}

Exploit DNS for DDoS

\begin{itemize}
\item
  Send queries with spoofed source address: target IP
\item
  Requires amplification
\end{itemize}

\hypertarget{26-p2p-applications}{%
\subsection{2.6 P2P applications}\label{26-p2p-applications}}

\begin{quote}
DNS

CS/P2P ä¸‹çš„æœ€çŸ­åˆ†å‘æ—¶é—´

æµè¡Œçš„P2Påè®®
\end{quote}

2.76 Pure P2P architecture

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  {[} \hl{no always-on} {]} \emph{no} always-on server
\item
  \hl{{[} end-systems driectly} {]} arbitrary end systems directly
  communicate
\item
  \hl{{[} intermittently, change IP} {]} peers are intermittently
  connected and change IP addresses
\end{enumerate}

\emph{examples:}

\begin{itemize}
\item
  file distribution (BitTorrent)

  Streaming (KanKan)

  VoIP (Skype)
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325191120618.png}
\caption{}
\end{figure}

2.77

File distribution: client-server vs P2P

\emph{Question**:} how much time to distribute file (size \emph{F}) from
one server to \emph{N peers}?

\begin{itemize}
\item
  peer upload/download capacity is limited resource
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325191311485.png}
\caption{}
\end{figure}

2.78

File distribution time: client-server

\begin{itemize}
\item
  \emph{server transmission:} must sequentially send (upload) \emph{N}
  file copies:
\item
  \begin{itemize}
  \item
    time to send one copy: \emph{F/u**s}
  \item
    time to send N copies: \emph{NF/u**s}
  \end{itemize}
\item
  \emph{client:} each client must download file copy
\item
  \begin{itemize}
  \item
    \(d_{min}\) = min client download rate
  \item
    min client download time: \(F/dmin\)
  \end{itemize}
\end{itemize}

time to distribute F to N clients using client-server approach

\[D_{c-s} \geq max\{N\frac{F}{u_s},\frac{F}{d_{min}}\}\]

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325192251650.png}
\caption{}
\end{figure}

2.79

File distribution time: P2P

\begin{itemize}
\item
  \emph{server transmission:} must upload at least one copy
\item
  \begin{itemize}
  \item
    time to send one copy: \emph{F/u**s}
  \end{itemize}
\item
  \emph{client:} each client must download file copy
\item
  \begin{itemize}
  \item
    min client download time: F/dmin
  \end{itemize}
\item
  \emph{clients:} as aggregate must download \emph{NF} bits
\item
  \begin{itemize}
  \item
    max upload rate (limting max download rate) is us + Î£ui
  \end{itemize}
\end{itemize}

time to distribute F to N clients using P2P approach

\[D_{P2P} > max\{\frac{F}{u_s},\frac{F}{d_{min}},N \frac{F}{(u_s + \sum_{i=1}^{N} {u_i})}\}\]

increases linearly in N \ldots{}

\ldots{} but so does this, as each peer brings service capacity

2.80

Client-server vs. P2P: example

client upload rate = u, F/u = 1 hour, us = 10u, dmin â‰¥ us

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325193331899.png}
\caption{}
\end{figure}

2.81

P2P file distribution: BitTorrent

\begin{itemize}
\item
  file divided into 256Kb chunks{[}ç‰‡{]}
\item
  peers in torrent send/receive file chunks
\end{itemize}

\emph{tracker:} tracks peers participating in torrent

\emph{torrent:} group of peers exchanging chunks of a file

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325210412848.png}
\caption{}
\end{figure}

2.82

P2P file distribution: BitTorrent

\begin{itemize}
\item
  peer joining torrent:
\item
  \begin{itemize}
  \item
    has no chunks, but will accumulate them over time from other peers
  \item
    registers with tracker to get list of peers, connects to subset of
    peers (``neighbors'')
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325210442235.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  while downloading, peer uploads chunks to other peers
\item
  peer may change peers with whom it exchanges chunks
\item
  \emph{churn:} peers may come and go
\item
  once peer has entire file, it may (selfishly) leave or
  (altruistically) remain in torrent
\end{itemize}

2.83

BitTorrent: requesting, sending file chunks

\emph{requesting chunks{[}åšç‰‡{]}:}

\begin{itemize}
\item
  at any given time, different peers have different subsets of file
  chunks
\item
  periodically, Alice asks each peer for list of chunks that they have
\item
  Alice requests missing chunks from peers, rarest first
\end{itemize}

\emph{sending chunks: tit-for-tat}

\begin{itemize}
\item
  Alice sends chunks to those four peers currently sending her chunks
  \emph{at highest rate}
\item
  \begin{itemize}
  \item
    other peers are choked by Alice (do not receive chunks from her)
  \item
    re-evaluate top 4 every10 secs
  \end{itemize}
\item
  every 30 secs: randomly select another peer, starts sending chunks
\item
  \begin{itemize}
  \item
    ``optimistically unchoke'' this peer
  \item
    newly chosen peer may join top 4
  \end{itemize}
\end{itemize}

2.84

BitTorrent: tit-for-tat

(1) Alice ``optimistically unchokes'' Bob

(2) Alice becomes one of Bob's top-four providers; Bob reciprocates

(3) Bob becomes one of Alice's top-four providers

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325210622318.png}
\caption{}
\end{figure}

\emph{higher upload rate:} find better trading partners, get file faster
!

2.85

\hypertarget{distributed-hash-table-dht-ux5206ux5e03ux5f0fux54c8ux5e0cux8868}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸Distributed Hash Table (DHT)
{[}åˆ†å¸ƒå¼å“ˆå¸Œè¡¨{]}}}{â­ï¸Distributed Hash Table (DHT) {[}åˆ†å¸ƒå¼å“ˆå¸Œè¡¨{]}}}\label{distributed-hash-table-dht-ux5206ux5e03ux5f0fux54c8ux5e0cux8868}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Hash table
\item
  DHT paradigm{[}èŒƒä¾‹{]}
\item
  Circular DHT and overlay networks
\item
  Peer churn
\end{enumerate}

2.86

Simple Database

Simple database with(key, value) pairs:

\begin{itemize}
\item
  key: human name; value: social security \#
\end{itemize}

\begin{longtable}[]{@{}ll@{}}
\toprule
\textbf{Key} & \textbf{Value}\tabularnewline
\midrule
\endhead
John Washington & 132-54-3570\tabularnewline
Diana Louise Jones & 761-55-3791\tabularnewline
Xiaoming Liu & 385-41-0902\tabularnewline
Rakesh Gopal & 441-89-1956\tabularnewline
Linda Cohen & 217-66-5609\tabularnewline
\ldots\ldots. & \ldots\ldots\ldots{}\tabularnewline
Lisa Kobayashi & 177-23-0199\tabularnewline
\bottomrule
\end{longtable}

\begin{itemize}
\item
  key: movie title; value: IP address
\end{itemize}

2.87

Hash Table

\begin{itemize}
\item
  More convenient to store and search on numerical representation of key
\item
  key = hash(original key)
\end{itemize}

\begin{longtable}[]{@{}lll@{}}
\toprule
\textbf{Original Key} & \textbf{Key} & \textbf{Value}\tabularnewline
\midrule
\endhead
John Washington & 8962458 & 132-54-3570\tabularnewline
Diana Louise Jones & 7800356 & 761-55-3791\tabularnewline
Xiaoming Liu & 1567109 & 385-41-0902\tabularnewline
Rakesh Gopal & 2360012 & 441-89-1956\tabularnewline
Linda Cohen & 5430938 & 217-66-5609\tabularnewline
\ldots\ldots. & & \ldots\ldots\ldots{}\tabularnewline
Lisa Kobayashi & 9290124 & 177-23-0199\tabularnewline
\bottomrule
\end{longtable}

2.88

Distributed Hash Table (DHT)

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Distribute (key, value) pairs over millions of peers

  pairs are evenly distributed over peers
\item
  Any peer can query database with a key

  database returns value for the key

  To resolve query, small number of messages exchanged among peers
\item
  Each peer only knows about a small number of other peers
\item
  Robust to peers coming and going (churn)
\end{enumerate}

2.89

Assign key-value pairs to peers

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  rule: assign key-value pair to the peer that has the \emph{closest}
  ID.
\item
  convention: closest is the \emph{immediate successor} of the key.
\item
  e.g., ID space \{0,1,2,3,\ldots,63\}
\item
  suppose 8 peers: 1,12,13,25,32,40,48,60
\item
  \begin{itemize}
  \item
    If key = 51, then assigned to peer 60
  \item
    If key = 60, then assigned to peer 60
  \item
    If key = 61, then assigned to peer 1
  \end{itemize}
\end{enumerate}

2.90

Circular DHT

\begin{itemize}
\item
  each peer \emph{only} aware of immediate successor and predecessor.
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325211314583.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325211320381.png}
\caption{}
\end{figure}

2.91

Resolving a query

\emph{O(N)} messages

on avgerage to resolve

query, when there

are \emph{N} peers

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325211459589.png}
\caption{}
\end{figure}

2.92

Circular DHT( Distributed Hash Table ) with shortcuts

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210325211514050.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  each peer keeps track of IP addresses of predecessor, successor, short
  cuts.
\item
  reduced from 6 to 3 messages.
\item
  possible to design shortcuts with \emph{O(log N)} neighbors,
  \emph{O(log N)} messages in query
\end{itemize}

2.93

Peer churn

handling peer churn:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  peers may come and go (churn)
\item
  each peer knows address of its two successors
\item
  each peer periodically pings its two successors to check aliveness
\item
  if immediate successor leaves, choose next successor as new immediate
  successor
\end{enumerate}

\emph{example: peer 5 abruptly leaves}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210420093346916.png}
\caption{}
\end{figure}

2.94

Peer churn

handling peer churn:

\begin{itemize}
\item
  peers may come and go (churn)
\item
  each peer knows address of its two successors
\item
  each peer periodically pings its two successors to check aliveness
\item
  if immediate successor leaves, choose next successor as new immediate
  successor
\end{itemize}

\emph{example: peer 5 abruptly leaves}

\begin{itemize}
\item
  peer 4 detects peer 5's departure; makes 8 its immediate successor
\item
  4 asks 8 who its immediate successor is; makes 8's immediate successor
  its second successor.
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210420093414335.png}
\caption{}
\end{figure}

\hypertarget{27-socket-programming-with-udp-and-tcp}{%
\subsection{2.7 socket programming with UDP and
TCP}\label{27-socket-programming-with-udp-and-tcp}}

\begin{quote}
TCP å¥—æ¥å­—çš„å»ºç«‹ Review Quesation å’Œ ä¸€äº›åˆ¤æ–­é¢˜
\end{quote}

2.96

\emph{goal:} learn how to build client/server applications that
communicate using sockets

\emph{socket:} door between application process and end-end-transport
protocol

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419013504222.png}
\caption{}
\end{figure}

2.97 Socket programming

\emph{Two socket types for two transport services:}

\begin{itemize}
\item
  \begin{itemize}
  \item
    \emph{UDP:} unreliable datagram
  \item
    \emph{TCP:} reliable, byte stream-oriented
  \end{itemize}
\end{itemize}

\emph{Application Example:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Client reads a line of characters (data) from its keyboard and sends
  the data to the server.
\item
  The server receives the data and converts characters to uppercase.
\item
  The server sends the modified data to the client.
\item
  The client receives the modified data and displays the line on its
  screen.
\end{enumerate}

2.98

Socket programming \emph{with UDP}

UDP: no ``connection'' between client \& server

\begin{itemize}
\item
  no handshaking before sending data
\item
  sender explicitly attaches IP destination address and port \# to each
  packet
\item
  rcvr extracts sender IP address and port\# from received packet
\end{itemize}

UDP: transmitted data may be lost or received out-of-order

Application viewpoint:

\begin{itemize}
\item
  UDP provides \emph{unreliable} transfer of groups of bytes
  (``datagrams'') between client and server
\end{itemize}

2.99

Client/server socket interaction: UDP

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419013801158.png}
\caption{}
\end{figure}

2.100

Example app: Python UDP client

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ socket }\ImportTok{import} \OperatorTok{*}   
\CommentTok{\# include Pythonâ€™s socket library}
\NormalTok{serverName }\OperatorTok{=}\NormalTok{ â€˜hostnameâ€™}
\NormalTok{serverPort }\OperatorTok{=} \DecValTok{12000}
\NormalTok{clientSocket }\OperatorTok{=}\NormalTok{ socket(socket.AF\_INET, socket.SOCK\_DGRAM) }
\CommentTok{\# create UDP socket for server}
\NormalTok{message }\OperatorTok{=} \BuiltInTok{raw\_input}\NormalTok{(â€™Input lowercase sentence:â€™) }
\CommentTok{\# get user keyboard input }
\NormalTok{clientSocket.sendto(message,(serverName, serverPort)) }
\CommentTok{\# Attach server name, port to message; send into socket}
\NormalTok{modifiedMessage, serverAddress }\OperatorTok{=}\NormalTok{ clientSocket.recvfrom(}\DecValTok{2048}\NormalTok{) }
\CommentTok{\# read reply characters from socket into string}
\BuiltInTok{print}\NormalTok{ modifiedMessage }
\CommentTok{\# print out received string and close socket}
\NormalTok{clientSocket.close()}
\end{Highlighting}
\end{Shaded}

2.101

Python UDPServer

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ socket }\ImportTok{import} \OperatorTok{*}
\NormalTok{serverPort }\OperatorTok{=} \DecValTok{12000}
\NormalTok{serverSocket }\OperatorTok{=}\NormalTok{ socket(AF\_INET, SOCK\_DGRAM)}
\CommentTok{\# create UDP socket}
\NormalTok{serverSocket.bind((}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, serverPort))}
\CommentTok{\# bind socket to local port number 12000}
\BuiltInTok{print}\NormalTok{ â€œThe server }\KeywordTok{is}\NormalTok{ ready to receiveâ€}
\ControlFlowTok{while} \DecValTok{1}\NormalTok{:}
\CommentTok{\# loop forever}
\NormalTok{    message, clientAddress }\OperatorTok{=}\NormalTok{ serverSocket.recvfrom(}\DecValTok{2048}\NormalTok{)}
    \CommentTok{\# Read from UDP socket into message, getting clientâ€™s address (client IP and port)}
    
\NormalTok{    modifiedMessage }\OperatorTok{=}\NormalTok{ message.upper()}
\NormalTok{    serverSocket.sendto(modifiedMessage, clientAddress)}
    \CommentTok{\# send upper case string back to this client}
\end{Highlighting}
\end{Shaded}

2.102

Socket programming with TCP

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{client must contact server}
\end{enumerate}

\begin{itemize}
\item
  \hl{{[} server, first running {]}} server process must \hl{first be
  running}
\item
  \hl{{[} server, created socket(door) {]}} server must \hl{have created
  socket (door)} that \hl{welcomes} client's contact
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{client contacts server by:}
\end{enumerate}

\begin{itemize}
\item
  \hl{{[} client creates TCP socket, specifies IP, port number {]}}
  Creating \hl{TCP socket, specifying IP address, port number} of server
  process
\item
  \hl{{[}client TCP connects to server TCP{]}} \emph{when client creates
  socket:} \hl{client TCP establishes connection to server TCP}
\end{itemize}

when contacted by client, \emph{server TCP creates new socket} for
server process to communicate with that particular client

\begin{itemize}
\item
  allows server to talk with multiple clients
\item
  source port numbers used to distinguish clients (more in Chap 3)
\end{itemize}

application viewpoint:

TCP provides reliable, in-order byte-stream transfer (``pipe'') between
client and server

2.103

Client/server socket interaction: TCP

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419113258893.png}
\caption{}
\end{figure}

2.104

Python TCP Client

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ socket }\ImportTok{import} \OperatorTok{*}
\NormalTok{serverName }\OperatorTok{=}\NormalTok{ â€™servernameâ€™}
\NormalTok{serverPort }\OperatorTok{=} \DecValTok{12000}
\NormalTok{clientSocket }\OperatorTok{=}\NormalTok{ socket(AF\_INET, SOCK\_STREAM)}
\CommentTok{\# create TCP socket for server, remote port 12000}
\NormalTok{clientSocket.}\ExtensionTok{connect}\NormalTok{((serverName,serverPort))}
\NormalTok{sentence }\OperatorTok{=} \BuiltInTok{raw\_input}\NormalTok{(â€˜Input lowercase sentence:â€™)}
\NormalTok{clientSocket.send(sentence)}
\CommentTok{\# No need to attach server name, port }
\NormalTok{modifiedSentence }\OperatorTok{=}\NormalTok{ clientSocket.recv(}\DecValTok{1024}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ â€˜From Server:â€™, modifiedSentence}
\NormalTok{clientSocket.close()}

\end{Highlighting}
\end{Shaded}

2.105

Python TCP Server

\begin{Shaded}
\begin{Highlighting}[]
 \ImportTok{from}\NormalTok{ socket }\ImportTok{import} \OperatorTok{*}
\NormalTok{serverPort }\OperatorTok{=} \DecValTok{12000}
\NormalTok{serverSocket }\OperatorTok{=}\NormalTok{ socket(AF\_INET,SOCK\_STREAM)}
\CommentTok{\# create TCP welcoming socket}
\NormalTok{serverSocket.bind((â€˜â€™,serverPort))}
\NormalTok{serverSocket.listen(}\DecValTok{1}\NormalTok{)}
\CommentTok{\# server begins listening for  incoming TCP requests}
\BuiltInTok{print}\NormalTok{ â€˜The server }\KeywordTok{is}\NormalTok{ ready to receiveâ€™}
\ControlFlowTok{while} \DecValTok{1}\NormalTok{:}
\CommentTok{\# loop forever}
\NormalTok{     connectionSocket, addr }\OperatorTok{=}\NormalTok{ serverSocket.accept()}
     \CommentTok{\# server waits on accept() for incoming requests, new socket created on return}
\NormalTok{     sentence }\OperatorTok{=}\NormalTok{ connectionSocket.recv(}\DecValTok{1024}\NormalTok{)}
     \CommentTok{\# read bytes from socket (but not address as in UDP)}
\NormalTok{     capitalizedSentence }\OperatorTok{=}\NormalTok{ sentence.upper()}
\NormalTok{     connectionSocket.send(capitalizedSentence)}
     \CommentTok{\# close connection to this client (but not welcoming socket)s}
\NormalTok{     connectionSocket.close()}

\end{Highlighting}
\end{Shaded}

\hypertarget{chapter-2-summary}{%
\subsection{Chapter 2: summary}\label{chapter-2-summary}}

\emph{our study of network apps now complete!}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{application architectures}
\item
  \begin{itemize}
  \item
    \hl{client-server}
  \item
    \hl{P2P}
  \end{itemize}
\item
  \hl{application service requirements:}
\item
  \begin{itemize}
  \item
    \hl{reliability, bandwidth, delay}
  \end{itemize}
\item
  \hl{Internet transport service model}
\item
  \begin{itemize}
  \item
    \hl{connection-oriented{[}é¢å‘é“¾æ¥çš„{]}, reliable{[}å¯é çš„{]}: TCP}
  \item
    \hl{unreliable{[}ä¸å¯é çš„{]}, datagrams{[}é¢å‘æ•°æ®æŠ¥çš„{]}: UDP}
  \end{itemize}
\end{enumerate}

\begin{itemize}
\item
  \hl{specific protocols:}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    \hl{HTTP}
  \item
    \hl{FTP}
  \item
    \hl{SMTP, POP, IMAP}
  \item
    \hl{DNS}
  \item
    \hl{P2P: BitTorrent, DHT}
  \end{enumerate}
\item
  \hl{socket programming: TCP, UDP sockets}
\end{itemize}

\emph{most importantly: learned about protocols!}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{typical request/reply message exchange:}
\item
  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    \hl{client requests info or service}
  \item
    \hl{server responds with data, status code}
  \end{enumerate}
\item
  \hl{message formats:}
\item
  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    \hl{headers: fields giving info about data}
  \item
    \hl{data: info being communicated}
  \end{enumerate}
\end{enumerate}

\emph{important themes:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{control vs. data msgs}
\item
  \begin{itemize}
  \item
    \hl{in-band, out-of-band}
  \end{itemize}
\item
  \hl{centralized vs. decentralized}
\item
  \hl{stateless vs. stateful}
\item
  \hl{reliable vs. unreliable msg transfer}
\item
  \hl{``complexity at network edge''}
\end{enumerate}

\textbf{Chapter 1 Additional Slides}

2.109

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419014202950.png}
\caption{}
\end{figure}

\hypertarget{chapter-3-transport-layer}{%
\section{Chapter 3 Transport Layer}\label{chapter-3-transport-layer}}

3.1 transport-layer services

3.2 multiplexing and demultiplexing

3.3 connectionless transport: UDP

3.4 principles of reliable data transfer

3.5 connection-oriented transport: TCP

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    segment structure
  \item
    reliable data transfer
  \item
    flow control
  \item
    connection management
  \end{enumerate}
\end{itemize}

3.6 principles of congestion control

3.7 TCP congestion control

\begin{quote}
éƒ½éœ€è¦å¤§å®¶å¾ˆè®¤çœŸçš„å»æŒæ¡ï¼Œæ²¡æœ‰ç‰¹åˆ«ç®€å•çš„
\end{quote}

our goals:

\begin{itemize}
\item
  understand principles behind transport layer services:
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    multiplexing, demultiplexing
  \item
    reliable data transfer
  \item
    flow control
  \item
    congestion control
  \end{enumerate}
\item
  learn about Internet transport layer protocols:
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    UDP: connectionless transport
  \item
    TCP: connection-oriented reliable transport
  \item
    TCP congestion control
  \end{enumerate}
\end{itemize}

\begin{quote}
æˆ‘ä»¬åœ¨æœ¬ç« é‡‡ç”¨çš„æ•™å­¦æ–¹æ³•æ˜¯ï¼Œäº¤æ›¿åœ°è®¨è®ºè¿è¾“å±‚çš„åŸç†å’Œè¿™äº›
åŸç†åœ¨ç°æœ‰çš„åè®®ä¸­æ˜¯å¦‚ä½•å®ç°çš„ã€‚ ä¸å¾€å¸¸ä¸€
æ ·ï¼Œæˆ‘ä»¬å°†ç‰¹åˆ¥å…³æ³¨å› ç‰¹ç½‘åè®®ï¼Œå³TCPå’ŒUDPè¿è¾“å±‚åè®®ã€‚

æˆ‘ä»¬å°†ä»è®¨è®ºè¿è¾“å±‚å’Œç½‘ç»œå±‚çš„å…³ç³»å¼€å§‹ã€‚è¿™å°±è¿›äººäº†ç ”ç©¶è¿è¾“å±‚ç¬¬ä¸€ä¸ªå…³é”®åŠŸèƒ½çš„é˜¶æ®µï¼Œå³å°†ç½‘ç»œå±‚çš„åœ¨ä¸¤ä¸ªç«¯ç³»ç»Ÿä¹‹é—´çš„äº¤ä»˜æœåŠ¡æ‰©å±•åˆ°è¿è¡Œåœ¨ä¸¤ä¸ªä¸åŒç«¯ç³»ç»Ÿä¸Šçš„åº”ç”¨å±‚è¿›ç¨‹ä¹‹é—´çš„äº¤ä»˜æœåŠ¡ã€‚æˆ‘ä»¬å°†åœ¨è®¨è®ºå› ç‰¹ç½‘çš„æ— è¿æ¥è¿è¾“åè®®UDPæ—¶é˜è¿°è¿™ä¸ªåŠŸèƒ½ã€‚

ç„¶åæˆ‘ä»¬é‡æ–°å›åˆ°åŸç†å­¦ä¹ ä¸Šï¼Œé¢å¯¹è®¡ç®—æœºç½‘ç»œä¸­æœ€ä¸ºåŸºç¡€æ€§çš„é—®é¢˜ä¹‹ä¸€ï¼Œå³ä¸¤ä¸ªå®ä½“
æ€ æ · æ‰ èƒ½ åœ¨ ä¸€ ç§ ä¼š ä¸¢ å¤± æˆ– æŸ å æ•° æ® çš„ åª’ ä½“ ä¸Š å¯ é  åœ° é€š ä¿¡
.é€š è¿‡ä¸€ç³»åˆ—å¤ æ‚ æ€§ä¸æ–­ å¢åŠ  ï¼ˆä»è€Œæ›´çœŸå®ï¼ï¼‰çš„æƒ…å†µï¼Œæˆ‘ä»¬å°†é€æ­¥å»º ç«‹èµ·
ä¸€å¥—è¢«è¿è¾“ åè®®ç”¨æ¥è§£å†³è¿™äº›é—®é¢˜ çš„æŠ€æœ¯.
ç„¶åï¼Œæˆ‘ä»¬å°†è¯´æ˜è¿™äº›åŸç†æ˜¯å¦‚ä½•ä½“ç°åœ¨å› ç‰¹ç½‘é¢å‘è¿æ¥çš„è¿è¾“åè®®TCPä¸­çš„ã€‚
\end{quote}

3.4

Transport services and protocols

\begin{itemize}
\item
  provide \emph{logical communication} between app processes running on
  different hosts
\item
  transport protocols run in end systems
\item
  \begin{itemize}
  \item
    send side: breaks app messages into \emph{segments}, passes to
    network layer
  \item
    rcv side: reassembles segments into messages, passes to app layer
  \end{itemize}
\item
  more than one transport protocol available to apps
\item
  \begin{itemize}
  \item
    Internet: TCP and UDP
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329141135912.png}
\caption{}
\end{figure}

\hypertarget{31-transport-layer-services}{%
\subsection{3.1 transport-layer
services}\label{31-transport-layer-services}}

3.5

Transport vs. network layer

\begin{itemize}
\item
  \emph{network layer:} logical communication between hosts{[}ä¸»æœº{]}
\item
  \emph{transport layer:} logical communication between processes
\item
  \begin{itemize}
  \item
    relies on, enhances, network layer services
  \end{itemize}
\end{itemize}

\emph{household{[}å®¶åº­{]} analogy{[}ç±»æ¨{]}:}

\emph{12 kids in Ann's house sending letters to 12 kids in Bill's
house:}

\begin{itemize}
\item
  hosts = houses
\item
  processes = kids
\item
  app messages = letters in envelopes
\item
  transport protocol = Ann and Bill who demux to in-house siblings
\item
  network-layer protocol = postal service
\end{itemize}

3.6

Internet transport-layer protocols

\begin{itemize}
\item
  reliable, in-order delivery (TCP)
\item
  \begin{itemize}
  \item
    congestion control
  \item
    flow control
  \item
    connection setup
  \end{itemize}
\item
  unreliable, unordered delivery: UDP
\item
  \begin{itemize}
  \item
    no-frills extension of ``best-effort'' IP
  \end{itemize}
\item
  services not available:
\item
  \begin{itemize}
  \item
    delay guarantees
  \item
    bandwidth guarantees
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329141449598.png}
\caption{}
\end{figure}

\hypertarget{32-multiplexingux591aux8defux590dux7528-and-demultiplexingux591aux8defux5206ux89e3}{%
\subsection{3.2 multiplexing{[}å¤šè·¯å¤ç”¨{]} and
demultiplexing{[}å¤šè·¯åˆ†è§£{]}}\label{32-multiplexingux591aux8defux590dux7528-and-demultiplexingux591aux8defux5206ux89e3}}

3.8

Multiplexing/demultiplexing

\begin{quote}
ç½‘ç»œå±‚æä¾›çš„ä¸»æœºåˆ°
ä¸»æœºäº¤ä»˜æœåŠ¡å»¶ä¼¸åˆ°ä¸ºè¿è¡Œåœ¨ä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºæä¾›è¿›ç¨‹åˆ°è¿›ç¨‹çš„äº¤ä»˜æœåŠ¡ã€‚
\end{quote}

\emph{multiplexing at sender:}

handle data from multiple sockets, add transport header (later used for
demultiplexing)

\emph{demultiplexing at receiver:}

use header info to deliver received segments to correct socket

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329143100950.png}
\caption{}
\end{figure}

3.9

How demultiplexing works

\begin{itemize}
\item
  host receives IP datagrams
\item
  \begin{itemize}
  \item
    each datagram has source IP address, destination IP address
  \item
    each datagram carries one transport-layer segment
  \item
    each segment has source, destination port number
  \end{itemize}
\item
  host uses \emph{IP addresses \& port numbers} to direct segment to
  appropriate socket
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329141823375.png}
\caption{}
\end{figure}

3.10 Connectionless demultiplexing

\begin{quote}
UDP ç›®çš„ç«¯å£å·ä¸€æ ·ï¼Œæ¥æºä¸ä¸€æ ·ï¼Œåœ¨åŒä¸€ç«¯å£å·
\end{quote}

\begin{itemize}
\item
  \emph{recall:} created socket has host-local port \#:
\end{itemize}

\textbf{DatagramSocket mySocket1 = new
DatagramSocket(*}*12534\textbf{});**

\begin{itemize}
\item
  when host receives UDP segment:
\item
  \begin{itemize}
  \item
    checks destination port \# in segment
  \item
    directs UDP segment to socket with that port \#
  \end{itemize}
\item
  \emph{recall:} when creating datagram to send into UDP socket, must
  specify
\item
  \begin{itemize}
  \item
    destination IP address
  \item
    destination port \#
  \end{itemize}
\end{itemize}

IP datagrams with \emph{same dest. port \#,} but different source IP
addresses and/or source port numbers will be directed to \emph{same
socket} at dest

3.11

Connectionless demux: example

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329141951449.png}
\caption{}
\end{figure}

3.12

Connection-oriented demux

\begin{itemize}
\item
  TCP socket identified by 4-tuple:
\item
  \begin{itemize}
  \item
    source IP address
  \item
    source port number
  \item
    dest IP address
  \item
    dest port number
  \end{itemize}
\item
  demux: receiver uses all four values to direct segment to appropriate
  socket
\item
  server host may support many simultaneous TCP sockets:
\item
  \begin{itemize}
  \item
    each socket identified by its own 4-tuple
  \end{itemize}
\item
  web servers have different sockets for each connecting client
\item
  \begin{itemize}
  \item
    non-persistent HTTP will have different socket for each request
  \end{itemize}
\end{itemize}

3.13

Connection-oriented demux: example

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329142244164.png}
\caption{}
\end{figure}

three segments, all destined to IP address: B, dest port: 80 are
demultiplexed to \emph{different} sockets

3.14

Connection-oriented demux: example

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329142346192.png}
\caption{}
\end{figure}

\hypertarget{33-connectionless-transport-udp}{%
\subsection{3.3 connectionless transport:
UDP}\label{33-connectionless-transport-udp}}

3.16

UDP: User Datagram Protocol {[}RFC 768{]}

\begin{itemize}
\item
  ``no frills,'' ``bare bones'' Internet transport protocol
\item
  ``best effort'' service, UDP segments may be:
\item
  \begin{itemize}
  \item
    lost
  \item
    delivered out-of-order to app
  \end{itemize}
\item
  \emph{connectionless:}
\item
  \begin{itemize}
  \item
    no handshaking between UDP sender, receiver
  \item
    each UDP segment handled independently of others
  \end{itemize}
\item
  UDP use:
\item
  \begin{itemize}
  \item
    streaming multimedia apps (loss tolerant, rate sensitive)
  \item
    DNS
  \item
    SNMP
  \end{itemize}
\item
  reliable transfer over UDP:
\item
  \begin{itemize}
  \item
    add reliability at application layer
  \item
    application-specific error recovery!
  \end{itemize}
\end{itemize}

3.17

Internet apps: application, transport protocols

\begin{longtable}[]{@{}lll@{}}
\toprule
\textbf{Application} & \textbf{Application} &
\textbf{Underlying}\tabularnewline
\midrule
\endhead
& \textbf{layer protocol} & \textbf{transport protocol}\tabularnewline
e-mail & &\tabularnewline
remote terminal access & SMTP {[}RFC 2821{]} & TCP\tabularnewline
Web & Telnet {[}RFC 854{]} & TCP\tabularnewline
file transfer & HTTP {[}RFC 2616{]} & TCP\tabularnewline
streaming multimedia & FTP {[}RFC 959{]} & TCP\tabularnewline
& proprietary & TCP or UDP\tabularnewline
Internet telephony & (e.g. RealNetworks) &\tabularnewline
\bottomrule
\end{longtable}

3.18

UDP: segment header

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329142622056.png}
\caption{}
\end{figure}

why is there a UDP?

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  no connection establishment (which can add delay)
\item
  simple: no connection state at sender, receiver
\item
  small header size
\item
  no congestion control: UDP can blast away as fast as desired
\end{enumerate}

'''http 0632 0035 001C E217 '''

å‘é€ç«¯å£å· 0632

\begin{verbatim}
0000 0110 0011 0010
\end{verbatim}

ç›®çš„ç«¯å£å· 0035 == 53

\begin{verbatim}
0000 0000 0011 0101
\end{verbatim}

\[=2^5+2^4+2^2+2^0=32+16+5=53\]

ç«¯å£å·æ˜¯53

payload 28 bytes

3.19 UDP checksum

\begin{quote}
UDP æ£€æŸ¥å’Œ

æœ€åæ£€æŸ¥å’Œè¡¥ä¸Š1
\end{quote}

\emph{Goal:} detect ``errors'' (e.g., flipped bits) in transmitted
segment

sender:

\begin{itemize}
\item
  treat segment contents, including header fields, as sequence of 16-bit
  integers
\item
  checksum: addition (one's complement sum) of segment contents
\item
  sender puts checksum value into UDP checksum field
\end{itemize}

receiver:

\begin{itemize}
\item
  compute checksum of received segment
\item
  check if computed checksum equals checksum field value:
\item
  \begin{itemize}
  \item
    NO - error detected
  \item
    YES - no error detected. \emph{But maybe errors nonetheless?} More
    later \ldots.
  \end{itemize}
\end{itemize}

3.20 Internet checksum: example

example: add two 16-bit integers

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329143236295.png}
\caption{}
\end{figure}

\emph{Note:} when adding numbers, a carryout from the most significant
bit needs to be added to the result

\hypertarget{34-principles-of-reliable-data-transfer}{%
\subsection{3.4 principles of reliable data
transfer}\label{34-principles-of-reliable-data-transfer}}

3.22

Principles of reliable data transfer

\begin{itemize}
\item
  important in application, transport, link layers
\item
  \begin{itemize}
  \item
    top-10 list of important networking topics!
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329143407780.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  characteristics of unreliable channel will determine complexity of
  reliable data transfer protocol (rdt)
\end{itemize}

3.23

Principles of reliable data transfer

\begin{itemize}
\item
  important in application, transport, link layers
\item
  \begin{itemize}
  \item
    top-10 list of important networking topics!
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329143600411.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  characteristics of unreliable channel will determine complexity of
  reliable data transfer protocol (rdt)
\end{itemize}

3.24

Principles of reliable data transfer

\begin{itemize}
\item
  important in application, transport, link layers
\item
  \begin{itemize}
  \item
    top-10 list of important networking topics!
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329143600411.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  characteristics of unreliable channel will determine complexity of
  reliable data transfer protocol (rdt)
\end{itemize}

3.25

Reliable data transfer: getting started

send side

\textbf{rdt\_send():} called from above, (e.g., by app.). Passed data to
deliver to receiver upper layer

\textbf{udt\_send():} called by rdt, to transfer packet over unreliable
channel to receiver

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329144147741.png}
\caption{}
\end{figure}

receive side

\textbf{deliver\_data():} called by \textbf{rdt} to deliver data to
upper

\textbf{rdt\_rcv():} called when packet arrives on rcv-side of channel

3.26

Reliable data transfer: getting started

we'll:

\begin{itemize}
\item
  incrementally develop sender, receiver sides of reliable data transfer
  protocol (rdt)
\item
  consider only unidirectional data transfer
\item
  \begin{itemize}
  \item
    but control info will flow on both directions!
  \end{itemize}
\item
  use finite state machines (FSM) to specify sender, receiver
\end{itemize}

state: when in this ``state'' next state uniquely determined by next
event

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329144336666.png}
\caption{}
\end{figure}

3.27

rdt1.0: reliable transfer over a reliable channel

\begin{itemize}
\item
  underlying channel perfectly reliable
\item
  \begin{itemize}
  \item
    no bit errors
  \item
    no loss of packets
  \end{itemize}
\item
  separate FSMs for sender, receiver:
\item
  \begin{itemize}
  \item
    sender sends data into underlying channel
  \item
    receiver reads data from underlying channel
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329144556542.png}
\caption{}
\end{figure}

3.28

rdt2.0: channel with bit errors

\begin{itemize}
\item
  underlying channel may flip bits in packet
\item
  \begin{itemize}
  \item
    checksum to detect bit errors
  \end{itemize}
\item
  \emph{the} question: how to recover from errors:
\end{itemize}

\textbf{\emph{How do humans recover from ``errors''} during
conversation?}

3.29

rdt2.0: channel with bit errors

\begin{itemize}
\item
  underlying channel may flip bits in packet
\item
  \begin{itemize}
  \item
    checksum to detect bit errors
  \end{itemize}
\item
  \emph{the} question: how to recover from errors:
\item
  \begin{itemize}
  \item
    \emph{acknowledgements (ACKs):} receiver explicitly tells sender
    that pkt received OK
  \item
    \emph{negative acknowledgements (NAKs):} receiver explicitly tells
    sender that pkt had errors
  \item
    sender retransmits pkt on receipt of NAK
  \end{itemize}
\item
  new mechanisms in \textbf{rdt2.0} (beyond \textbf{rdt1.0}):
\item
  \begin{itemize}
  \item
    error detection
  \item
    feedback: control msgs (ACK,NAK) from receiver to sender
  \end{itemize}
\end{itemize}

3.30

rdt2.0: FSM specification

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329151945438.png}
\caption{}
\end{figure}

3.31

rdt2.0: operation with no errors

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329152340735.png}
\caption{}
\end{figure}

3.32

rdt2.0: error scenario

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329153836051.png}
\caption{}
\end{figure}

3.33

rdt2.0 has a fatal flaw!

what happens if ACK/NAK corrupted?

\begin{itemize}
\item
  sender doesn't know what happened at receiver!
\item
  can't just retransmit: possible duplicate
\end{itemize}

handling duplicates:

\begin{itemize}
\item
  sender retransmits current pkt if ACK/NAK corrupted
\item
  sender adds \emph{sequence number} to each pkt
\item
  receiver discards (doesn't deliver up) duplicate pkt
\end{itemize}

stop and wait

\begin{itemize}
\item
  sender sends one packet, then waits for receiver response
\end{itemize}

3.34

rdt2.1: sender, handles garbled ACK/NAKs

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210329155004114.png}
\caption{}
\end{figure}

3.35

rdt2.1: receiver, handles garbled ACK/NAKs

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330080349636.png}
\caption{}
\end{figure}

3.36

rdt2.1: discussion

sender:

\begin{itemize}
\item
  seq \# added to pkt
\item
  two seq. \#'s (0,1) will suffice. Why?
\item
  must check if received ACK/NAK corrupted
\item
  twice as many states
\item
  \begin{itemize}
  \item
    state must ``remember'' whether ``expected'' pkt should have seq \#
    of 0 or 1
  \end{itemize}
\end{itemize}

receiver:

\begin{itemize}
\item
  must check if received packet is duplicate
\item
  \begin{itemize}
  \item
    state indicates whether 0 or 1 is expected pkt seq \#
  \end{itemize}
\item
  note: receiver can \emph{not} know if its last ACK/NAK received OK at
  sender
\end{itemize}

3.37

rdt2.2: a NAK-free protocol

\begin{itemize}
\item
  same functionality as rdt2.1, using ACKs only
\item
  instead of NAK, receiver sends ACK for last pkt received OK
\item
  \begin{itemize}
  \item
    receiver must \emph{explicitly} include seq \# of pkt being ACKed
  \end{itemize}
\item
  duplicate ACK at sender results in same action as NAK:
  \emph{retransmit current pkt}
\end{itemize}

3.38

rdt2.2: sender, receiver fragments

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330080531991.png}
\caption{}
\end{figure}

3.39

rdt3.0: channels with errors \emph{and} loss

new assumption: underlying channel can also lose packets (data, ACKs)

\begin{itemize}
\item
  \begin{itemize}
  \item
    checksum, seq. \#, ACKs, retransmissions will be of help \ldots{}
    but not enough
  \end{itemize}
\end{itemize}

approach: sender waits ``reasonable'' amount of time for ACK

\begin{itemize}
\item
  retransmits if no ACK received in this time
\item
  if pkt (or ACK) just delayed (not lost):
\item
  \begin{itemize}
  \item
    retransmission will be duplicate, but seq. \#'s already handles this
  \item
    receiver must specify seq \# of pkt being ACKed
  \end{itemize}
\item
  requires countdown timer
\end{itemize}

3.40

rdt3.0 sender

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330080646078.png}
\caption{}
\end{figure}

3.41

rdt3.0 in action

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330080718567.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330080728338.png}
\caption{}
\end{figure}

3.42

rdt3.0 in action

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330080810057.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330080824721.png}
\caption{}
\end{figure}

3.43

Performance of rdt3.0

\begin{itemize}
\item
  rdt3.0 is correct, but performance stinks
\item
  e.g.: 1 Gbps link, 15 ms prop. delay, 8000 bit packet:
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210406084106023.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  U sender: \emph{utilization} -- fraction of time sender busy sending
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210406084159831.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  \begin{itemize}
  \item
    if RTT=30 msec, 1KB pkt every 30 msec: 267Kb/sec thruput over 1 Gbps
    link
  \end{itemize}
\item
  network protocol limits use of physical resources!
\end{itemize}

3.44

rdt3.0: stop-and-wait operation

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210406084634167.png}
\caption{}
\end{figure}

first packet bit transmitted, t = 0

last packet bit transmitted, t = L / R

first packet bit arrives

last packet bit arrives, send ACK

ACK arrives, send next packet, t = RTT + L / R

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210406084418391.png}
\caption{}
\end{figure}

3.45

Pipelined protocols

pipelining: sender allows multiple, ``in-flight'',
yet-to-be-acknowledged pkts

\begin{itemize}
\item
  \begin{itemize}
  \item
    range of sequence numbers must be increased
  \item
    buffering at sender and/or receiver
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210412135559908.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  two generic forms of pipelined protocols: \emph{go-Back-N, selective
  repeat}
\end{itemize}

3.46

Pipelining: increased utilization

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210412140823377.png}
\caption{}
\end{figure}

3-packet pipelining increases utilization by a factor of 3!

\[U_{sender} = \frac{\frac{3L}{R}}{RTT+\frac{L}{R}}=\frac{0.0024}{30.008} = 0.00081\]

3.47

Pipelined protocols

pipelining: sender allows multiple, ``in-flight'',
yet-to-be-acknowledged pkts

\begin{itemize}
\item
  \begin{itemize}
  \item
    range of sequence numbers must be increased
  \item
    buffering at sender and/or receiver
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210412135559908.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  two generic forms of pipelined protocols: \emph{go-Back-N, selective
  repeat}
\end{itemize}

3.48

Pipelined protocols: overview

Go-back-N:

\begin{itemize}
\item
  sender can have up to N unacked packets in pipeline
\item
  receiver only sends \emph{cumulative ack}
\item
  \begin{itemize}
  \item
    doesn't ack packet if there's a gap
  \end{itemize}
\item
  sender has timer for oldest unacked packet
\item
  \begin{itemize}
  \item
    when timer expires, retransmit \emph{all} unacked packets
  \end{itemize}
\end{itemize}

Selective Repeat:

\begin{itemize}
\item
  sender can have up to N unack'ed packets in pipeline
\item
  rcvr sends \emph{individual ack} for each packet
\item
  sender maintains timer for each unacked packet
\item
  \begin{itemize}
  \item
    when timer expires, retransmit only that unacked packet
  \end{itemize}
\end{itemize}

3.49

Why is window up to N?

Go-Back-N: sender

\begin{itemize}
\item
  k-bit seq \# in pkt header
\item
  ``window'' of up to N, consecutive unack'ed pkts allowed
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210412141227983.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  ACK(n): ACKs all pkts up to, including seq \# n - \emph{``cumulative
  ACK''}
\item
  \begin{itemize}
  \item
    may receive duplicate ACKs (see receiver)
  \end{itemize}
\item
  timer for oldest in-flight pkt
\item
  \emph{timeout(n):} retransmit packet n and all higher seq \# pkts in
  window
\end{itemize}

3.50 GBN: sender extended FSM

\begin{quote}
æœ‰é™çŠ¶æ€æœºï¼Œä¸Šå±‚æ˜¯çŠ¶æ€ï¼Œä¸‹å±‚æ˜¯åŠ¨ä½œ SR åˆ†ç»„é•¿åº¦çš„å¤§å°å’ŒåŠ¨ä½œ
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210412141457461.png}
\caption{}
\end{figure}

3.51 GBN: receiver extended FSM

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210412141516789.png}
\caption{}
\end{figure}

Why not buffering?

ACK-only: always send ACK for correctly-received pkt with highest
\emph{in-order} seq \#

\begin{itemize}
\item
  \begin{itemize}
  \item
    may generate duplicate ACKs
  \item
    need only remember \textbf{expectedseqnum}
  \end{itemize}
\item
  out-of-order pkt:
\item
  \begin{itemize}
  \item
    discard (don't buffer): \emph{no receiver buffering!}
  \item
    re-ACK pkt with highest in-order seq \#
  \end{itemize}
\end{itemize}

3.52

GBN in action

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210412141602041.png}
\caption{}
\end{figure}

\hypertarget{35-connection-oriented-transport-tcp-segment-structure}{%
\subsection{3.5 connection-oriented transport: TCP segment
structure}\label{35-connection-oriented-transport-tcp-segment-structure}}

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    segment structure
  \item
    reliable data transfer
  \item
    flow control
  \item
    connection management
  \end{enumerate}
\end{itemize}

3.65

TCP: Overview RFCs: 793,1122,1323, 2018, 2581

\begin{itemize}
\item
  point-to-point:
\item
  \begin{itemize}
  \item
    one sender, one receiver
  \end{itemize}
\item
  reliable, in-order \emph{byte steam:}
\item
  \begin{itemize}
  \item
    no ``message boundaries''
  \end{itemize}
\item
  pipelined:
\item
  \begin{itemize}
  \item
    TCP congestion and flow control set window size
  \end{itemize}
\item
  full duplex data:
\item
  \begin{itemize}
  \item
    bi-directional data flow in same connection
  \item
    MSS: maximum segment size
  \end{itemize}
\item
  connection-oriented:
\item
  \begin{itemize}
  \item
    handshaking (exchange of control msgs) inits sender, receiver state
    before data exchange

    \begin{quote}
    TCPè¢«ç§°ä¸ºæ˜¯é¢å‘è¿æ¥çš„ï¼ˆconn ection-orientedï¼‰ï¼Œ è¿™æ˜¯å› ä¸ºåœ¨ä¸€ä¸ª
    åº”ç”¨è¿›ç¨‹ å¯ä»¥å¼€å§‹ å‘å¦ ä¸€ ä¸ªåº”ç”¨ è¿› ç¨‹å‘é€æ•°æ®ä¹‹å‰ï¼Œè¿™ä¸¤
    ä¸ªè¿›ç¨‹å¿…é¡»å…ˆç›¸äº’ ``æ¡æ‰‹''ï¼Œå³å®ƒä»¬å¿…é¡»ç›¸äº’å‘é€
    æŸäº›é¢„å¤‡æŠ¥æ–‡æ®µï¼Œä»¥å»ºç«‹ç¡®ä¿æ•°æ®ä¼ è¾“çš„å‚æ•°ã€‚ä½œä¸ºTCPè¿æ¥å»ºç«‹çš„ä¸€éƒ¨åˆ†ï¼Œè¿æ¥çš„åŒæ–¹
    éƒ½å°†åˆå§‹åŒ– ä¸TCPè¿æ¥ç›¸å…³çš„è®¸å¤šTCPçŠ¶æ€å˜é‡
    \end{quote}
  \end{itemize}
\item
  flow controlled:
\item
  \begin{itemize}
  \item
    sender will not overwhelm receiver
  \end{itemize}
\end{itemize}

\begin{quote}
TCPæ˜¯
å› ç‰¹ç½‘è¿è¾“å±‚çš„é¢å‘è¿æ¥çš„å¯é çš„è¿è¾“åè®®ã€‚æˆ‘ä»¬åœ¨æœ¬èŠ‚ä¸­å°†çœ‹åˆ°ï¼Œä¸ºäº†æä¾›å¯é æ•°æ®ä¼ 
è¾“ï¼ŒT C
Pä¾èµ–äºå‰ä¸€èŠ‚æ‰€è®¨è®ºçš„è®¸å¤šåŸºæœ¬åŸç†ï¼Œå…¶ä¸­åŒ…æ‹¬å·®é”™æ£€æµ‹ã€é‡ä¼ ã€ç´¯ç§¯ç¡®è®¤ã€å®š
æ—¶å™¨ä»¥åŠç”¨äºåºå·å’Œç¡®è®¤å·çš„é¦–éƒ¨å­—æ®µã€‚TCPå®šä¹‰åœ¨RFC 793ã€RFC 1122ã€RFC
1323ã€ RFC 2018 ä»¥åŠ RFC 2581 ä¸­ã€‚
\end{quote}

3.66

\hl{TCP segment structure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330081350540.png}
\caption{}
\end{figure}

3.67

TCP seq. numbers, ACKs

sequence numbers:

\begin{itemize}
\item
  \begin{itemize}
  \item
    byte stream ``number'' of first byte in segment's data
  \end{itemize}
\end{itemize}

acknowledgements:

\begin{itemize}
\item
  \begin{itemize}
  \item
    seq \# of next byte expected from other side
  \item
    cumulative ACK
  \end{itemize}
\end{itemize}

Q: how receiver handles out-of-order segments

\begin{itemize}
\item
  \begin{itemize}
  \item
    A: TCP spec doesn't say, - up to implementor
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330081724253.png}
\caption{}
\end{figure}

3.68

TCP seq. numbers, ACKs

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330081931407.png}
\caption{}
\end{figure}

3.69

\hl{TCP round trip time, timeout}

\hl{Q: how to set TCP timeout value?}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  longer than RTT
\item
  \begin{itemize}
  \item
    but RTT varies
  \end{itemize}
\item
  \emph{too short:} premature timeout, unnecessary retransmissions
\item
  \emph{too long:} slow reaction to segment loss
\end{enumerate}

\hl{Q: how to estimate RTT?}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{SampleRTT}: measured time from segment transmission until ACK
  receipt
\item
  \begin{itemize}
  \item
    ignore retransmissions
  \end{itemize}
\item
  \textbf{SampleRTT} will vary, want estimated RTT ``smoother''
\item
  \begin{itemize}
  \item
    average several \emph{recent} measurements, not just current
    \textbf{SampleRTT}
  \end{itemize}
\end{enumerate}

3.70

\hl{TCP round trip time, timeout}

\[EstimatedRTT = (1- Î±)*EstimatedRTT + Î±*SampleRTT\]

\begin{itemize}
\item
  {[}å¹³å‡å€¼{]}exponential weighted moving a\hl{verage}
\item
  influence of past sample decreases exponentially fast
\item
  typical value: Î± \textbf{=} 0.125
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330093040209.png}
\caption{}
\end{figure}

3.71

TCP round trip time, timeout

\begin{itemize}
\item
  timeout interval: \textbf{EstimatedRTT} plus ``safety margin''
\item
  \begin{itemize}
  \item
    large variation in \textbf{EstimatedRTT -\textgreater{}} larger
    safety margin
  \end{itemize}
\item
  estimate SampleRTT deviation from EstimatedRTT:
\end{itemize}

\[DevRTT = (1-Î²)*DevRTT +
             Î²*|SampleRTT-EstimatedRTT|\]

\textbf{(typically,} Î² \textbf{= 0.25)}

\[TimeoutInterval = EstimatedRTT + 4*DevRTT\]

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330093144967.png}
\caption{}
\end{figure}

\hypertarget{35-connection-oriented-transport-tcp-reliable-data-transfer}{%
\subsection{3.5 connection-oriented transport: TCP reliable data
transfer}\label{35-connection-oriented-transport-tcp-reliable-data-transfer}}

3.73

TCP reliable data transfer

\begin{itemize}
\item
  TCP creates rdt service on top of IP's unreliable service
\item
  \begin{itemize}
  \item
    pipelined segments
  \item
    cumulative acks
  \item
    single retransmission timer
  \end{itemize}
\item
  retransmissions triggered by:
\item
  \begin{itemize}
  \item
    timeout events
  \item
    duplicate acks
  \end{itemize}
\item
  let's initially consider simplified TCP sender:
\item
  \begin{itemize}
  \item
    ignore duplicate acks
  \item
    ignore flow control, congestion control
  \end{itemize}
\end{itemize}

3.74

\hl{TCP sender events:}

\emph{data rcvd from app:}

\begin{itemize}
\item
  create segment with seq
\item
  seq is byte-stream number of first data byte in segment
\item
  start timer if not already running
\item
  \begin{itemize}
  \item
    think of timer as for oldest unacked segment
  \item
    expiration interval: \textbf{TimeOutInterval}
  \end{itemize}
\end{itemize}

\emph{timeout:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  retransmit segment that caused timeout
\item
  restart timer
\end{enumerate}

\emph{ack rcvd:}

\begin{itemize}
\item
  if ack acknowledges previously unacked segments
\item
  \begin{itemize}
  \item
    update what is known to be ACKed
  \item
    start timer if there are still unacked segments
  \end{itemize}
\end{itemize}

3.75

\hl{TCP sender (simplified)}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330093637889.png}
\caption{}
\end{figure}

3.76

TCP: retransmission scenarios

lost ACK scenario

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330094040988.png}
\caption{}
\end{figure}

premature{[}è¿‡æ—©åœ°{]} timeout

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330094103520.png}
\caption{}
\end{figure}

cumulative ACK

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210330094300490.png}
\caption{}
\end{figure}

3.78

\hl{TCP ACK generation {[}RFC 1122, RFC 2581{]}}

\begin{longtable}[]{@{}ll@{}}
\toprule
\emph{event at receiver} & \emph{TCP receiver action}\tabularnewline
\midrule
\endhead
1.1 arrival of in-order segment with with expected seq \# & 1.1 delayed
ACK. Wait up to 500 msdelayed ACK.\tabularnewline
1.2 All data up toexpected seq \#, already ACKed & 1.2 If no next
segment,for next segment.\tabularnewline
2.1 arrival of in-order segment with expected seq \# & 2.1 immediately
send single cumulative ACK\tabularnewline
2.2 One other segment has ACK pending & 2.2 ACKing both in-order
segments\tabularnewline
3 arrival of out-of-order segment higher-than-expect seq \# Gap detected
& 3. immediately send \hl{duplicate ACK,} indicating seq. \# of next
expected byte\tabularnewline
4. arrival of segment that partially or completely fills gap & 4.
immediate send ACK, provided that segment starts at lower end of
gap\tabularnewline
\bottomrule
\end{longtable}

3.79

\hl{TCP fast retransmit{[}å¿«é€ŸğŸ”œé‡ä¼ , ä¸‰æ¬¡é‡å¤çš„ACK(fast retransmit after
sender receipt of triple duplicate ACK){]}}

\begin{itemize}
\item
  time-out period often relatively long:
\item
  \begin{itemize}
  \item
    long delay before resending lost packet
  \end{itemize}
\item
  detect lost segments via duplicate ACKs.
\item
  \begin{itemize}
  \item
    sender often sends many segments back-to-back
  \item
    if segment is lost, there will likely be many duplicate ACKs.
  \end{itemize}
\end{itemize}

if sender receives 3 ACKs for same data (``triple duplicate ACKs''),
resend unacked segment with smallest seq likely that unacked segment
lost, so don't wait for timeout

3.80

TCP fast retransmit

fast retransmit after sender receipt of triple duplicate ACK

\hypertarget{35-tcp-flow-controlux6d41ux91cfux63a7ux5236}{%
\subsection{3.5 TCP: flow
control{[}æµé‡æ§åˆ¶{]}}\label{35-tcp-flow-controlux6d41ux91cfux63a7ux5236}}

\begin{quote}
ä¸€ç§æ˜¯æ¥æ”¶æ–¹æ¥å—ä¸è¿‡æ¥çš„æ‹¥å¡æ§åˆ¶ è¿˜æœ‰ğŸ”Ÿç½‘ç»œä¸è¡Œçš„æµé‡æ§åˆ¶
\end{quote}

3.82 TCP: flow control

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413082716221.png}
\caption{}
\end{figure}

3.83 TCP: flow control

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  receiver "advertises" free buffer space by including \(rwnd\) value in
  TCP header of reciver-to-sender segments

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    1 \(RcvBuffer\) size set via socket option ( typical default is 4096
    bytes )
  \item
    2 many operating systems autoadjust \(RcvBuffer\)
  \end{enumerate}
\item
  Sender Limits amount of unacked ( "in-flight" ) data to reciver
  \(rwnd value\)
\item
  guarantees receive buffer will not overflow
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413083128032.png}
\caption{}
\end{figure}

\hypertarget{35-tcp-connection-managementux94feux63a5ux7ba1ux7406}{%
\subsection{3.5 TCP: connection
management{[}é“¾æ¥ç®¡ç†{]}}\label{35-tcp-connection-managementux94feux63a5ux7ba1ux7406}}

3.85

\hl{Connection Management}

before exhanging data, sender/receiver "handshake"

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  agree to establish ocnnection ( each knowing the other willing to
  establish connection )
\item
  agree on connection parameters
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413084602148.png}
\caption{}
\end{figure}

3.86

Complexity of Protocol

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413084654479.png}
\caption{}
\end{figure}

3.87

Agreeing to establish a connection

2-way handshake

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413084915452.png}
\caption{}
\end{figure}

\hl{Q: Will 2-way handshake always work in network?}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  {[} variable delays{]} variable delays{[}å˜åŒ–çš„å»¶è¿Ÿ{]}
\item
  {[} \hl{retransmitted message loss} {]} retransmitted messages ( e.g.
  \(req-conn(x) \) ) due to message loss
\item
  {[} mesage reordering {]} message reordering{[}é‡æ–°å®‰æ’{]}
\item
  {[} cannot see {]} cannot "see" other sider
\end{enumerate}

3.88

2-way handshake failure scenarios:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  half open connection! (no client!)
\end{enumerate}

\begin{quote}
æå‰åˆ¤æ–­è¶…æ—¶, é‡å‘ \(req\_conn(x)\) å¯¼è‡´ server æ²¡å‘ \(acc\_conn(x)\)
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413085407538.png}
\caption{}
\end{figure}

\begin{quote}
æå‰åˆ¤æ–­è¶…æ—¶, é‡å‘çš„ \(req\_conn(x)\) å¯¼è‡´ server æ²¡å‘ \(acc\_conn(x)\)
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413085752637.png}
\caption{}
\end{figure}

3.89

\hypertarget{tcp-3-way-handshake}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸TCP 3-way
Handshake}}{â­ï¸TCP 3-way Handshake}}\label{tcp-3-way-handshake}}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413091842901.png}
\caption{}
\end{figure}

â­ï¸

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413091920532.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413091928233.png}
\caption{}
\end{figure}

3.90

\hypertarget{tcp-3-way-handshake-fsm--finite-state-machine}{%
\subsubsection{\texorpdfstring{\hl{â­ï¸â­ï¸TCP 3-way Handshake: FSM ( Finite
State
Machine)}}{â­ï¸â­ï¸TCP 3-way Handshake: FSM ( Finite State Machine)}}\label{tcp-3-way-handshake-fsm--finite-state-machine}}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413092030800.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413092043577.png}
\caption{}
\end{figure}

3.91 \#\#\# \hl{â­ï¸ TCP: closing a connection}

\begin{quote}
4æ¬¡æŒ¥æ‰‹ğŸ™‹æ‹†é™¤é“¾æ¥ğŸ”—
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Client, server each close their side of connection

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    send TCP segment with FIN bit = 1
  \end{enumerate}
\item
  respond to received FIN with ACK

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    on receiving FIN, ACK can be combined with own FIN
  \end{enumerate}
\item
  simultaneous FIN exchanges can be handled
\end{enumerate}

3.92

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413092647558.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413092734482.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210413092750629.png}
\caption{}
\end{figure}

\hypertarget{36-principles-of-congestion-control}{%
\subsection{\texorpdfstring{3.6 Principles of congestion control
}{3.6 Principles of congestion control }}\label{36-principles-of-congestion-control}}

\begin{quote}
ä¸‰ç§æƒ…å†µï¼Œå››ä¸ªä»£ä»·ï¼Œ

å››ä¸ªä»£ä»·

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
\item
  å¯èƒ½ä¼šä¸¢åŒ…
\item
  å¯èƒ½ä¼šå¼•èµ·ä¸å¿…è¦çš„é‡ä¼ 
\item
  å¤šè·³ä¼ è¾“ï¼Œæ‰€æœ‰ä¸Šæ¸¸æ‰€ä½œçš„ä¼šä½œåºŸ
\end{enumerate}

ä¸‰ç§æƒ…å†µ

1.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  ååé‡ä¸¥é‡ä¸‹é™
\item
\end{enumerate}

TCP

\begin{quote}
æ…¢å¯åŠ¨ + æ‹¥å¡é¿å… + å¿«é€Ÿæ¢å¤
\end{quote}

ATM ç½‘ç»œæ§åˆ¶
\end{quote}

3.93 Congestion:

\begin{quote}
æœ‰å¤ªå¤šèµ„æºåœ¨ç½‘ç»œä¸Šä¼ è¾“éš¾ä»¥è¢«æ§åˆ¶ ä¸æµé‡æ§åˆ¶ä¸åŒ è¡¨ç° manifestations

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  ä¸¢åŒ…
\item
  é•¿æ—¶é—´
\end{enumerate}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  informally: ``too many sources sending too much data too fast for
  network to handle''
\item
  different from flow control!
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  manifestations{[}è¡¨ç°{]}:

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    1 lost packets (buffer overflow at routers)
  \item
    2 long delays (queueing in router buffers)
  \end{enumerate}
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  a top-10 problem!
\end{enumerate}

3.94

Principles of congestion control

\emph{congestion}:

\begin{itemize}
\item
  informally: ``too many sources sending too much data too fast for
  \emph{network} to handle''
\item
  different from flow control!
\item
  manifestations:
\item
  \begin{itemize}
  \item
    lost packets (buffer overflow at routers)
  \item
    long delays (queueing in router buffers)
  \end{itemize}
\item
  a top-10 problem!
\end{itemize}

3.95

Causes/costs of congestion: scenario 1

\begin{itemize}
\item
  two senders, two receivers
\item
  one router, infinite buffers
\item
  output link capacity: R
\item
  no retransmission
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419142432800.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419142444926.png}
\caption{}
\end{figure}

3.96

Causes/costs of congestion: scenario 2

\begin{itemize}
\item
  one router, \emph{finite} buffers
\item
  sender retransmission of timed-out packet
\item
  \begin{itemize}
  \item
    application-layer input = application-layer output: Î»in = Î»out
  \item
    transport-layer input includes \emph{retransmissions} : Î»in Î»in
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419142536103.png}
\caption{}
\end{figure}

3.97

Causes/costs of congestion: scenario 2

idealization: perfect knowledge sender sends only when router buffers
available

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419142622693.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419142630439.png}
\caption{}
\end{figure}

3.98

Causes/costs of congestion: scenario 2

\emph{Idealization:} \emph{known loss} packets can be lost, dropped at
router due to full buffers

\begin{itemize}
\item
  sender only resends if packet \emph{known} to be lost
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419142717678.png}
\caption{}
\end{figure}

3.99

Causes/costs of congestion: scenario 2

\emph{Idealization:} \emph{known loss} packets can be lost, dropped at
router due to full buffers

\begin{itemize}
\item
  sender only resends if packet \emph{known} to be lost
\end{itemize}

when sending at R/2, some packets are retransmissions but asymptotic
goodput is still R/2 (why?)

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419142802328.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419142810477.png}
\caption{}
\end{figure}

3.100

Causes/costs of congestion: scenario 2

\emph{Realistic:} \emph{duplicates}

\begin{itemize}
\item
  packets can be lost, dropped at router due to full buffers
\item
  sender times out prematurely, sending \emph{two} copies, both of which
  are delivered
\end{itemize}

when sending at R/2, some packets are retransmissions including
duplicated that are delivered!

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419143014517.png}
\caption{}
\end{figure}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419143032441.png}
\caption{}
\end{figure}

3.101

Causes/costs of congestion: scenario 2

when sending at R/2, some packets are retransmissions including
duplicated that are delivered!

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419143136103.png}
\caption{}
\end{figure}

\emph{Realistic:} \emph{duplicates}

\begin{itemize}
\item
  packets can be lost, dropped at router due to full buffers
\item
  sender times out prematurely, sending \emph{two} copies, both of which
  are delivered
\end{itemize}

``costs'' of congestion:

\begin{itemize}
\item
  more work (retrans) for given ``goodput''
\item
  unneeded retransmissions: link carries multiple copies of pkt
\item
  \begin{itemize}
  \item
    decreasing goodput
  \end{itemize}
\end{itemize}

3.102

Causes/costs of congestion: scenario 3

\begin{itemize}
\item
  four senders
\item
  multihop paths
\item
  timeout/retransmit
\end{itemize}

\hl{Q: what happens as Î»in and Î»in\textbf{'} increase ?}

\hl{A: as red Î»in' increases, all arriving blue pkts at upper queue are
dropped, blue throughput is 0.}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419143344853.png}
\caption{}
\end{figure}

3.103

Causes/costs of congestion: scenario 3

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419143409235.png}
\caption{}
\end{figure}

another ``cost'' of congestion:

\begin{itemize}
\item
  when packet dropped, any ``upstream transmission capacity used for
  that packet was wasted!
\end{itemize}

3.104 \hl{Approaches towards congestion control{[}æ‹¥å¡æ§åˆ¶{]}}

two broad approaches towards congestion control:

A. \hl{{[}ç«¯å¯¹ç«¯æ‹¥å¡æ§åˆ¶{]} end-end congestion control}:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \hl{{[} no feedback {]}} no explicit feedback from network
\item
  \hl{{[} loss delay {]}} congestion inferred{[}æ¨æ–­{]} from end-system
  observed loss, delay
\item
  \hl{{[} taken by TCP {]}} approach taken by TCP
\end{enumerate}

B. network-assisted congestion control:

\begin{itemize}
\item
  routers provide feedback to end systems
\item
  \begin{itemize}
  \item
    single bit indicating congestion (SNA, DECbit, TCP/IP ECN, ATM)
  \item
    explicit rate for sender to send at
  \end{itemize}
\end{itemize}

3.105

Case study: ATM ABR congestion control

\hl{ABR: available bit rate{[}å¯å˜ä½é€Ÿç‡{]}:}

\begin{itemize}
\item
  ``elastic service''
\item
  if sender's path ``underloaded'':
\item
  \begin{itemize}
  \item
    sender should use available bandwidth
  \end{itemize}
\item
  if sender's path congested:
\item
  \begin{itemize}
  \item
    sender throttled to minimum guaranteed rate
  \end{itemize}
\end{itemize}

\hl{RM (resource management) cells:}

\begin{itemize}
\item
  sent by sender, interspersed with data cells
\item
  bits in RM cell set by switches (``\emph{network-assisted''})
\item
  \begin{itemize}
  \item
    \emph{NI bit:} no increase in rate (mild congestion) {[} ä¸å¢åŠ é€Ÿç‡
    {]}
  \item
    \emph{CI bit:} congestion indication {[} æ‹¥å¡å‘ç”Ÿ {]}
  \end{itemize}
\item
  RM cells returned to sender by receiver, with bits intact {[}
  æ§åˆ¶åˆ†ç»„ä½ä¸å˜, å‘å›æ¥æ”¶ç«¯ {]}
\end{itemize}

3.106

Case study: ATM ABR congestion control

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419144212249.png}
\caption{}
\end{figure}

\begin{itemize}
\item
  two-byte ER (explicit rate) field in RM cell
\item
  \begin{itemize}
  \item
    congested switch may lower ER value in cell
  \item
    senders' send rate thus max supportable rate on path
  \end{itemize}
\item
  EFCI bit in data cells: set to 1 in congested switch
\item
  \begin{itemize}
  \item
    if data cell preceding RM cell has EFCI set, receiver sets CI bit in
    returned RM cell
  \end{itemize}
\end{itemize}

\hypertarget{37-tcp-congestion-control}{%
\subsection{3.7 TCP congestion
control}\label{37-tcp-congestion-control}}

3.108 end-end control (no network assistance)

\begin{itemize}
\item
  sender limits transmission:
\end{itemize}

\textbf{LastByteSent-LastByteAcked} â‰¤ \textbf{Cwnd}

Roughly,

\[rate = \frac{cwnd}{RTT} Bytes/sec\]

How does sender perceive congestion?

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  loss event = timeout \emph{or} 3 duplicate acks
\item
  TCP sender reduces rate (\textbf{Cwnd}) after loss event
\item
  \textbf{Cwnd} is dynamic, function of perceived network congestion
\end{enumerate}

three mechanisms:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  AIMD
\item
  slow start
\item
  conservative after timeout events
\end{enumerate}

3.109

TCP congestion control: additive increase multiplicative decrease

approach: sender increases transmission rate (window size), probing for
usable bandwidth, until loss occurs additive increase: increase cwnd by
1 MSS every RTT until loss detected multiplicative decrease: cut cwnd in
half after loss

AIMD saw tooth behavior: probing for bandwidth

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419144819082.png}
\caption{}
\end{figure}

3.110

TCP Congestion Control: details

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150056262.png}
\caption{}
\end{figure}

sender limits transmission

\[LastByteSent - LastByteAcked \leq cwnd[congestion window]\]

cwnd is dynamic, function of perceived network congestion

TCP sending rate: roughly: send cwnd bytes, wait RTT for ACKS, then send
more bytes

\[rate \approx \frac{cwnd}{RTT} bytes/sec\]

3.111 TCP Slow Start

\begin{quote}
TCP æ…¢å¯åŠ¨ å½“TCPé“¾æ¥å¯åŠ¨æ—¶ï¼Œé€Ÿç‡æŒ‡æ•°å¢é•¿ç›´åˆ°ç¬¬ä¸€ä¸ªä¸¢åŒ… congestion
windows = 1 MSS ç¿»å€ congestion windows åœ¨æ¯ä¸€ä¸ª RTT
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  when connection begins, increase rate exponentially until first loss
  event:
\item
  initially cwnd = 1 MSS
\item
  double cwnd every RTT
\item
  done by incrementing cwnd for every ACK received
\end{enumerate}

summary: initial rate is slow but ramps up exponentially fast

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150359285.png}
\caption{}
\end{figure}

3.112 TCP: detecting, reacting to loss

\begin{quote}
\end{quote}

loss indicated by timeout:

cwnd set to 1 MSS;

window then grows exponentially (as in slow start) to threshold, then
grows linearly

loss indicated by 3 duplicate ACKs: TCP RENO

dup ACKs indicate network capable of delivering some segments

ssthresh is cut in half window

cwnd set to ssthresh+ 3*MSS then grows linearly

TCP Tahoe always sets cwnd to 1 (timeout or 3 duplicate acks)

3.113

TCP: switching from slow start to CA

Q: when should the exponential increase switch to linear?

A: when cwnd gets to 1/2 of its value before timeout.

Implementation:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  variable ssthresh
\item
  on loss event, ssthresh is set to 1/2 of cwnd just before loss event
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150538081.png}
\caption{}
\end{figure}

3.114

Diffrent states

congestion avoidance

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150805404.png}
\caption{}
\end{figure}

Fast recoveryï¼š cwnd = ssthresh + 3

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150814575.png}
\caption{}
\end{figure}

3.115

Summary: TCP Congestion Control

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150834987.png}
\caption{}
\end{figure}

3.116

TCP throughput

avg. TCP thruput as function of window size, RTT?

\begin{itemize}
\item
  ignore slow start, assume always data to send
\end{itemize}

W: window size (measured in bytes) where loss occurs

\begin{itemize}
\item
  avg. window size (\# in-flight bytes) is Â¾ W
\item
  avg. thruput is 3/4W per RTT
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150843451.png}
\caption{}
\end{figure}

3.117

TCP Futures: TCP over ``long, fat pipes''

example: 1500 byte segments, 100ms RTT, want 10 Gbps throughput

requires W = 83,333 in-flight segments

throughput in terms of segment loss probability, L {[}Mathis 1997{]}:

\[TCP throughput = \frac{1.22Â·MSS}{RTT \sqrt{L}}\]

âœ to achieve 10 Gbps throughput, need a loss rate of L = 2Â·10-10 -- a
very small loss rate!

new versions of TCP for high-speed

3.118

TCP Fairness

fairness goal: if K TCP sessions share same bottleneck link of bandwidth
R, each should have average rate of R/K

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150905997.png}
\caption{}
\end{figure}

3.119

Why is TCP fair?

two competing sessions:

additive increase gives slope of 1, as throughout increases

multiplicative decrease decreases throughput proportionally

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210419150934176.png}
\caption{}
\end{figure}

3.120

Fairness (more)

Fairness and UDP

multimedia apps often do not use TCP

\begin{itemize}
\item
  do not want rate throttled by congestion control
\end{itemize}

instead use UDP:

\begin{itemize}
\item
  send audio/video at constant rate, tolerate packet loss
\end{itemize}

Fairness, parallel TCP connections

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  application can open multiple parallel connections between two hosts
\item
  web browsers do this
\item
  e.g., link of rate R with 9 existing connections:
\end{enumerate}

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    1 new app asks for 1 TCP, gets rate R/10
  \end{enumerate}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \item
    2 new app asks for 11 TCPs, gets R/2
  \end{enumerate}
\end{itemize}

\hypertarget{chapter-3-summary}{%
\subsection{Chapter 3: summary}\label{chapter-3-summary}}

\begin{itemize}
\item
  principles behind transport layer services:
\item
  \begin{itemize}
  \item
    multiplexing, demultiplexing
  \item
    reliable data transfer
  \item
    flow control
  \item
    congestion control
  \end{itemize}
\item
  instantiation, implementation in the Internet
\item
  \begin{itemize}
  \item
    UDP
  \item
    TCP
  \end{itemize}
\end{itemize}

next:

\begin{itemize}
\item
  leaving the network ``edge'' (application, transport layers)
\item
  into the network ``core''
\end{itemize}

\hypertarget{chapter-4-network-layer}{%
\section{Chapter 4 Network Layer}\label{chapter-4-network-layer}}

4.2

Chapter goal

understand principles behind network layer services:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  netwrok layer service models {[}ç½‘ç»œæœåŠ¡æ¨¡å‹{]}
\item
  forwarding versus routing {[}è½¬å‘è·¯ç”±é€‰æ‹©{]}
\item
  how a router workd {[}è·¯ç”±å™¨å·¥ä½œåŸç†{]}
\item
  routing ( path selection ) {[}è·¯ç”±é€‰æ‹©ç®—æ³•{]}
\item
  boradcast multicast {[}å¹¿æ’­å’Œå¤šæ’­{]}
\end{enumerate}

\hypertarget{44-ip-datagram-format}{%
\subsection{4.4 IP: Datagram Format}\label{44-ip-datagram-format}}

\begin{quote}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  datagram format {[}æ•°æ®æŠ¥æ ¼å¼{]}
\end{enumerate}

\begin{quote}
çº¦å®šçš„è§„çŸ© IP çš„åˆ†ç‰‡
ç‰‡åç§»æ˜¯0ï¼Œå‰é¢å‘äº†æ•°æ®ï¼Œç‰‡åç§»é‡æ€ä¹ˆè®¡ç®—ï¼Œåˆ†ç‰‡å’Œé‡ç»„{[}è¾¹ç¼˜ä¸»æœºå¤„ï¼Œå°½å¯èƒ½å‡å°‘è·¯ç”±å™¨çš„è´Ÿæ‹…{]}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  IPV4 addressing {[}Internet Protocol version 4 é€‰å€{]}
\end{enumerate}

\begin{quote}
ä»€ä¹ˆæ˜¯å­ç½‘ åœ°å€ä¿¡æ¯ è·¯ç”±èšåˆ æœ€é•¿å‰ç¼€åŒ¹é…
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  ICMP {[}Internet Control Message Protocol{]}
\end{enumerate}

\begin{quote}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  IPV6 {[}Internet Protocol version 6{]}
\end{enumerate}

4.33

\begin{quote}
è‚–äº‘ï¼šç½‘ç»œå±‚ä¸‰å¤§ç»„ä»¶
\end{quote}

host, router network layer functions:

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425081647742.png}
\caption{}
\end{figure}

\begin{quote}
ipv5 æ—¶é—´éå¸¸çŸ­ length é¦–éƒ¨é•¿åº¦ 20length +40options ï¼ˆ 0 - 60 bytes ï¼‰ï¼Œ
æœ€é•¿å¯ä»¥è¾¾åˆ°60bytes ï¼Ÿ 20 btes TTL time to live:
å¯¿å‘½ã€‚ä¸€ç›´åœ¨æ‰¾ä¸»æœºhostï¼Œ ä¼šé€ æˆèµ„æºæµªè´¹ï¼Œ è®¾ç½®æœ€å¤§çš„è·³æ•°ã€‚æ¯è¿‡ä¸€ä¸ªè·¯ç”±å™¨
- 1ï¼Œ åˆ°è¾¾æœ€å¤§è·³æ•°ä¸åœ¨å¾€å‰ä¼ äº†ã€‚ upper layer ä¸Šå±‚åè®®ï¼Œ 6æ˜¯UDP
\end{quote}

4.34

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425081847291.png}
\caption{}
\end{figure}

\begin{longtable}[]{@{}lllll@{}}
\toprule
& & & &\tabularnewline
\midrule
\endhead
& & & &\tabularnewline
& & & &\tabularnewline
& & & &\tabularnewline
& & & &\tabularnewline
& & & &\tabularnewline
& & & &\tabularnewline
\bottomrule
\end{longtable}

4.35

IP Fragmentation, reassembly {[} IP æ•°æ®æŠ¥åˆ†ç‰‡ {]}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  network lins have MTU ( maximum transfer size ) - largest possible
  link-level fram
\end{enumerate}

\begin{itemize}
\item
  different likn types, diffreent MTU
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Large IP datagram divided ( " fragmented" ) within net

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    one datagram becomes several datagrams
  \item
    "reassembled" only at final destination
  \item
    IP header bits used to identify, order related fragments
  \end{enumerate}
\end{enumerate}

4.36

IP fragmentation, reassembly {[} IP æ•°æ®æŠ¥åˆ†ç‰‡ {]}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425083926933.png}
\caption{}
\end{figure}

\hypertarget{44-ipipv4-addressing--ip-ux5730ux5740-}{%
\subsection{4.4 IP:IPv4 Addressing {[} IP åœ°å€
{]}}\label{44-ipipv4-addressing--ip-ux5730ux5740-}}

4.38

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  IP Address: 32-bit identifier for host, router interface
\item
  Interface: connection between host/router and physical link

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    router's typically have multiple interfaces
  \item
    host typically has one or two interfaces ( e.g., wired Ethernet,
    wireless 802.11 )
  \end{enumerate}
\item
  IP addresses associated with each interface
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425084550812.png}
\caption{}
\end{figure}

\begin{quote}
3ä¸ªè“è‰²é˜´å½± - 3ä¸ªå­ç½‘ ipv4 - 32bits \(2^{32}\) ipv6 - 40bits \(2^{40}\)
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425084600870.png}
\caption{}
\end{figure}

4.43

IP addressing: CIDR{[} \textbf{Classless Interdomain Routing}{]}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425100349596.png}
\caption{}
\end{figure}

4.44

IP addresses: how to get one?

Q: How does a \emph{host} get IP address?

\begin{itemize}
\item
  hard-coded by system admin in a file
\item
  \begin{itemize}
  \item
    Windows:
    control-panel-\textgreater network-\textgreater configuration-\textgreater tcp/ip-\textgreater properties
  \item
    UNIX: /etc/rc.config
  \end{itemize}
\item
  DHCP: Dynamic Host Configuration Protocol: dynamically get address
  from as server
\item
  \begin{itemize}
  \item
    ``plug-and-play''
  \end{itemize}
\end{itemize}

4.45

DHCP: Dynamic Host COnfiuration Protocol

\emph{goal:} allow host to \emph{dynamically} obtain its IP address from
network server when it joins network

\begin{itemize}
\item
  \begin{itemize}
  \item
    can renew its lease on address in use
  \item
    allows reuse of addresses (only hold address while connected/``on'')
  \item
    support for mobile users who want to join network (more shortly)
  \end{itemize}
\end{itemize}

\emph{DHCP overview:}

\begin{itemize}
\item
  \begin{itemize}
  \item
    host broadcasts ``DHCP discover'' msg {[}optional{]}
  \item
    DHCP server responds with ``DHCP offer'' msg {[}optional{]}
  \item
    host requests IP address: ``DHCP request'' msg
  \item
    DHCP server sends address: ``DHCP ack'' msg
  \end{itemize}
\end{itemize}

4.46

4.47

4.48

4.49

4.50

4.51

4.52

4.53

Hierarchical addressing: route aggregation

hierarchical addressing allows efficient advertisement of routing
information:

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425140610146.png}
\caption{}
\end{figure}

4.54

ISPs-R-Us has a more specific route to Organization 1

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425140635068.png}
\caption{}
\end{figure}

4.55

IP addressing: the last word...

\emph{Q:} how does an ISP get block of addresses?

\emph{A:} ICANN: Internet Corporation for Assigned

Names and Numbers \url{http://www.icann.org/}

\begin{itemize}
\item
  \begin{itemize}
  \item
    allocates addresses
  \item
    manages DNS
  \item
    assigns domain names, resolves disputes
  \end{itemize}
\end{itemize}

4.56

4.57

4.58

4.59

4.60

4.61

4.62

4.63

\hypertarget{44-ipicmp-ipv6}{%
\subsection{4.4 IP:ICMP, IPv6}\label{44-ipicmp-ipv6}}

\begin{quote}
è§£å†³IPä¸è¶³çš„é—®é¢˜ ç½‘ç»œåœ°å€è½¬æ¢ï¼šå€ŸåŠ©ç«¯å£å·ç»´æŠ¤ä»å†…åˆ°å¤–çš„æ˜ å°„ IPV6
\end{quote}

4.65

ICMP: internet control message protocol

used by hosts \& routers to communicate network-level information error
reporting: unreachable host, network, port, protocol echo request/reply
(used by ping) network-layer ``above'' IP: ICMP msgs carried in IP
datagrams ICMP message: type, code plus first 8 bytes of IP datagram
causing error

\begin{longtable}[]{@{}l@{}}
\toprule
Type Code description\tabularnewline
\midrule
\endhead
0 0 echo reply (ping)\tabularnewline
3 0 dest. network unreachable\tabularnewline
3 1 dest host unreachable\tabularnewline
3 2 dest protocol unreachable\tabularnewline
3 3 dest port unreachable\tabularnewline
3 6 dest network unknown\tabularnewline
3 7 dest host unknown\tabularnewline
4 0 source quench (congestion\tabularnewline
control - not used)\tabularnewline
\bottomrule
\end{longtable}

4.66 Traceroute and ICMP

\begin{itemize}
\item
  source sends series of UDP segments to dest
\item
  \begin{itemize}
  \item
    first set has TTL =1
  \item
    second set has TTL=2, etc.
  \item
    unlikely port number
  \end{itemize}
\item
  when \emph{n}th set of datagrams arrives to nth router:
\item
  \begin{itemize}
  \item
    router discards datagrams
  \item
    and sends source ICMP messages (type 11, code 0)
  \item
    ICMP messages includes name of router \& IP address
  \end{itemize}
\item
  when ICMP messages arrives, source records RTTs
\end{itemize}

\emph{stopping criteria:}

\begin{itemize}
\item
  UDP segment eventually arrives at destination host
\item
  destination returns ICMP ``port unreachable'' message (type 3, code 3)
\item
  source stops
\end{itemize}

4.67

IPV6: motivation {[}ç ”ç©¶åŠ¨æœº{]}

\begin{quote}
æ²¡æœ‰é¦–éƒ¨æ£€æŸ¥å’Œ
\end{quote}

initial motivation: 32-bit address space soon to be completely
allocated.

additional motivation:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  header format helps speed processing/forwarding
\item
  header changes to facilitate QoS
\end{enumerate}

IPv6 datagram format:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  fixed-length 40 byte header
\item
  no fragmentation allowed
\end{enumerate}

4.68

IPv6 datagram format

priority: identify priority among datagrams in flow

flow Label: identify datagrams in same ``flow.'' (concept of``flow'' not
well defined).

next header: identify upper layer protocol for data

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210425094707192.png}
\caption{}
\end{figure}

4.69

\begin{itemize}
\item
  \emph{checksum}: removed entirely to reduce processing time at each
  hop
\item
  \emph{options:} allowed, but outside of header, indicated by ``Next
  Header'' field
\item
  \emph{ICMPv6:} new version of ICMP
\item
  \begin{itemize}
  \item
    additional message types, e.g. ``Packet Too Big''
  \item
    multicast group management functions
  \end{itemize}
\end{itemize}

4.70

Transition from IPv4 to IPv6

\begin{quote}
å›ºå®šé•¿åº¦ï¼š 40bytes

\begin{verbatim}
	IPv6 æ•°æ®æŠ¥æ›´çŸ­ä¸€ç‚¹
\end{verbatim}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  not all routers can be upgraded simulateously

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    no flag days
  \item
    how will network operate with IPv4 to IPv6
  \end{enumerate}
\item
  tunelling: IPv6 datagram carried as payload in IPv4 datagram amoung
  IPv4 routers
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210426141352200.png}
\caption{}
\end{figure}

4.71

Tunneling

\begin{quote}
æŠŠæ•°æ®æŠ¥å°è£…ğŸ“¦ï¼Œç”šè‡³æ˜¯å€’ç€å°è£…åœ¨ä¸Šå±‚çš„
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210426141340392.png}
\caption{}
\end{figure}

4.72

Tunneling

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210426141539636.png}
\caption{}
\end{figure}

4.73

IPv6: adoption

\begin{itemize}
\item
  US National Institutes of Standards estimate {[}2013{]}:
\item
  \begin{itemize}
  \item
    \textasciitilde3\% of industry IP routers
  \item
    \textasciitilde11\% of US gov't routers
  \end{itemize}
\end{itemize}

\begin{itemize}
\item
  \emph{Long (long!) time for deployment, use}
\item
  \begin{itemize}
  \item
    20 years and counting!
  \item
    think of application-level changes in last 20 years: WWW, Facebook,
    \ldots{}
  \item
    \emph{Why?}
  \end{itemize}
\end{itemize}

\hypertarget{-45-routing-algorithms-link-state}{%
\subsection{â­ï¸ 4.5 Routing Algorithms: Link
State}\label{-45-routing-algorithms-link-state}}

\begin{quote}
ä¸è¦åœ¨ Dijkstra åˆ— DV çš„è¡¨ 2 ä¸ªç®—æ³•è¿­ä»£çš„å…¬å¼æ˜¯å”¯ä¸€çš„ä¾æ®
ç®€å•è®¡ç®—ï¼Œè€ƒå¯ŸåŸç†ç†è§£ï¼Œä¸æ˜¯è€ƒè®¡ç®—åŠŸåŠ›
\end{quote}

4.75

Interplay between routing, forwarding

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210426142026440.png}
\caption{}
\end{figure}

4.76

Graph abstraction

graph: G = (N,E)

N = set of routers = \{ u, v, w, x, y, z \}

E = set of links =\{ (u,v), (u,x), (v,x), (v,w), (x,w), (x,y), (w,y),
(w,z), (y,z) \}

4.78

\begin{quote}
\end{quote}

4.82

\begin{quote}
N' {[}èŠ‚ç‚¹é›†åˆï¼Œ ä¸æ˜¯è·¯å¾„{]}

\begin{quote}
æ¯ä¸ªç‚¹çš„é‚»è¿‘ä¸€ä¸ªè·¯å¾„
\end{quote}
\end{quote}

\begin{longtable}[]{@{}llllll@{}}
\toprule
N' {[}èŠ‚ç‚¹é›†åˆï¼Œ ä¸æ˜¯è·¯å¾„{]} & D(v) & D(w) & D(x) & D(y) &
D(z)\tabularnewline
\midrule
\endhead
\{ u \} & 7,u & \hl{3,u} & 5,u & \(\infty\) & \(\infty\)\tabularnewline
\{ uw \} ( 3, u ) & 6( 3+3 ) ,w & 3, u & 7( 3+4 ), w; \hl{\textbf{{[} 5,
u {]}}} \textless{} 7( 3+4 ), w & 11( 3+ 8 ), w &
\(\infty\)\tabularnewline
\{ uwx \} ( 5, u ) & \(\infty\); \hl{{[}6( 3+3 ) ,w{]}} \textless{}
\(\infty\) & 9 ( 5+4 ), x & 5, u & 12( 5 + 7 ), x; \hl{{[}11( 3+ 8 ),
w{]}} \textless{} 12( 5 + 7 ), x; & 14 ( 5+9 ), x\tabularnewline
& & & & &\tabularnewline
& & & & &\tabularnewline
& & & & &\tabularnewline
& & & & &\tabularnewline
& & & & &\tabularnewline
\bottomrule
\end{longtable}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210426150101598.png}
\caption{}
\end{figure}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  å‡†å¤‡å¼€å§‹
\end{enumerate}

\begin{longtable}[]{@{}llllll@{}}
\toprule
N' {[}èŠ‚ç‚¹é›†åˆï¼Œ ä¸æ˜¯è·¯å¾„{]} & D(v) & D(w) & D(x) & D(y) &
D(z)\tabularnewline
\midrule
\endhead
\(\infty\) & \(\infty\) & \(\infty\) & \(\infty\) & \(\infty\) &
\(\infty\)\tabularnewline
\bottomrule
\end{longtable}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  ç¬¬ä¸€ä¸ªèŠ‚ç‚¹é›†åˆçš„æœ€çŸ­è·¯è®¡ç®— ï¼ˆ é‚»è¿‘1ä¸ªèŠ‚ç‚¹ï¼Œé¡ºåºå¯ä»¥æ‰“ä¹±ï¼‰
\end{enumerate}

1.1 ç¬¬ä¸€ä¸ªèŠ‚ç‚¹é›†åˆçš„æœ€çŸ­è·¯æ¯”è¾ƒ ï¼ˆ é‚»è¿‘1ä¸ªèŠ‚ç‚¹ï¼Œé¡ºåºå¯ä»¥æ‰“ä¹±ï¼‰

1.2 ç¬¬ä¸€ä¸ªèŠ‚ç‚¹é›†åˆçš„æœ€çŸ­è·¯ç»“æœ ï¼ˆ é‚»è¿‘1ä¸ªèŠ‚ç‚¹ï¼Œé¡ºåºå¯ä»¥æ‰“ä¹±ï¼‰

1.2 ç¬¬ä¸€ä¸ªèŠ‚ç‚¹é›†åˆçš„æœ€çŸ­è·¯å»é™¤å·²ç»ç”¨çš„å€¼ ï¼ˆ é‚»è¿‘1ä¸ªèŠ‚ç‚¹ï¼Œé¡ºåºå¯ä»¥æ‰“ä¹±ï¼‰

\hypertarget{-45-routing-algorithms-distance-vector}{%
\subsection{â­ï¸ 4.5 Routing Algorithms: Distance
Vector}\label{-45-routing-algorithms-distance-vector}}

\begin{quote}
ä¹Ÿæ˜¯ä¸€ä¸ªæ›´æ–°çš„å…¬å¼ æœ‰åˆå§‹åŒ–çš„è¿‡ç¨‹ cost to èŠ‚ç‚¹çš„è´¹ç”¨ éé‚»å±…çš„æ˜¯ æ— ç©·å¤§âˆ
æ›´æ–°æ–¹å¼æ˜¯BFæ–¹ç¨‹
\end{quote}

\hypertarget{-45-routing-algorithmshiericial-rounting}{%
\subsection{â­ï¸ 4.5 Routing Algorithms:Hiericial
Rounting}\label{-45-routing-algorithmshiericial-rounting}}

\begin{quote}
æ”¶æ•›é€Ÿåº¦å¯¹æ¯” é²æ£’æ€§çš„å¯¹æ¯”ğŸ†š
\end{quote}

\hypertarget{46-routing-in-the-internet-riprouting-information-protocol}{%
\subsection{4.6 routing in the Internet: RIP(Routing Information
Protocol)}\label{46-routing-in-the-internet-riprouting-information-protocol}}

\hypertarget{46-ospfopen-shortest-path-first}{%
\subsection{4.6 OSPF(Open Shortest Path
First)}\label{46-ospfopen-shortest-path-first}}

\hypertarget{46-bgpborder-gateway-protocol}{%
\subsection{4.6 BGP(Border Gateway
Protocol)}\label{46-bgpborder-gateway-protocol}}

\hypertarget{47-broadcast-and-multicast-routing}{%
\subsection{4.7 broadcast and multicast
routing}\label{47-broadcast-and-multicast-routing}}

\begin{quote}
ç”Ÿæˆæ ‘ï¼Œ æ²¡æœ‰ç¯è·¯ å¹¿æ’­ğŸ“¢ï¼Œ å¤šæ’­
\end{quote}

\hypertarget{chapter-5-link-layer}{%
\section{Chapter 5 Link Layer}\label{chapter-5-link-layer}}

\begin{quote}
è®¡ç®—CRCæ ¡éªŒç  å’Œmod2è¿ç®—
\end{quote}

\hypertarget{53-multiple-access-protocols}{%
\subsection{5.3 Multiple Access
Protocols}\label{53-multiple-access-protocols}}

5.19

Given: boradcast channel of rate R bps

desiderate

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  {[}æ•ˆç‡, æœ‰æ•ˆæ€§{]} one note, R
\item
  {[}å…¬å¹³{]} M nodes, R/M
\item
  {[}åˆ†å¸ƒå¼, å®Œå…¨åˆ†æ•£{]} Fully decentralizedï¼Œ

  \begin{quote}
  å‡»é¼“ä¼ èŠ±ğŸ¥ï¼Œ æ²¡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„èŠ‚ç‚¹åè°ƒä¼ è¾“ï¼Œæ²¡æœ‰åŒæ­¥

  â“ éåŒæ­¥çš„ ç”µè·¯ æœ‰å—
  \end{quote}

  \begin{enumerate}
  \def\labelenumii{\arabic{enumii}.}
  \item
    no special node to coordineate transmissions
  \item
    no synchronization of clocks, slots
  \end{enumerate}
\item
  {[}ç®€å•æ€§{]} Simple
\end{enumerate}

5.20

5.21

TDMA: time division multiple access

\begin{quote}
\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œæ²¡æ³•å…¨é€Ÿä¼ è¾“
\item
  å…¬å¹³æ€§æ»¡è¶³
\item
  é«˜åº¦åˆ†æ•£
\item
  å¾ˆç®€å•
\end{enumerate}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  access to channel in "rounds"
\item
  each station gets fixed length slot
\item
  unused slots go idle
\item
  example: 6-station LAN, 1, 3, 4 have pkt, slots 2,5,6 idle
\end{enumerate}

5.22

FDMA: frequency division multiple access

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  channel spectrum divided into frequency bands
\item
  each station assigned fixed frequency band
\item
  unused transmission time in frequency bands go idle
\item
  example:
\end{enumerate}

5.23

\begin{quote}
èµ„æºåˆ’åˆ†ç±»çš„åè®® èµ„æºä¸åˆ’åˆ†: éšæœºè®¿é—®ç±»çš„åè®®
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  {[}é‡ä¼ {]} two or more transmitting nods - collision
\item
  {[}åˆ¤æ–­æœ‰æ— ä¼ å®Œ{]}
\item
  {[}ç¢°æ’é¿å…çš„{]}
\end{enumerate}

5.24

Slotted ALOHA{[}å¤å¨å¤·æ‰“æ‹›å‘¼ï¼Œæƒ³å‘å°±å‘{]}

\begin{quote}
ä¸æ»¡è¶³å®Œå…¨åˆ†æ•£ è¿½æ±‚æ•ˆç‡ï¼Œå¯¼è‡´åˆ†æ•£æ€§é™ä½
\end{quote}

5.25 C: ç¢°æ’æ—¶æœŸ E: ç©ºé—²æ—¶æœŸ S: æˆåŠŸæ—¶æœŸ

5.26 Slotted ALOHA efficiency: long-run fraction of successful
slots(many nodes, all with many frames to send)

5.27 Pure (unslotted) ALOHA

\begin{quote}
äº§ç”Ÿå†²çªçš„æ¦‚ç‡å¢åŠ äº† ä¸åˆ’åˆ†æ—¶æœŸï¼Œ å®Œå…¨åˆ†æ•£ï¼Œè¿½æ±‚åˆ†æ•£æ€§ï¼Œå¯¼è‡´æ•ˆç‡é™ä½
\end{quote}

5.29 CSMA(carier sense multiple access){[}è½½æ³¢ä¾¦å¬{]}

listen before transimic

5.30

collisions can still occur:

propagation delay means two nodes may not hear each other's transmission

5.31 CSMA/CD {[} ç¢°æ’æ£€æµ‹ çš„ è½½æ³¢ä¾¦å¬ {]}

\begin{quote}
å¿…é¡»æŒæ¡ è½½æ³¢ä¾¦å¬ï¼Œçœ‹çœ‹å¯¹æ–¹æœ‰æ²¡æœ‰åœ¨å‘é€ CDæ˜¯å› ä¸ºCSMAè¿˜æ˜¯ğŸˆ¶ï¸ç¢°æ’
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  {[}ç¢°æ’æ£€æµ‹{]} collisions detecte d within short time
\item
  {[}colliding transmissions aborted, reducing channel wastage
\end{enumerate}

1.1

\begin{quote}
æœ‰çº¿: æ£€æµ‹ä¿¡å·å¼ºåº¦
\end{quote}

1.2

\begin{quote}
æ— çº¿: åœ¨æ— çº¿ä¸­ä¿¡å·è¡°å‡ï¼Œä¸€è¾¹å‘å¾ˆéš¾ä¸€è¾¹æ£€æµ‹
\end{quote}

2.1 human analogy: the polite conversationalist

\begin{quote}
\end{quote}

5.32

\begin{quote}
å……åˆ†è®©å…¶ä»–èŠ‚ç‚¹çŸ¥é“æ•°æ®frameäº§ç”Ÿæ•…éšœ collision detect/abort time
\end{quote}

5.33

Ethernet CSMA/CD algorithm

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  {[}Mæ¬¡ç¢°æ’åï¼Œæ€ä¹ˆå»é€‰æ‹©ç¢°æ’çš„æ—¶é—´{]} after aborting, NIC enters
  binary ( exponential) backoff:
\end{enumerate}

\begin{quote}
0-5152 å»é€‰æ‹©ç­‰å¾…æ—¶é—´ï¼Œ å›é€€åˆ°ç¬¬2æ­¥ï¼Œ
ç¢°æ’æ—¶é—´å¤šï¼Œå¯é€‰æ—¶é—´å¤šäº†ï¼Œé€‰æ‹©æ—¶é—´çŸ­çš„å…ˆå‘ï¼Œ é•¿çš„åå‘ã€‚ç›®çš„æ˜¯é¿å…å†²çªã€‚
\end{quote}

\begin{itemize}
\item
  after mth collision, NIC chooses K at random from \{ 0, 1, 2, ...,
  \( 2^m - 1 \)\}. NIC waits K 512 bit times, returns to Step 2.
\item
\end{itemize}

5.34

CSMA/CD efficiency

\[efficiency = \frac{1}{1+\frac{5t_{prop}}{t_{trans}}}\]

\begin{quote}
ä¸€ä¸ªèŠ‚ç‚¹åšäº†è½½æ³¢ä¾¦å¬åä¼ è¾“ä¸€ä¸ªæ— é™å¤§çš„æ¯”ç‰¹ï¼Œ\(t_{trans}\) æ— é™å¤§ï¼Œæ•ˆç‡==
1
\end{quote}

5.35

random access MAC protocols

\begin{itemize}
\item
  high load: collision overhead
\end{itemize}

\begin{quote}
ç¢°æ’è´Ÿæ‹…å°±å¾ˆå¤§
\end{quote}

5.36

polling {[}è½®å¾ªåè®®{]}

\begin{quote}
master è½®æµè¯¢é—®ï¼Œå‘ poll æŠ¥æ–‡ é«˜è´Ÿå€ºï¼Œä½è´Ÿè½½æ•ˆç‡éƒ½å¾ˆå¥½
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  master node ``invites'' slave nodes to transmit in turn
\item
\end{enumerate}

5.37

token

\begin{quote}
çŸ­çš„æŠ¥æ–‡ï¼Œ ä»¤ç‰Œç¯
\end{quote}

5.38

\begin{quote}
ä¸åŒé¢‘æ®µä¼ è¾“ï¼Œåˆ’åˆ†æ—¶æœŸ
\end{quote}

5.40

\begin{quote}
channel partitioning
\end{quote}

\hypertarget{54-lan-addressing-arp}{%
\subsection{5.4 LAN: Addressing, ARP}\label{54-lan-addressing-arp}}

\begin{quote}
ARP å­ç½‘ï¼Œå±€åŸŸç½‘å†…éƒ¨è¿›è¡ŒæŸ¥è¯¢
\end{quote}

\hypertarget{54-lan-ethernet}{%
\subsection{5.4 LAN: Ethernet}\label{54-lan-ethernet}}

\hypertarget{54-lan-switches}{%
\subsection{5.4 LAN: Switches}\label{54-lan-switches}}

\begin{quote}
è½¬å‘ è¿‡æ»¤ è‡ªå­¦ä¹  - å³æ’å³ç”¨ æ˜¯æ€ä¹ˆè‡ªå­¦ä¹ çš„
\end{quote}

\hypertarget{54-lan-vlans}{%
\subsection{5.4 LAN: VLANS}\label{54-lan-vlans}}

\begin{quote}
åŸºäºç«¯å£çš„ å¤šä¸ªäº¤æ¢æœºï¼Œå¹²çº¿é“¾æ¥èµ·æ¥ MACï¼ŒIPï¼Œ ç½‘ç»œå±‚çš„åè®®
\end{quote}

\hypertarget{55-link-virtualization-mpls}{%
\subsection{5.5 link virtualization:
MPLS}\label{55-link-virtualization-mpls}}

\begin{quote}
å¤šåè®®æ ‡ç­¾äº¤æ¢ MPS é¦–éƒ¨ï¼Œåˆ†è¾¨æ•°æ®ï¼Œå†³å®šè·¯å¾„
\end{quote}

\hypertarget{56-data-center-networking}{%
\subsection{5.6 data center
networking}\label{56-data-center-networking}}

\begin{quote}
å±‚æ¬¡æ¶æ„ è´Ÿè½½å‡è¡¡å™¨
\end{quote}

\hypertarget{57-a-day-in-the-life-of-a-web-request}{%
\subsection{5.7 a day in the life of a web
request}\label{57-a-day-in-the-life-of-a-web-request}}

\begin{quote}
æŠŠå„å±‚åè®®ä¸²äº†ä¸€é
\end{quote}

\hypertarget{--discussion-problem-57-a-day-in-the-life-of-a-web-request}{%
\subsection{â­ï¸ {[} Discussion Problem {]}5.7 a day in the life of a web
request}\label{--discussion-problem-57-a-day-in-the-life-of-a-web-request}}

5.88

\emph{Synthesis:} a day in the life of a web request

\begin{itemize}
\item
  journey down protocol stack complete!
\item
  \begin{itemize}
  \item
    application, transport, network, link
  \end{itemize}
\item
  putting-it-all-together: synthesis!
\item
  \begin{itemize}
  \item
    \emph{goal:} identify, review, understand protocols (at all layers)
    involved in seemingly simple scenario: requesting www page
  \item
    \emph{scenario:} student attaches laptop to campus network,
    requests/receives \url{www.google.com}
  \end{itemize}
\end{itemize}

5.89

A day in the life: scenario

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265.assets/image-20210519082048097.png}
\caption{}
\end{figure}

\hypertarget{ce265-chapter-6-wireless-mobility}{%
\section{CE265 Chapter 6 Wireless
Mobility}\label{ce265-chapter-6-wireless-mobility}}

\begin{quote}
æˆ‘ç°åœ¨çš„è¦æ±‚å‘¢

å°±æ˜¯å¾ˆç®€å•

ç”µå­ç¬”è®°æ¯ä¸ªéƒ½è¦æœ‰æ‰¹æ³¨ï¼Œæ–¹ä¾¿è¿›è¡Œç†è§£å’Œæ ¡å‡†ï¼Œ

åŒæ—¶å…ˆè¿‡ä¸€éä¸­æ–‡ä¹¦ï¼Œå†è¿‡ä¸€éè‹±æ–‡ä¹¦ï¼Œé€šè¯»ï¼Œskimï¼Œä¸æ±‚ç”šè§£

skimming çš„åŒæ—¶è¡¥å……ä»¥mdä¸­çš„ç¬”è®°ï¼Œç”¨æ¥åº”å¯¹ieltsçš„å¤‡è€ƒ

åŒæ—¶ç”¨ä»¥è¯æ˜è‡ªå·±çš„ç†è§£
\end{quote}

6.2

\emph{Background:}

\begin{itemize}
\item
  \# wireless (mobile) phone subscribers now exceeds \# wired phone
  subscribers (5-to-1)!
\item
  \# wireless Internet-connected devices equals \# wireline
  Internet-connected devices
\item
  \begin{itemize}
  \item
    laptops, Internet-enabled phones promise anytime untethered Internet
    access
  \end{itemize}
\item
  two important (but different) challenges
\item
  \begin{itemize}
  \item
    \emph{wireless:} communication over wireless link
  \item
    \emph{mobility:} handling the mobile user who changes point of
    attachment to network
  \end{itemize}
\end{itemize}

\hypertarget{61-introduction}{%
\subsection{\texorpdfstring{6.1 Introduction
}{6.1 Introduction }}\label{61-introduction}}

6.4 Elements of a wireless network

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524143620389.png}
\caption{}
\end{figure}

6.5 wireless hosts

wireless hosts

\begin{itemize}
\item
  laptop, smartphone
\item
  run applications
\item
  may be stationary (non-mobile) or mobile
\item
  \begin{itemize}
  \item
    wireless does \emph{not} always mean mobility
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524143847124.png}
\caption{}
\end{figure}

6.6 base station

base station

\begin{itemize}
\item
  typically connected to wired network
\item
  relay - responsible for sending packets between wired network and
  wireless host(s) in its ``area''
\item
  \begin{itemize}
  \item
    e.g., cell towers, 802.11 access points
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524144127010.png}
\caption{}
\end{figure}

6.7 wireless link

wireless link

\begin{itemize}
\item
  typically used to connect mobile(s) to base station
\item
  also used as backbone link
\item
  multiple access protocol coordinates link access
\item
  various data rates, transmission distance
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524144150637.png}
\caption{}
\end{figure}

6.8 Characteristics of selected wireless links

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524144211481.png}
\caption{}
\end{figure}

6.9 infrastructure mode

infrastructure mode

\begin{itemize}
\item
  base station connects mobiles into wired network
\item
  handoff: mobile changes base station providing connection into wired
  network
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524144256823.png}
\caption{}
\end{figure}

6.10 ad hoc mode

ad hoc mode(ç‚¹å¯¹ç‚¹)

\begin{quote}
ad hoc( for this, for this purpose only ),

ä¸ºæŸç§ç›®çš„è®¾ç½®çš„

çœå»ap base stations
\end{quote}

\begin{itemize}
\item
  no base stations
\item
  nodes can only transmit to other nodes within link coverage
\item
  nodes organize themselves into a network: route among themselves
\end{itemize}

\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524151915634.png}

6.11 Wireless network taxonomy{[}åˆ†ç±»{]}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524152231876.png}
\caption{}
\end{figure}

\hypertarget{62-wireless-links-characteristics--cdma}{%
\subsection{6.2 Wireless links, characteristics,
CDMA}\label{62-wireless-links-characteristics--cdma}}

6.13 Wireless Link Characteristics (1)

\begin{quote}
è¡°å‡çš„ä¿¡å·å¼ºåº¦

æ¥è‡ªå…¶ä»–ä¿¡å·æºçš„å¹²æ‰°

å¤šè·¯ä¼ æ’­ğŸ“£
\end{quote}

\emph{important} differences from wired link \ldots.

\begin{itemize}
\item
  \begin{itemize}
  \item
    \emph{decreased signal strength:} radio signal attenuates as it
    propagates through matter (path loss)
  \item
    \emph{interference from other sources:} standardized wireless
    network frequencies (e.g., 2.4 GHz) shared by other devices (e.g.,
    phone); devices (motors) interfere as well
  \item
    \emph{multipath propagation:} radio signal reflects off objects
    ground, arriving ad destination at slightly different times
  \end{itemize}
\end{itemize}

\ldots. make communication across (even a point to point) wireless link
much more ``difficult''

6.14 Wireless Link Characteristics (2)

\begin{quote}
SNR (Signal to Noise)
\end{quote}

\begin{itemize}
\item
  SNR: signal-to-noise ratio
\item
  \begin{itemize}
  \item
    larger SNR -- easier to extract signal from noise (a ``good thing'')
  \end{itemize}
\item
  \emph{SNR versus BER tradeoffs}
\item
  \begin{itemize}
  \item
    \emph{given physical layer:} increase power -\textgreater{} increase
    SNR-\textgreater decrease BER
  \item
    \emph{given SNR:} choose physical layer that meets BER requirement,
    giving highest thruput
  \item
    \begin{itemize}
    \item
      SNR may change with mobility: dynamically adapt physical layer
      (modulation technique, rate)
    \end{itemize}
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210525000058641.png}
\caption{}
\end{figure}

6.15 Wireless network characteristics

Multiple wireless senders and receivers create additional problems
(beyond multiple access):

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210525000137324.png}
\caption{}
\end{figure}

\emph{Hidden terminal problem}

\begin{itemize}
\item
  B, A hear each other
\item
  B, C hear each other
\item
  A, C can not hear each other means A, C unaware of their interference
  at B
\end{itemize}

\emph{Signal attenuation:}

\begin{itemize}
\item
  B, A hear each other
\item
  B, C hear each other
\item
  A, C can not hear each other interfering at B
\end{itemize}

6.16 Code Division Multiple Access (CDMA)

\begin{itemize}
\item
  unique ``code'' assigned to each user; i.e., code set partitioning
\item
  \begin{itemize}
  \item
    all users share same frequency, but each user has own ``chipping''
    sequence (i.e., code) to encode data
  \item
    allows multiple users to ``coexist'' and transmit simultaneously
    with minimal interference (if codes are ``orthogonal'')
  \end{itemize}
\item
  \emph{encoded signal} = (original data) X (chipping sequence)
\item
  \emph{decoding:} inner-product of encoded signal and chipping sequence
\end{itemize}

6.17 CDMA encode/decode

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210525000223673.png}
\caption{}
\end{figure}

6.18 CDMA: two-sender interference

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210525000245731.png}
\caption{}
\end{figure}

\hypertarget{63-ieee-80211-wireless-lans-wi-fi}{%
\subsection{6.3 IEEE 802.11 wireless LANs
(``Wi-Fi'')}\label{63-ieee-80211-wireless-lans-wi-fi}}

6.20 IEEE 802.11 Wireless LAN

\begin{quote}
åŒºåˆ†äº† IEEE 802.11 å°å­—æ¯åç¼€çš„ä¸€äº›Wi-Fié¢‘æ®µï¼Œè®°å¿†ä¸ºä¸»

802.11b 2.4-5GHz

\begin{quote}
DSSS (direct sequence spread spectrum)
\end{quote}
\end{quote}

802.11b

\begin{itemize}
\item
  â–2.4-5 GHz unlicensed spectrum
\item
  â–up to 11 Mbps
\item
  â–direct sequence spread spectrum (DSSS) in physical layer
\item
  \begin{itemize}
  \item
    all hosts use same chipping code
  \end{itemize}
\end{itemize}

802.11a

\begin{itemize}
\item
  \begin{itemize}
  \item
    5-6 GHz range
  \item
    up to 54 Mbps
  \end{itemize}
\end{itemize}

802.11g

\begin{itemize}
\item
  \begin{itemize}
  \item
    2.4-5 GHz range
  \item
    up to 54 Mbps
  \end{itemize}
\end{itemize}

802.11n: multiple antennae

\begin{itemize}
\item
  \begin{itemize}
  \item
    2.4-5 GHz range
  \item
    up to 200 Mbps
  \end{itemize}
\item
  all use CSMA/CA for multiple access
\item
  all have base-station and ad-hoc network versions
\end{itemize}

6.21 802.11 LAN architecture

\begin{itemize}
\item
  wireless host communicates with base station
\item
  \begin{itemize}
  \item
    base station = access point (AP)
  \end{itemize}
\item
  Basic Service Set (BSS) (aka ``cell'') in infrastructure mode
  contains:
\item
  \begin{itemize}
  \item
    wireless hosts
  \item
    access point (AP): base station
  \item
    ad hoc mode: hosts only
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524234846093.png}
\caption{}
\end{figure}

6.22 802.11: Channels, association

\begin{itemize}
\item
  802.11b: 2.4GHz-2.485GHz spectrum divided into 11 channels at
  different frequencies
\item
  \begin{itemize}
  \item
    AP admin chooses frequency for AP
  \item
    interference possible: channel can be same as that chosen by
    neighboring AP!
  \end{itemize}
\item
  host: must \emph{associate} with an AP
\item
  \begin{itemize}
  \item
    scans channels, listening for \emph{beacon frames} containing AP's
    name (SSID) and MAC address
  \item
    selects AP to associate with
  \item
    may perform authentication {[}Chapter 8{]}
  \item
    will typically run DHCP to get IP address in AP's subnet
  \end{itemize}
\end{itemize}

6.23 802.11: passive/active scanning

\emph{passive scanning:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  beacon frames sent from APs
\item
  association Request frame sent: H1 to selected AP
\item
  association Response frame sent from selected AP to H1
\end{enumerate}

\emph{active scanning}:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Probe Request frame broadcast from H1
\item
  Probe Response frames sent from APs
\item
  Association Request frame sent: H1 to selected AP
\item
  Association Response frame sent from selected AP to H1
\end{enumerate}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524234936378.png}
\caption{}
\end{figure}

6.24 IEEE 802.11: multiple access

\begin{itemize}
\item
  avoid collisions: 2+ nodes transmitting at same time
\item
  802.11: CSMA - sense before transmitting
\item
  \begin{itemize}
  \item
    don't collide with ongoing transmission by other node
  \end{itemize}
\item
  802.11: \emph{no} collision detection!
\item
  \begin{itemize}
  \item
    difficult to receive (sense collisions) when transmitting due to
    weak received signals (fading)
  \item
    can't sense all collisions in any case: hidden terminal, fading
  \item
    goal: \emph{avoid collisions**:} CSMA/C(ollision)A(voidance)
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524235015379.png}
\caption{}
\end{figure}

6.25

IEEE 802.11 MAC Protocol: CSMA/CA

\begin{quote}
CSMAè½½æ³¢ä¾¦å¬

ä¸åšç¢°æ’çš„æ£€æµ‹
\end{quote}

802.11 sender

1 if sense channel idle for DIFD then transmit entire frame

2 if senes channel busy then

2.1 start random backoff time

2.2 timer counts down while channel idle

2.3 transmit when timer expires

802.11 receiver

if frame received OK

return ACK after SIFS (ACK needed due to hidden terminal problem)

\begin{quote}
ä¸€æ¬¡æ€§ä¼ æ•´ä¸ªæ•°æ®frame

SIFSï¼Œ çŠ¶æ€åˆ‡æ¢ï¼Œ ä»å¬è½¬ä¸ºå‘

åŸºç¡€æ¨¡å¼ï¼Œæœ‰å¯èƒ½ç¢°æ’ğŸ’¥
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524141744378.png}
\caption{}
\end{figure}

6.26

\begin{quote}
é¢„çº¦æ¨¡å¼

åˆ©ç”¨é¢„çº¦çš„èŠ‚ç‚¹ä¼ è¾“æ•°æ®frame

é¿å…é•¿æ•°æ®ç¢°æ’ğŸ’¥

RTS (Request to send) è¿™äº›è¯·æ±‚frameæ˜¯å¾ˆçŸ­çš„ï¼Œå¼€é”€æ˜¯å¯ä»¥å¿çš„

CTS(Clear to send) æ˜¯ åŸºç«™å‘å‡ºçš„ï¼Œ åˆ©ç”¨å¹¿æ’­çš„ä¿¡é“å‘é€çš„

CTSå…¶ä»–èŠ‚ç‚¹ä¼šè¢«å‘ŠçŸ¥ï¼Œå»¶è¿Ÿå‘é€RTS
\end{quote}

Avoiding collisions (more)

\emph{idea:} allow sender to ``reserve'' channel rather than random
access of data frames: avoid collisions of long data frames

\begin{itemize}
\item
  sender first transmits \emph{small} request-to-send (RTS) packets to
  BS using CSMA
\item
  \begin{itemize}
  \item
    RTSs may still collide with each other (but they're short)
  \end{itemize}
\item
  BS broadcasts clear-to-send CTS in response to RTS
\item
  CTS heard by all nodes
\item
  \begin{itemize}
  \item
    sender transmits data frame
  \item
    other stations defer transmissions
  \end{itemize}
\end{itemize}

\emph{avoid data frame collisions completely} \emph{using small
reservation packets!}

6.27

Collision Avoidance: RTS-CTS exchange

\begin{quote}
RTS å‘é€

Bï¼Œ CTS å“åº”

æ”¶åˆ°æ•°æ®åï¼ŒBï¼Œå‘ACK

â“ ä¸ºä»€ä¹ˆæ˜¯æŠ˜çš„ï¼Œä¸æ˜¯åªæœ‰Bå‘CTS(clear to send), ACK å—

å¤§ï¼Œé•¿çš„æ•°æ®DATA, å‘ä¸€ä¸ªå°çš„RTSé¢„çº¦æ¨¡å¼è¿˜æ˜¯åˆ’ç®—çš„
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524142225180.png}
\caption{}
\end{figure}

\begin{quote}
å››ä¸ªèŠ‚ç‚¹
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/5151621837595_.pic_hd.jpg}
\caption{}
\end{figure}

6.28

802.11 frame: addressing

\begin{quote}
å°‘ä¸äº†çš„æ˜¯ payload å’Œ CRC

payload: åŒ…å«ä¸Šå±‚åè®®ï¼Œé€šå¸¸é•¿åº¦æ˜¯1500å­—èŠ‚ï¼Œ

frame control ç±»å‹ï¼Œå­ç±»å‹ï¼ŒRTS, CTS, DATA, ACK

åœ°å€1 ç›®çš„åœ°å€

åœ°å€ 2 æºåœ°å€ï¼Œ

åœ°å€3 è·¯ç”±å™¨MACåœ°å€ï¼Œè·¨è¶Šä¸åŒå­ç½‘

åœ°å€4 ad hoc åœ°å€
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524142701839.png}
\caption{}
\end{figure}

Address 1: MAC(media access control){[}åª’ä½“å­˜å–æ§åˆ¶{]} address of
wireless host or AP to \hl{receive} this frame

\begin{quote}
\end{quote}

Address 2: MAC(media access control){[}åª’ä½“å­˜å–æ§åˆ¶{]} address of
wireless host or AP to \hl{transmitting} this frame

6.29 802.11 frame: addressing

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524144708521.png}
\caption{}
\end{figure}

6.30 802.11 frame: more

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524144642736.png}
\caption{}
\end{figure}

6.31 802.11: mobility within same subnet

\begin{quote}
åªæœ‰ä¸€å°äº¤æ¢æœºè¿æ¥ï¼Œä½äºä¸€ä¸ªå­ç½‘

ç§»åŠ¨æ—¶ä½äºä¸€ä¸ªå­ç½‘ï¼ŒIPä¸å˜ï¼Œå¯æŒç»­å‘é€æ•°æ®

ä¸»æœºæ¢æµ‹åˆ°AP2ä¿¡å·ğŸ“¶å¼ºï¼Œäº§ç”Ÿå…³è”
\end{quote}

802.11: mobility within same subnet

\begin{itemize}
\item
  H1 remains in same IP subnet: IP address can remain same
\item
  switch: which AP is associated with H1?
\item
  \begin{itemize}
  \item
    self-learning (Ch. 5): switch will see frame from H1 and
    ``remember'' which switch port can be used to reach H1
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524144510672.png}
\caption{}
\end{figure}

6.32 802.11: advanced capabilities

\begin{quote}
é€Ÿç‡è‡ªé€‚åº”

æ‹¥å¡æ§åˆ¶
\end{quote}

802.11: advanced capabilities

\emph{Rate adaptation}

\begin{itemize}
\item
  base station, mobile dynamically change transmission rate (physical
  layer modulation technique) as mobile moves, SNR(ä¿¡é“æ¯”) varies
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524145022829.png}
\caption{}
\end{figure}

\textbackslash1. SNR decreases, BER increase as node moves away from
base station

\textbackslash2. When BER becomes too high, switch to lower transmission
rate but with lower BER

6.33 802.11: advanced capabilities

\emph{power management}

\begin{quote}
AP æ¸…æ¥šå“ªäº›æ˜¯ä¼‘çœ çŠ¶æ€ï¼Œå°±ä¸ä¼ è¾“æ•°æ®äº†

250 å¾®ç§’ï¼Œ èŠ‚ç‚¹èŠ‚çœè‡ªå·±çš„èƒ½æº

æ²¡æœ‰frameè¦å‘é€å’Œæ¥å—çš„99\%å¤„äºç¡çœ ğŸ’¤çŠ¶æ€, éå¸¸èŠ‚çœèƒ½æº
\end{quote}

\begin{itemize}
\item
  node-to-AP(Access Point){[}æ¥å…¥ç‚¹{]}: ``I am going to sleep until next
  beacon{[}ä¿¡å·ç¯ğŸš¥{]} frame''
\item
  \begin{itemize}
  \item
    AP knows not to transmit frames to this node
  \item
    node wakes up before next beacon frame
  \end{itemize}
\item
  beacon frame: contains list of mobiles with AP-to-mobile frames
  waiting to be sent
\item
  \begin{itemize}
  \item
    node will stay awake if AP-to-mobile frames to be sent; otherwise
    sleep again until next beacon frame
  \end{itemize}
\end{itemize}

6.34 802.15: personal area network

\begin{quote}
å°èŒƒå›´ç”¨äº 802.15
\end{quote}

\begin{itemize}
\item
  less than 10 m diameter
\item
  replacement for cables (mouse, keyboard, headphones)
\item
  ad hoc: no infrastructure
\item
  master/slaves:
\item
  \begin{itemize}
  \item
    slaves request permission to send (to master)
  \item
    master grants requests
  \end{itemize}
\item
  802.15: evolved from Bluetooth specification
\item
  \begin{itemize}
  \item
    2.4-2.5 GHz radio band
  \item
    up to 721 kbps
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524150543095.png}
\caption{}
\end{figure}

\hypertarget{64-cellular-internet-access}{%
\subsection{6.4 Cellular Internet
access}\label{64-cellular-internet-access}}

6.36 Components of cellular network architecture

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524233808196.png}
\caption{}
\end{figure}

6.37 Cellular networks: the first hop

Two techniques for sharing mobile-to-BS radio spectrum

\begin{itemize}
\item
  combined FDMA/TDMA: divide spectrum in frequency channels, divide each
  channel into time slots
\item
  CDMA: code division multiple access
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524233842589.png}
\caption{}
\end{figure}

6.38 2G (voice) network architecture

\begin{quote}
BTS( Base Transceiver station )

BSC( Base Station Controler )

MSC( Mobile Switching Center )
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524233905363.png}
\caption{}
\end{figure}

6.39 3G (voice+data) network architecture

\emph{Key insight:} new cellular data network operates \emph{in
parallel} (except at edge) with existing cellular voice network

\begin{itemize}
\item
  â– voice network unchanged in core
\item
  â– data network operates in parallel
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524234223035.png}
\caption{}
\end{figure}

6.40 3G (voice+data) network architecture

\begin{quote}
å°„é¢‘

æ ¸å¿ƒç½‘

å…¬ä¼—ç½‘ç»œ
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524234258370.png}
\caption{}
\end{figure}

\hypertarget{65-mobility-principles-addressing-and-routing-to-mobile-users}{%
\subsection{6.5 {[}Mobility{]} Principles: addressing and routing to
mobile
users}\label{65-mobility-principles-addressing-and-routing-to-mobile-users}}

6.42 What is mobility?

\begin{itemize}
\item
  spectrum{[}å…‰è°±{]} of mobility{[}ç§»åŠ¨æ€§{]}, from the \emph{network}
  perspective:
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524151539918.png}
\caption{}
\end{figure}

6.43 Mobility: vocabulary

\begin{quote}
Home network{[}å®¶ä¹¡ç½‘ç»œ{]}, æ°¸ä¹…å›ºå®šçš„

Home agent{[}å®¶ä¹¡ä»£ç†{]}, å…ˆè½¬åˆ°ä»£ç†è·¯ç”±å™¨ä¸Š
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524151659147.png}
\caption{}
\end{figure}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Home network{[}å®¶ä¹¡ç½‘ç»œ{]} \emph{home network:} permanent ``home'' of
  mobile

  (e.g., 128.119.40/24)
\item
  \emph{home agent:} \emph{entity that will perform mobility functions
  on behalf of mobile, when mobile is remote}
\item
  \emph{permanent address:} address in home network, \emph{can always}
  be used to reach mobile. e.g., 128.119.40.186
\end{enumerate}

6.46 Mobility: approaches

\begin{quote}
è·¯ç”±å™¨å·¥ä½œé‡å¤§ï¼Œéœ€è¦çŸ¥é“å„ä¸ªç§»åŠ¨ç”¨æˆ·æ‰€åœ¨çš„ä½ç½®ï¼ŒèŠ‚ç‚¹

ç½‘ç»œçš„è®¾è®¡ï¼šè¾¹ç¼˜æ˜¯å¤æ‚çš„ï¼Œæ ¸å¿ƒæ˜¯ç®€å•çš„

æ— è®ºç›´æ¥è·¯ç”±ï¼Œè¿˜æ˜¯é—´æ¥è·¯ç”±ï¼Œ è¿™ç§è¿åäº†è®¾è®¡
\end{quote}

\begin{itemize}
\item
  ğŸš« \emph{let routing handle it:} routers advertise permanent address of
  mobile-nodes-in-residence via usual routing table exchange.
\item
  \begin{itemize}
  \item
    routing tables indicate where each mobile located
  \item
    no changes to end-systems
  \end{itemize}
\item
  \emph{let end-systems handle it:}
\item
  \begin{itemize}
  \item
    \emph{indirect routing:} communication from correspondent to mobile
    goes through home agent, then forwarded to remote
  \item
    \emph{direct routing:} correspondent gets foreign address of mobile,
    sends directly to mobile
  \end{itemize}
\end{itemize}

6.47 not scalable to millions of mobiles

not scalable to millions of mobiles

6.48 Mobility: registration

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524153159195.png}
\caption{}
\end{figure}

end result:

\begin{itemize}
\item
  foreign agent knows about mobile
\item
  home agent knows location of mobile
\end{itemize}

6.49 Mobility via indirect routing

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524153632669.png}
\caption{}
\end{figure}

6.50 Indirect Routing: comments

\begin{quote}
ä¸‰è§’ç½‘ç»œ

å¤–éƒ¨ä»£ç†å‘ŠçŸ¥å®¶ä¹¡ç½‘ç»œ
\end{quote}

\begin{itemize}
\item
  mobile uses two addresses:
\item
  \begin{itemize}
  \item
    permanent address: used by correspondent (hence mobile location is
    \emph{transparent} to correspondent)
  \item
    care-of-address: used by home agent to forward datagrams to mobile
  \end{itemize}
\item
  foreign agent functions may be done by mobile itself
\item
  triangle routing: correspondent-home-network-mobile
\item
  \begin{itemize}
  \item
    inefficient when
  \end{itemize}
\end{itemize}

correspondent, mobile are in same network

6.51 Indirect routing: moving between networks

\begin{quote}
è®°ä½å®¶ä¹¡ç½‘ç»œçš„ip

é—´æ¥è·¯ç”±é€‰æ‹©æœ‰ä¸€å®šé€æ˜æ€§
\end{quote}

\begin{itemize}
\item
  suppose mobile user moves to another network
\item
  \begin{itemize}
  \item
    registers with new foreign agent
  \item
    new foreign agent registers with home agent
  \item
    home agent update care-of-address for mobile
  \item
    packets continue to be forwarded to mobile (but with new
    care-of-address)
  \end{itemize}
\item
  mobility, changing foreign networks transparent: \emph{on going
  connections can be maintained!}
\end{itemize}

6.52 Mobility via direct routing

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524153936425.png}
\caption{}
\end{figure}

6.53 Mobility via direct routing: comments

\begin{quote}
å…‹æœä¸‰è§’è·¯ç”±

ä½†ä¸é€æ˜
\end{quote}

\begin{itemize}
\item
  overcome triangle routing problem
\item
  \emph{non-transparent to correspondent:} correspondent must get
  care-of-address from home agent
\item
  \begin{itemize}
  \item
    what if mobile changes visited network?
  \end{itemize}
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524154207470.png}
\caption{}
\end{figure}

6.54 Accommodating mobility with direct routing

\begin{quote}
é”šâš“ï¸çš„å¤–éƒ¨ä»£ç†

:ä¸ºä»€ä¹ˆè¦æœ‰é”šâš“ï¸
\end{quote}

\begin{itemize}
\item
  anchor foreign agent: FA in first visited network
\item
  data always routed first to anchor FA
\item
  when mobile moves: new FA arranges to have data forwarded from old FA
  (chaining)
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524154229149.png}
\caption{}
\end{figure}

\hypertarget{66-mobile-ip}{%
\subsection{6.6 Mobile IP}\label{66-mobile-ip}}

6.56 Mobile IP

\begin{itemize}
\item
  RFC 3344
\item
  has many features we've seen:
\item
  \begin{itemize}
  \item
    home agents, foreign agents, foreign-agent registration,
    care-of-addresses, encapsulation (packet-within-a-packet)
  \end{itemize}
\item
  three components to standard:
\item
  \begin{itemize}
  \item
    indirect routing of datagrams
  \item
    agent discovery
  \item
    registration with home agent
  \end{itemize}
\end{itemize}

6.57 Mobile IP: indirect routing

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524234413387.png}
\caption{}
\end{figure}

6.58 Mobile IP: agent discovery

\begin{itemize}
\item
  \emph{agent advertisement:} foreign/home agents advertise service by
  broadcasting ICMP messages (typefield = 9)
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524234503078.png}
\caption{}
\end{figure}

6.59 Mobile IP: registration example

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524234517228.png}
\caption{}
\end{figure}

\hypertarget{67-handling-mobility-in-cellular-networks}{%
\subsection{6.7 Handling mobility in cellular
networks}\label{67-handling-mobility-in-cellular-networks}}

6.60 Components of cellular network architecture

\begin{quote}
èœ‚çªç½‘ç»œï¼Œ ä¹Ÿæ˜¯æ¥è‡ªæ—©æœŸçš„ç”µä¿¡ç½‘ç»œ
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524154546838.png}
\caption{}
\end{figure}

6.61 Handling mobility in cellular networks

\begin{itemize}
\item
  \emph{home network}: network of cellular provider you subscribe to
  (e.g., Sprint PCS, Verizon)
\item
  \begin{itemize}
  \item
    \emph{home location register (HLR):} database in home network
    containing permanent cell phone \#, profile information (services,
    preferences, billing), information about current location (could be
    in another network)
  \end{itemize}
\item
  \emph{visited network:} network in which mobile currently resides
\item
  \begin{itemize}
  \item
    \emph{visitor location register (VLR):} database with entry for each
    user currently in network
  \item
    could be home network
  \end{itemize}
\end{itemize}

\hypertarget{68-mobility-and-higher-layer-protocols}{%
\subsection{6.8 Mobility and higher-layer
protocols}\label{68-mobility-and-higher-layer-protocols}}

6.62 GSM: indirect routing to mobile

\begin{quote}
HLR (Home Location Register)

VLR (Visitor Location Register)

MSC (Mobile Switching Center)
\end{quote}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524233419012.png}
\caption{}
\end{figure}

6.63 GSM: handoff with common MSC

\begin{itemize}
\item
  \emph{handoff goal:} route call via new base station (without
  interruption)
\item
  reasons for handoff:
\item
  \begin{itemize}
  \item
    stronger signal to/from new BSS (continuing connectivity, less
    battery drain)
  \item
    load balance: free up channel in current BSS
  \item
    GSM doesnt mandate why to perform handoff (policy), only how
    (mechanism)
  \end{itemize}
\item
  handoff initiated by old BSS
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524233431912.png}
\caption{}
\end{figure}

6.64 GSM: handoff with common MSC

\textbackslash1. old BSS informs MSC of impending handoff, provides list
of 1+ new BSSs

\textbackslash2. MSC sets up path (allocates resources) to new BSS

\textbackslash3. new BSS allocates radio channel for use by mobile

\textbackslash4. new BSS signals MSC, old BSS: ready

\textbackslash5. old BSS tells mobile: perform handoff to new BSS

\textbackslash6. mobile, new BSS signal to activate new channel

\textbackslash7. mobile signals via new BSS to MSC: handoff complete.
MSC reroutes call

8 MSC-old-BSS resources released

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524233501261.png}
\caption{}
\end{figure}

6.65 GSM: handoff between MSCs

\begin{itemize}
\item
  \emph{anchor MSC:} first MSC visited during call
\item
  \begin{itemize}
  \item
    call remains routed through anchor MSC
  \end{itemize}
\item
  new MSCs add on to end of MSC chain as mobile moves to new MSC
\item
  optional path minimization step to shorten multi-MSC chain
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524233521664.png}
\caption{}
\end{figure}

6.66 GSM: handoff between MSCs

\begin{itemize}
\item
  \emph{anchor MSC:} first MSC visited during call
\item
  \begin{itemize}
  \item
    call remains routed through anchor MSC
  \end{itemize}
\item
  new MSCs add on to end of MSC chain as mobile moves to new MSC
\item
  optional path minimization step to shorten multi-MSC chain
\end{itemize}

\begin{figure}
\centering
\includegraphics{/Users/whichway/workspace/E_ESSEX/CE265/MD/CE265 Chapter 6.assets/image-20210524233548387.png}
\caption{}
\end{figure}

6.67 Mobility: GSM versus Mobile IP

\begin{longtable}[]{@{}lll@{}}
\toprule
\textbf{GSM element} & \textbf{Comment on GSM element} & \textbf{Mobile
IP element}\tabularnewline
\midrule
\endhead
\textbf{Home system} & Network to which mobile user's permanent phone
number belongs & \textbf{Home network}\tabularnewline
\textbf{Gateway Mobile Switching Center, or ``home MSC''. Home Location
Register (HLR)} & Home MSC: point of contact to obtain routable address
of mobile user. HLR: database in home system containing permanent phone
number, profile information, current location of mobile user,
subscription information & \textbf{Home agent}\tabularnewline
\textbf{Visited System} & Network other than home system where mobile
user is currently residing & \textbf{Visited network}\tabularnewline
\textbf{Visited Mobile services Switching Center.} \textbf{Visitor
Location Record (VLR)} & Visited MSC: responsible for setting up calls
to/from mobile nodes in cells associated with MSC. VLR: temporary
database entry in visited system, containing subscription information
for each visiting mobile user & \textbf{Foreign agent}\tabularnewline
\textbf{Mobile Station Roaming Number (MSRN), or ``roaming number''} &
Routable address for telephone call segment between home MSC and visited
MSC, visible to neither the mobile nor the correspondent. &
\textbf{Care-of-address}\tabularnewline
\bottomrule
\end{longtable}

6.68 Wireless, mobility: impact on higher layer protocols

\begin{itemize}
\item
  logically, impact \emph{should} be minimal \ldots{}
\item
  \begin{itemize}
  \item
    best effort service model remains unchanged
  \item
    TCP and UDP can (and do) run over wireless, mobile
  \end{itemize}
\item
  \ldots{} but performance-wise:
\item
  \begin{itemize}
  \item
    packet loss/delay due to bit-errors (discarded packets, delays for
    link-layer retransmissions), and handoff
  \item
    TCP interprets loss as congestion, will decrease congestion window
    un-necessarily
  \item
    delay impairments for real-time traffic
  \item
    limited bandwidth of wireless links
  \end{itemize}
\end{itemize}

\hypertarget{69-summary}{%
\subsection{6.9 Summary}\label{69-summary}}

\emph{Wireless}

\begin{itemize}
\item
  wireless links:
\item
  \begin{itemize}
  \item
    capacity, distance
  \item
    channel impairments
  \item
    CDMA
  \end{itemize}
\item
  IEEE 802.11 (``Wi-Fi'')
\item
  \begin{itemize}
  \item
    CSMA/CA reflects wireless channel characteristics
  \end{itemize}
\item
  cellular access
\item
  \begin{itemize}
  \item
    architecture
  \item
    standards (e.g., GSM, 3G, 4G LTE)
  \end{itemize}
\end{itemize}

\emph{Mobility}

\begin{itemize}
\item
  principles: addressing, routing to mobile users
\item
  \begin{itemize}
  \item
    home, visited networks
  \item
    direct, indirect routing
  \item
    care-of-addresses
  \end{itemize}
\item
  case studies
\item
  \begin{itemize}
  \item
    mobile IP
  \item
    mobility in GSM
  \end{itemize}
\item
  impact on higher-layer protocols
\end{itemize}

\end{document}
